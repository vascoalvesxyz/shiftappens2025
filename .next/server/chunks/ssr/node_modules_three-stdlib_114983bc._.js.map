{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"EventDispatcher.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/EventDispatcher.ts"],"sourcesContent":["/*\nDue to @types/three r168 breaking change\nwe have to manually copy the EventDispatcher class from three.js.\nSo this files merges the declarations from https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/three/src/core/EventDispatcher.d.ts\nwith the implementation from https://github.com/mrdoob/three.js/blob/dev/src/core/EventDispatcher.js\nMore info in https://github.com/pmndrs/three-stdlib/issues/387\n*/\n\n/**\n * The minimal basic Event that can be dispatched by a {@link EventDispatcher<>}.\n */\nexport interface BaseEvent<TEventType extends string = string> {\n    readonly type: TEventType;\n    // not defined in @types/three\n    target: any;\n}\n\n/**\n * The minimal expected contract of a fired Event that was dispatched by a {@link EventDispatcher<>}.\n */\nexport interface Event<TEventType extends string = string, TTarget = unknown> {\n    readonly type: TEventType;\n    readonly target: TTarget;\n}\n\nexport type EventListener<TEventData, TEventType extends string, TTarget> = (\n    event: TEventData & Event<TEventType, TTarget>,\n) => void;\n\nexport class EventDispatcher<TEventMap extends {} = {}> {\n    // not defined in @types/three\n    private _listeners: any;\n\n    /**\n     * Adds a listener to an event type.\n     * @param type The type of event to listen to.\n     * @param listener The function that gets called when the event is fired.\n     */\n\taddEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): void {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\t/**\n     * Checks if listener is added to an event type.\n     * @param type The type of event to listen to.\n     * @param listener The function that gets called when the event is fired.\n     */\n    hasEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): boolean {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\t/**\n     * Removes a listener from an event type.\n     * @param type The type of the listener that gets removed.\n     * @param listener The listener function that gets removed.\n     */\n    removeEventListener<T extends Extract<keyof TEventMap, string>>(\n        type: T,\n        listener: EventListener<TEventMap[T], T, this>,\n    ): void {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n     * Fire an event type.\n     * @param event The event that gets fired.\n     */\n    dispatchEvent<T extends Extract<keyof TEventMap, string>>(event: BaseEvent<T> & TEventMap[T]): void {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}"],"names":[],"mappings":";;;;;;;;;;;;;;AA6BO,MAAM,gBAA2C;IAAjD,aAAA;QAEK,8BAAA;QAAA,cAAA,IAAA,EAAA;IAAA;IAAA;;;;GAAA,GAOX,iBACO,IAAA,EACA,QAAA,EACI;QAEV,IAAK,IAAA,CAAK,UAAA,KAAe,KAAA,GAAY,IAAA,CAAK,UAAA,GAAa,CAAA;QAEvD,MAAM,YAAY,IAAA,CAAK,UAAA;QAElB,IAAA,SAAA,CAAW,IAAK,CAAA,KAAM,KAAA,GAAY;YAE3B,SAAA,CAAA,IAAK,CAAA,GAAI,EAAA;QAErB;QAEA,IAAK,SAAA,CAAW,IAAK,CAAA,CAAE,OAAA,CAAS,QAAS,MAAM,CAAA,GAAM;YAEzC,SAAA,CAAA,IAAK,CAAA,CAAE,IAAA,CAAM,QAAS;QAElC;IAED;IAAA;;;;MAAA,GAOG,iBACI,IAAA,EACA,QAAA,EACO;QAEb,IAAK,IAAA,CAAK,UAAA,KAAe,KAAA,GAAmB,OAAA;QAE5C,MAAM,YAAY,IAAA,CAAK,UAAA;QAEhB,OAAA,SAAA,CAAW,IAAK,CAAA,KAAM,KAAA,KAAa,SAAA,CAAW,IAAK,CAAA,CAAE,OAAA,CAAS,QAAS,MAAM,CAAA;IAErF;IAAA;;;;MAAA,GAOG,oBACI,IAAA,EACA,QAAA,EACI;QAEV,IAAK,IAAA,CAAK,UAAA,KAAe,KAAA,GAAY;QAErC,MAAM,YAAY,IAAA,CAAK,UAAA;QACjB,MAAA,gBAAgB,SAAA,CAAW,IAAK,CAAA;QAEtC,IAAK,kBAAkB,KAAA,GAAY;YAE5B,MAAA,QAAQ,cAAc,OAAA,CAAS,QAAS;YAE9C,IAAK,UAAU,CAAA,GAAM;gBAEN,cAAA,MAAA,CAAQ,OAAO,CAAE;YAEhC;QAED;IAED;IAAA;;;MAAA,GAMG,cAA0D,KAAA,EAA0C;QAEtG,IAAK,IAAA,CAAK,UAAA,KAAe,KAAA,GAAY;QAErC,MAAM,YAAY,IAAA,CAAK,UAAA;QACjB,MAAA,gBAAgB,SAAA,CAAW,MAAM,IAAK,CAAA;QAE5C,IAAK,kBAAkB,KAAA,GAAY;YAElC,MAAM,MAAA,GAAS,IAAA;YAGT,MAAA,QAAQ,cAAc,KAAA,CAAO,CAAE;YAErC,IAAA,IAAU,IAAI,GAAG,IAAI,MAAM,MAAA,EAAQ,IAAI,GAAG,IAAO;gBAEhD,KAAA,CAAO,CAAE,CAAA,CAAE,IAAA,CAAM,IAAA,EAAM,KAAM;YAE9B;YAEA,MAAM,MAAA,GAAS;QAEhB;IAED;AAED","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"file":"OrbitControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/OrbitControls.ts"],"sourcesContent":["import {\n  Matrix4,\n  MOUSE,\n  OrthographicCamera,\n  PerspectiveCamera,\n  Quaternion,\n  Spherical,\n  TOUCH,\n  Vector2,\n  Vector3,\n  Ray,\n  Plane,\n} from 'three'\nimport { EventDispatcher } from './EventDispatcher'\nimport { StandardControlsEventMap } from './StandardControlsEventMap'\n\nconst _ray = /* @__PURE__ */ new Ray()\nconst _plane = /* @__PURE__ */ new Plane()\nconst TILT_LIMIT = Math.cos(70 * (Math.PI / 180))\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst moduloWrapAround = (offset: number, capacity: number) => ((offset % capacity) + capacity) % capacity\n\nclass OrbitControls extends EventDispatcher<StandardControlsEventMap> {\n  object: PerspectiveCamera | OrthographicCamera\n  domElement: HTMLElement | undefined\n  // Set to false to disable this control\n  enabled = true\n  // \"target\" sets the location of focus, where the object orbits around\n  target = new Vector3()\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  minDistance = 0\n  maxDistance = Infinity\n  // How far you can zoom in and out ( OrthographicCamera only )\n  minZoom = 0\n  maxZoom = Infinity\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  minPolarAngle = 0 // radians\n  maxPolarAngle = Math.PI // radians\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n  minAzimuthAngle = -Infinity // radians\n  maxAzimuthAngle = Infinity // radians\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  enableDamping = false\n  dampingFactor = 0.05\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  enableZoom = true\n  zoomSpeed = 1.0\n  // Set to false to disable rotating\n  enableRotate = true\n  rotateSpeed = 1.0\n  // Set to false to disable panning\n  enablePan = true\n  panSpeed = 1.0\n  screenSpacePanning = true // if false, pan orthogonal to world-space direction camera.up\n  keyPanSpeed = 7.0 // pixels moved per arrow key push\n  zoomToCursor = false\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  autoRotate = false\n  autoRotateSpeed = 2.0 // 30 seconds per orbit when fps is 60\n  reverseOrbit = false // true if you want to reverse the orbit to mouse drag from left to right = orbits left\n  reverseHorizontalOrbit = false // true if you want to reverse the horizontal orbit direction\n  reverseVerticalOrbit = false // true if you want to reverse the vertical orbit direction\n  // The four arrow keys\n  keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' }\n  // Mouse buttons\n  mouseButtons: Partial<{\n    LEFT: MOUSE\n    MIDDLE: MOUSE\n    RIGHT: MOUSE\n  }> = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.DOLLY,\n    RIGHT: MOUSE.PAN,\n  }\n  // Touch fingers\n  touches: Partial<{\n    ONE: TOUCH\n    TWO: TOUCH\n  }> = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN }\n  target0: Vector3\n  position0: Vector3\n  zoom0: number\n  // the target DOM element for key events\n  _domElementKeyEvents: any = null\n\n  getPolarAngle: () => number\n  getAzimuthalAngle: () => number\n  setPolarAngle: (x: number) => void\n  setAzimuthalAngle: (x: number) => void\n  getDistance: () => number\n  // Not used in most scenarios, however they can be useful for specific use cases\n  getZoomScale: () => number\n\n  listenToKeyEvents: (domElement: HTMLElement) => void\n  stopListenToKeyEvents: () => void\n  saveState: () => void\n  reset: () => void\n  update: () => void\n  connect: (domElement: HTMLElement) => void\n  dispose: () => void\n\n  // Dolly in programmatically\n  dollyIn: (dollyScale?: number) => void\n  // Dolly out programmatically\n  dollyOut: (dollyScale?: number) => void\n  // Get the current scale\n  getScale: () => number\n  // Set the current scale (these are not used in most scenarios, however they can be useful for specific use cases)\n  setScale: (newScale: number) => void\n\n  constructor(object: PerspectiveCamera | OrthographicCamera, domElement?: HTMLElement) {\n    super()\n\n    this.object = object\n    this.domElement = domElement\n\n    // for reset\n    this.target0 = this.target.clone()\n    this.position0 = this.object.position.clone()\n    this.zoom0 = this.object.zoom\n\n    //\n    // public methods\n    //\n\n    this.getPolarAngle = (): number => spherical.phi\n\n    this.getAzimuthalAngle = (): number => spherical.theta\n\n    this.setPolarAngle = (value: number): void => {\n      // use modulo wrapping to safeguard value\n      let phi = moduloWrapAround(value, 2 * Math.PI)\n      let currentPhi = spherical.phi\n\n      // convert to the equivalent shortest angle\n      if (currentPhi < 0) currentPhi += 2 * Math.PI\n      if (phi < 0) phi += 2 * Math.PI\n      let phiDist = Math.abs(phi - currentPhi)\n      if (2 * Math.PI - phiDist < phiDist) {\n        if (phi < currentPhi) {\n          phi += 2 * Math.PI\n        } else {\n          currentPhi += 2 * Math.PI\n        }\n      }\n      sphericalDelta.phi = phi - currentPhi\n      scope.update()\n    }\n\n    this.setAzimuthalAngle = (value: number): void => {\n      // use modulo wrapping to safeguard value\n      let theta = moduloWrapAround(value, 2 * Math.PI)\n      let currentTheta = spherical.theta\n\n      // convert to the equivalent shortest angle\n      if (currentTheta < 0) currentTheta += 2 * Math.PI\n      if (theta < 0) theta += 2 * Math.PI\n      let thetaDist = Math.abs(theta - currentTheta)\n      if (2 * Math.PI - thetaDist < thetaDist) {\n        if (theta < currentTheta) {\n          theta += 2 * Math.PI\n        } else {\n          currentTheta += 2 * Math.PI\n        }\n      }\n      sphericalDelta.theta = theta - currentTheta\n      scope.update()\n    }\n\n    this.getDistance = (): number => scope.object.position.distanceTo(scope.target)\n\n    this.listenToKeyEvents = (domElement: HTMLElement): void => {\n      domElement.addEventListener('keydown', onKeyDown)\n      this._domElementKeyEvents = domElement\n    }\n\n    this.stopListenToKeyEvents = (): void => {\n      this._domElementKeyEvents.removeEventListener('keydown', onKeyDown)\n      this._domElementKeyEvents = null\n    }\n\n    this.saveState = (): void => {\n      scope.target0.copy(scope.target)\n      scope.position0.copy(scope.object.position)\n      scope.zoom0 = scope.object.zoom\n    }\n\n    this.reset = (): void => {\n      scope.target.copy(scope.target0)\n      scope.object.position.copy(scope.position0)\n      scope.object.zoom = scope.zoom0\n      scope.object.updateProjectionMatrix()\n\n      // @ts-ignore\n      scope.dispatchEvent(changeEvent)\n\n      scope.update()\n\n      state = STATE.NONE\n    }\n\n    // this method is exposed, but perhaps it would be better if we can make it private...\n    this.update = ((): (() => void) => {\n      const offset = new Vector3()\n      const up = new Vector3(0, 1, 0)\n\n      // so camera.up is the orbit axis\n      const quat = new Quaternion().setFromUnitVectors(object.up, up)\n      const quatInverse = quat.clone().invert()\n\n      const lastPosition = new Vector3()\n      const lastQuaternion = new Quaternion()\n\n      const twoPI = 2 * Math.PI\n\n      return function update(): boolean {\n        const position = scope.object.position\n\n        // update new up direction\n        quat.setFromUnitVectors(object.up, up)\n        quatInverse.copy(quat).invert()\n\n        offset.copy(position).sub(scope.target)\n\n        // rotate offset to \"y-axis-is-up\" space\n        offset.applyQuaternion(quat)\n\n        // angle from z-axis around y-axis\n        spherical.setFromVector3(offset)\n\n        if (scope.autoRotate && state === STATE.NONE) {\n          rotateLeft(getAutoRotationAngle())\n        }\n\n        if (scope.enableDamping) {\n          spherical.theta += sphericalDelta.theta * scope.dampingFactor\n          spherical.phi += sphericalDelta.phi * scope.dampingFactor\n        } else {\n          spherical.theta += sphericalDelta.theta\n          spherical.phi += sphericalDelta.phi\n        }\n\n        // restrict theta to be between desired limits\n\n        let min = scope.minAzimuthAngle\n        let max = scope.maxAzimuthAngle\n\n        if (isFinite(min) && isFinite(max)) {\n          if (min < -Math.PI) min += twoPI\n          else if (min > Math.PI) min -= twoPI\n\n          if (max < -Math.PI) max += twoPI\n          else if (max > Math.PI) max -= twoPI\n\n          if (min <= max) {\n            spherical.theta = Math.max(min, Math.min(max, spherical.theta))\n          } else {\n            spherical.theta =\n              spherical.theta > (min + max) / 2 ? Math.max(min, spherical.theta) : Math.min(max, spherical.theta)\n          }\n        }\n\n        // restrict phi to be between desired limits\n        spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi))\n        spherical.makeSafe()\n\n        // move target to panned location\n\n        if (scope.enableDamping === true) {\n          scope.target.addScaledVector(panOffset, scope.dampingFactor)\n        } else {\n          scope.target.add(panOffset)\n        }\n\n        // adjust the camera position based on zoom only if we're not zooming to the cursor or if it's an ortho camera\n        // we adjust zoom later in these cases\n        if ((scope.zoomToCursor && performCursorZoom) || (scope.object as OrthographicCamera).isOrthographicCamera) {\n          spherical.radius = clampDistance(spherical.radius)\n        } else {\n          spherical.radius = clampDistance(spherical.radius * scale)\n        }\n\n        offset.setFromSpherical(spherical)\n\n        // rotate offset back to \"camera-up-vector-is-up\" space\n        offset.applyQuaternion(quatInverse)\n\n        position.copy(scope.target).add(offset)\n\n        if (!scope.object.matrixAutoUpdate) scope.object.updateMatrix()\n        scope.object.lookAt(scope.target)\n\n        if (scope.enableDamping === true) {\n          sphericalDelta.theta *= 1 - scope.dampingFactor\n          sphericalDelta.phi *= 1 - scope.dampingFactor\n\n          panOffset.multiplyScalar(1 - scope.dampingFactor)\n        } else {\n          sphericalDelta.set(0, 0, 0)\n\n          panOffset.set(0, 0, 0)\n        }\n\n        // adjust camera position\n        let zoomChanged = false\n        if (scope.zoomToCursor && performCursorZoom) {\n          let newRadius = null\n          if (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n            // move the camera down the pointer ray\n            // this method avoids floating point error\n            const prevRadius = offset.length()\n            newRadius = clampDistance(prevRadius * scale)\n\n            const radiusDelta = prevRadius - newRadius\n            scope.object.position.addScaledVector(dollyDirection, radiusDelta)\n            scope.object.updateMatrixWorld()\n          } else if ((scope.object as OrthographicCamera).isOrthographicCamera) {\n            // adjust the ortho camera position based on zoom changes\n            const mouseBefore = new Vector3(mouse.x, mouse.y, 0)\n            mouseBefore.unproject(scope.object)\n\n            scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / scale))\n            scope.object.updateProjectionMatrix()\n            zoomChanged = true\n\n            const mouseAfter = new Vector3(mouse.x, mouse.y, 0)\n            mouseAfter.unproject(scope.object)\n\n            scope.object.position.sub(mouseAfter).add(mouseBefore)\n            scope.object.updateMatrixWorld()\n\n            newRadius = offset.length()\n          } else {\n            console.warn('WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled.')\n            scope.zoomToCursor = false\n          }\n\n          // handle the placement of the target\n          if (newRadius !== null) {\n            if (scope.screenSpacePanning) {\n              // position the orbit target in front of the new camera position\n              scope.target\n                .set(0, 0, -1)\n                .transformDirection(scope.object.matrix)\n                .multiplyScalar(newRadius)\n                .add(scope.object.position)\n            } else {\n              // get the ray and translation plane to compute target\n              _ray.origin.copy(scope.object.position)\n              _ray.direction.set(0, 0, -1).transformDirection(scope.object.matrix)\n\n              // if the camera is 20 degrees above the horizon then don't adjust the focus target to avoid\n              // extremely large values\n              if (Math.abs(scope.object.up.dot(_ray.direction)) < TILT_LIMIT) {\n                object.lookAt(scope.target)\n              } else {\n                _plane.setFromNormalAndCoplanarPoint(scope.object.up, scope.target)\n                _ray.intersectPlane(_plane, scope.target)\n              }\n            }\n          }\n        } else if (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          zoomChanged = scale !== 1\n\n          if (zoomChanged) {\n            scope.object.zoom = Math.max(scope.minZoom, Math.min(scope.maxZoom, scope.object.zoom / scale))\n            scope.object.updateProjectionMatrix()\n          }\n        }\n\n        scale = 1\n        performCursorZoom = false\n\n        // update condition is:\n        // min(camera displacement, camera rotation in radians)^2 > EPS\n        // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n        if (\n          zoomChanged ||\n          lastPosition.distanceToSquared(scope.object.position) > EPS ||\n          8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS\n        ) {\n          // @ts-ignore\n          scope.dispatchEvent(changeEvent)\n\n          lastPosition.copy(scope.object.position)\n          lastQuaternion.copy(scope.object.quaternion)\n          zoomChanged = false\n\n          return true\n        }\n\n        return false\n      }\n    })()\n\n    // https://github.com/mrdoob/three.js/issues/20575\n    this.connect = (domElement: HTMLElement): void => {\n      scope.domElement = domElement\n      // disables touch scroll\n      // touch-action needs to be defined for pointer events to work on mobile\n      // https://stackoverflow.com/a/48254578\n      scope.domElement.style.touchAction = 'none'\n      scope.domElement.addEventListener('contextmenu', onContextMenu)\n      scope.domElement.addEventListener('pointerdown', onPointerDown)\n      scope.domElement.addEventListener('pointercancel', onPointerUp)\n      scope.domElement.addEventListener('wheel', onMouseWheel)\n    }\n\n    this.dispose = (): void => {\n      // Enabling touch scroll\n      if (scope.domElement) {\n        scope.domElement.style.touchAction = 'auto'\n      }\n      scope.domElement?.removeEventListener('contextmenu', onContextMenu)\n      scope.domElement?.removeEventListener('pointerdown', onPointerDown)\n      scope.domElement?.removeEventListener('pointercancel', onPointerUp)\n      scope.domElement?.removeEventListener('wheel', onMouseWheel)\n      scope.domElement?.ownerDocument.removeEventListener('pointermove', onPointerMove)\n      scope.domElement?.ownerDocument.removeEventListener('pointerup', onPointerUp)\n      if (scope._domElementKeyEvents !== null) {\n        scope._domElementKeyEvents.removeEventListener('keydown', onKeyDown)\n      }\n      //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n    }\n\n    //\n    // internals\n    //\n\n    const scope = this\n\n    const changeEvent = { type: 'change' }\n    const startEvent = { type: 'start' }\n    const endEvent = { type: 'end' }\n\n    const STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      DOLLY: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_PAN: 4,\n      TOUCH_DOLLY_PAN: 5,\n      TOUCH_DOLLY_ROTATE: 6,\n    }\n\n    let state = STATE.NONE\n\n    const EPS = 0.000001\n\n    // current position in spherical coordinates\n    const spherical = new Spherical()\n    const sphericalDelta = new Spherical()\n\n    let scale = 1\n    const panOffset = new Vector3()\n\n    const rotateStart = new Vector2()\n    const rotateEnd = new Vector2()\n    const rotateDelta = new Vector2()\n\n    const panStart = new Vector2()\n    const panEnd = new Vector2()\n    const panDelta = new Vector2()\n\n    const dollyStart = new Vector2()\n    const dollyEnd = new Vector2()\n    const dollyDelta = new Vector2()\n\n    const dollyDirection = new Vector3()\n    const mouse = new Vector2()\n    let performCursorZoom = false\n\n    const pointers: PointerEvent[] = []\n    const pointerPositions: { [key: string]: Vector2 } = {}\n\n    function getAutoRotationAngle(): number {\n      return ((2 * Math.PI) / 60 / 60) * scope.autoRotateSpeed\n    }\n\n    function getZoomScale(): number {\n      return Math.pow(0.95, scope.zoomSpeed)\n    }\n\n    function rotateLeft(angle: number): void {\n      if (scope.reverseOrbit || scope.reverseHorizontalOrbit) {\n        sphericalDelta.theta += angle\n      } else {\n        sphericalDelta.theta -= angle\n      }\n    }\n\n    function rotateUp(angle: number): void {\n      if (scope.reverseOrbit || scope.reverseVerticalOrbit) {\n        sphericalDelta.phi += angle\n      } else {\n        sphericalDelta.phi -= angle\n      }\n    }\n\n    const panLeft = (() => {\n      const v = new Vector3()\n\n      return function panLeft(distance: number, objectMatrix: Matrix4) {\n        v.setFromMatrixColumn(objectMatrix, 0) // get X column of objectMatrix\n        v.multiplyScalar(-distance)\n\n        panOffset.add(v)\n      }\n    })()\n\n    const panUp = (() => {\n      const v = new Vector3()\n\n      return function panUp(distance: number, objectMatrix: Matrix4) {\n        if (scope.screenSpacePanning === true) {\n          v.setFromMatrixColumn(objectMatrix, 1)\n        } else {\n          v.setFromMatrixColumn(objectMatrix, 0)\n          v.crossVectors(scope.object.up, v)\n        }\n\n        v.multiplyScalar(distance)\n\n        panOffset.add(v)\n      }\n    })()\n\n    // deltaX and deltaY are in pixels; right and down are positive\n    const pan = (() => {\n      const offset = new Vector3()\n\n      return function pan(deltaX: number, deltaY: number) {\n        const element = scope.domElement\n\n        if (element && scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) {\n          // perspective\n          const position = scope.object.position\n          offset.copy(position).sub(scope.target)\n          let targetDistance = offset.length()\n\n          // half of the fov is center to top of screen\n          targetDistance *= Math.tan(((scope.object.fov / 2) * Math.PI) / 180.0)\n\n          // we use only clientHeight here so aspect ratio does not distort speed\n          panLeft((2 * deltaX * targetDistance) / element.clientHeight, scope.object.matrix)\n          panUp((2 * deltaY * targetDistance) / element.clientHeight, scope.object.matrix)\n        } else if (element && scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera) {\n          // orthographic\n          panLeft(\n            (deltaX * (scope.object.right - scope.object.left)) / scope.object.zoom / element.clientWidth,\n            scope.object.matrix,\n          )\n          panUp(\n            (deltaY * (scope.object.top - scope.object.bottom)) / scope.object.zoom / element.clientHeight,\n            scope.object.matrix,\n          )\n        } else {\n          // camera neither orthographic nor perspective\n          console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.')\n          scope.enablePan = false\n        }\n      }\n    })()\n\n    function setScale(newScale: number) {\n      if (\n        (scope.object instanceof PerspectiveCamera && scope.object.isPerspectiveCamera) ||\n        (scope.object instanceof OrthographicCamera && scope.object.isOrthographicCamera)\n      ) {\n        scale = newScale\n      } else {\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.')\n        scope.enableZoom = false\n      }\n    }\n\n    function dollyOut(dollyScale: number) {\n      setScale(scale / dollyScale)\n    }\n\n    function dollyIn(dollyScale: number) {\n      setScale(scale * dollyScale)\n    }\n\n    function updateMouseParameters(event: MouseEvent): void {\n      if (!scope.zoomToCursor || !scope.domElement) {\n        return\n      }\n\n      performCursorZoom = true\n\n      const rect = scope.domElement.getBoundingClientRect()\n      const x = event.clientX - rect.left\n      const y = event.clientY - rect.top\n      const w = rect.width\n      const h = rect.height\n\n      mouse.x = (x / w) * 2 - 1\n      mouse.y = -(y / h) * 2 + 1\n\n      dollyDirection.set(mouse.x, mouse.y, 1).unproject(scope.object).sub(scope.object.position).normalize()\n    }\n\n    function clampDistance(dist: number): number {\n      return Math.max(scope.minDistance, Math.min(scope.maxDistance, dist))\n    }\n\n    //\n    // event callbacks - update the object state\n    //\n\n    function handleMouseDownRotate(event: MouseEvent) {\n      rotateStart.set(event.clientX, event.clientY)\n    }\n\n    function handleMouseDownDolly(event: MouseEvent) {\n      updateMouseParameters(event)\n      dollyStart.set(event.clientX, event.clientY)\n    }\n\n    function handleMouseDownPan(event: MouseEvent) {\n      panStart.set(event.clientX, event.clientY)\n    }\n\n    function handleMouseMoveRotate(event: MouseEvent) {\n      rotateEnd.set(event.clientX, event.clientY)\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed)\n\n      const element = scope.domElement\n\n      if (element) {\n        rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight) // yes, height\n        rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight)\n      }\n      rotateStart.copy(rotateEnd)\n      scope.update()\n    }\n\n    function handleMouseMoveDolly(event: MouseEvent) {\n      dollyEnd.set(event.clientX, event.clientY)\n      dollyDelta.subVectors(dollyEnd, dollyStart)\n\n      if (dollyDelta.y > 0) {\n        dollyOut(getZoomScale())\n      } else if (dollyDelta.y < 0) {\n        dollyIn(getZoomScale())\n      }\n\n      dollyStart.copy(dollyEnd)\n      scope.update()\n    }\n\n    function handleMouseMovePan(event: MouseEvent) {\n      panEnd.set(event.clientX, event.clientY)\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed)\n      pan(panDelta.x, panDelta.y)\n      panStart.copy(panEnd)\n      scope.update()\n    }\n\n    function handleMouseWheel(event: WheelEvent) {\n      updateMouseParameters(event)\n\n      if (event.deltaY < 0) {\n        dollyIn(getZoomScale())\n      } else if (event.deltaY > 0) {\n        dollyOut(getZoomScale())\n      }\n\n      scope.update()\n    }\n\n    function handleKeyDown(event: KeyboardEvent) {\n      let needsUpdate = false\n\n      switch (event.code) {\n        case scope.keys.UP:\n          pan(0, scope.keyPanSpeed)\n          needsUpdate = true\n          break\n\n        case scope.keys.BOTTOM:\n          pan(0, -scope.keyPanSpeed)\n          needsUpdate = true\n          break\n\n        case scope.keys.LEFT:\n          pan(scope.keyPanSpeed, 0)\n          needsUpdate = true\n          break\n\n        case scope.keys.RIGHT:\n          pan(-scope.keyPanSpeed, 0)\n          needsUpdate = true\n          break\n      }\n\n      if (needsUpdate) {\n        // prevent the browser from scrolling on cursor keys\n        event.preventDefault()\n        scope.update()\n      }\n    }\n\n    function handleTouchStartRotate() {\n      if (pointers.length == 1) {\n        rotateStart.set(pointers[0].pageX, pointers[0].pageY)\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX)\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY)\n\n        rotateStart.set(x, y)\n      }\n    }\n\n    function handleTouchStartPan() {\n      if (pointers.length == 1) {\n        panStart.set(pointers[0].pageX, pointers[0].pageY)\n      } else {\n        const x = 0.5 * (pointers[0].pageX + pointers[1].pageX)\n        const y = 0.5 * (pointers[0].pageY + pointers[1].pageY)\n\n        panStart.set(x, y)\n      }\n    }\n\n    function handleTouchStartDolly() {\n      const dx = pointers[0].pageX - pointers[1].pageX\n      const dy = pointers[0].pageY - pointers[1].pageY\n      const distance = Math.sqrt(dx * dx + dy * dy)\n\n      dollyStart.set(0, distance)\n    }\n\n    function handleTouchStartDollyPan() {\n      if (scope.enableZoom) handleTouchStartDolly()\n      if (scope.enablePan) handleTouchStartPan()\n    }\n\n    function handleTouchStartDollyRotate() {\n      if (scope.enableZoom) handleTouchStartDolly()\n      if (scope.enableRotate) handleTouchStartRotate()\n    }\n\n    function handleTouchMoveRotate(event: PointerEvent) {\n      if (pointers.length == 1) {\n        rotateEnd.set(event.pageX, event.pageY)\n      } else {\n        const position = getSecondPointerPosition(event)\n        const x = 0.5 * (event.pageX + position.x)\n        const y = 0.5 * (event.pageY + position.y)\n        rotateEnd.set(x, y)\n      }\n\n      rotateDelta.subVectors(rotateEnd, rotateStart).multiplyScalar(scope.rotateSpeed)\n\n      const element = scope.domElement\n\n      if (element) {\n        rotateLeft((2 * Math.PI * rotateDelta.x) / element.clientHeight) // yes, height\n        rotateUp((2 * Math.PI * rotateDelta.y) / element.clientHeight)\n      }\n      rotateStart.copy(rotateEnd)\n    }\n\n    function handleTouchMovePan(event: PointerEvent) {\n      if (pointers.length == 1) {\n        panEnd.set(event.pageX, event.pageY)\n      } else {\n        const position = getSecondPointerPosition(event)\n        const x = 0.5 * (event.pageX + position.x)\n        const y = 0.5 * (event.pageY + position.y)\n        panEnd.set(x, y)\n      }\n\n      panDelta.subVectors(panEnd, panStart).multiplyScalar(scope.panSpeed)\n      pan(panDelta.x, panDelta.y)\n      panStart.copy(panEnd)\n    }\n\n    function handleTouchMoveDolly(event: PointerEvent) {\n      const position = getSecondPointerPosition(event)\n      const dx = event.pageX - position.x\n      const dy = event.pageY - position.y\n      const distance = Math.sqrt(dx * dx + dy * dy)\n\n      dollyEnd.set(0, distance)\n      dollyDelta.set(0, Math.pow(dollyEnd.y / dollyStart.y, scope.zoomSpeed))\n      dollyOut(dollyDelta.y)\n      dollyStart.copy(dollyEnd)\n    }\n\n    function handleTouchMoveDollyPan(event: PointerEvent) {\n      if (scope.enableZoom) handleTouchMoveDolly(event)\n      if (scope.enablePan) handleTouchMovePan(event)\n    }\n\n    function handleTouchMoveDollyRotate(event: PointerEvent) {\n      if (scope.enableZoom) handleTouchMoveDolly(event)\n      if (scope.enableRotate) handleTouchMoveRotate(event)\n    }\n\n    //\n    // event handlers - FSM: listen for events and reset state\n    //\n\n    function onPointerDown(event: PointerEvent) {\n      if (scope.enabled === false) return\n\n      if (pointers.length === 0) {\n        scope.domElement?.ownerDocument.addEventListener('pointermove', onPointerMove)\n        scope.domElement?.ownerDocument.addEventListener('pointerup', onPointerUp)\n      }\n\n      addPointer(event)\n\n      if (event.pointerType === 'touch') {\n        onTouchStart(event)\n      } else {\n        onMouseDown(event)\n      }\n    }\n\n    function onPointerMove(event: PointerEvent) {\n      if (scope.enabled === false) return\n\n      if (event.pointerType === 'touch') {\n        onTouchMove(event)\n      } else {\n        onMouseMove(event)\n      }\n    }\n\n    function onPointerUp(event: PointerEvent) {\n      removePointer(event)\n\n      if (pointers.length === 0) {\n        scope.domElement?.releasePointerCapture(event.pointerId)\n\n        scope.domElement?.ownerDocument.removeEventListener('pointermove', onPointerMove)\n        scope.domElement?.ownerDocument.removeEventListener('pointerup', onPointerUp)\n      }\n\n      // @ts-ignore\n      scope.dispatchEvent(endEvent)\n\n      state = STATE.NONE\n    }\n\n    function onMouseDown(event: MouseEvent) {\n      let mouseAction\n\n      switch (event.button) {\n        case 0:\n          mouseAction = scope.mouseButtons.LEFT\n          break\n\n        case 1:\n          mouseAction = scope.mouseButtons.MIDDLE\n          break\n\n        case 2:\n          mouseAction = scope.mouseButtons.RIGHT\n          break\n\n        default:\n          mouseAction = -1\n      }\n\n      switch (mouseAction) {\n        case MOUSE.DOLLY:\n          if (scope.enableZoom === false) return\n          handleMouseDownDolly(event)\n          state = STATE.DOLLY\n          break\n\n        case MOUSE.ROTATE:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enablePan === false) return\n            handleMouseDownPan(event)\n            state = STATE.PAN\n          } else {\n            if (scope.enableRotate === false) return\n            handleMouseDownRotate(event)\n            state = STATE.ROTATE\n          }\n          break\n\n        case MOUSE.PAN:\n          if (event.ctrlKey || event.metaKey || event.shiftKey) {\n            if (scope.enableRotate === false) return\n            handleMouseDownRotate(event)\n            state = STATE.ROTATE\n          } else {\n            if (scope.enablePan === false) return\n            handleMouseDownPan(event)\n            state = STATE.PAN\n          }\n          break\n\n        default:\n          state = STATE.NONE\n      }\n\n      if (state !== STATE.NONE) {\n        // @ts-ignore\n        scope.dispatchEvent(startEvent)\n      }\n    }\n\n    function onMouseMove(event: MouseEvent) {\n      if (scope.enabled === false) return\n\n      switch (state) {\n        case STATE.ROTATE:\n          if (scope.enableRotate === false) return\n          handleMouseMoveRotate(event)\n          break\n\n        case STATE.DOLLY:\n          if (scope.enableZoom === false) return\n          handleMouseMoveDolly(event)\n          break\n\n        case STATE.PAN:\n          if (scope.enablePan === false) return\n          handleMouseMovePan(event)\n          break\n      }\n    }\n\n    function onMouseWheel(event: WheelEvent) {\n      if (scope.enabled === false || scope.enableZoom === false || (state !== STATE.NONE && state !== STATE.ROTATE)) {\n        return\n      }\n\n      event.preventDefault()\n\n      // @ts-ignore\n      scope.dispatchEvent(startEvent)\n\n      handleMouseWheel(event)\n\n      // @ts-ignore\n      scope.dispatchEvent(endEvent)\n    }\n\n    function onKeyDown(event: KeyboardEvent) {\n      if (scope.enabled === false || scope.enablePan === false) return\n      handleKeyDown(event)\n    }\n\n    function onTouchStart(event: PointerEvent) {\n      trackPointer(event)\n\n      switch (pointers.length) {\n        case 1:\n          switch (scope.touches.ONE) {\n            case TOUCH.ROTATE:\n              if (scope.enableRotate === false) return\n              handleTouchStartRotate()\n              state = STATE.TOUCH_ROTATE\n              break\n\n            case TOUCH.PAN:\n              if (scope.enablePan === false) return\n              handleTouchStartPan()\n              state = STATE.TOUCH_PAN\n              break\n\n            default:\n              state = STATE.NONE\n          }\n\n          break\n\n        case 2:\n          switch (scope.touches.TWO) {\n            case TOUCH.DOLLY_PAN:\n              if (scope.enableZoom === false && scope.enablePan === false) return\n              handleTouchStartDollyPan()\n              state = STATE.TOUCH_DOLLY_PAN\n              break\n\n            case TOUCH.DOLLY_ROTATE:\n              if (scope.enableZoom === false && scope.enableRotate === false) return\n              handleTouchStartDollyRotate()\n              state = STATE.TOUCH_DOLLY_ROTATE\n              break\n\n            default:\n              state = STATE.NONE\n          }\n\n          break\n\n        default:\n          state = STATE.NONE\n      }\n\n      if (state !== STATE.NONE) {\n        // @ts-ignore\n        scope.dispatchEvent(startEvent)\n      }\n    }\n\n    function onTouchMove(event: PointerEvent) {\n      trackPointer(event)\n\n      switch (state) {\n        case STATE.TOUCH_ROTATE:\n          if (scope.enableRotate === false) return\n          handleTouchMoveRotate(event)\n          scope.update()\n          break\n\n        case STATE.TOUCH_PAN:\n          if (scope.enablePan === false) return\n          handleTouchMovePan(event)\n          scope.update()\n          break\n\n        case STATE.TOUCH_DOLLY_PAN:\n          if (scope.enableZoom === false && scope.enablePan === false) return\n          handleTouchMoveDollyPan(event)\n          scope.update()\n          break\n\n        case STATE.TOUCH_DOLLY_ROTATE:\n          if (scope.enableZoom === false && scope.enableRotate === false) return\n          handleTouchMoveDollyRotate(event)\n          scope.update()\n          break\n\n        default:\n          state = STATE.NONE\n      }\n    }\n\n    function onContextMenu(event: Event) {\n      if (scope.enabled === false) return\n      event.preventDefault()\n    }\n\n    function addPointer(event: PointerEvent) {\n      pointers.push(event)\n    }\n\n    function removePointer(event: PointerEvent) {\n      delete pointerPositions[event.pointerId]\n\n      for (let i = 0; i < pointers.length; i++) {\n        if (pointers[i].pointerId == event.pointerId) {\n          pointers.splice(i, 1)\n          return\n        }\n      }\n    }\n\n    function trackPointer(event: PointerEvent) {\n      let position = pointerPositions[event.pointerId]\n\n      if (position === undefined) {\n        position = new Vector2()\n        pointerPositions[event.pointerId] = position\n      }\n\n      position.set(event.pageX, event.pageY)\n    }\n\n    function getSecondPointerPosition(event: PointerEvent) {\n      const pointer = event.pointerId === pointers[0].pointerId ? pointers[1] : pointers[0]\n      return pointerPositions[pointer.pointerId]\n    }\n\n    // Add dolly in/out methods for public API\n\n    this.dollyIn = (dollyScale = getZoomScale()) => {\n      dollyIn(dollyScale)\n      scope.update()\n    }\n\n    this.dollyOut = (dollyScale = getZoomScale()) => {\n      dollyOut(dollyScale)\n      scope.update()\n    }\n\n    this.getScale = () => {\n      return scale\n    }\n\n    this.setScale = (newScale) => {\n      setScale(newScale)\n      scope.update()\n    }\n\n    this.getZoomScale = () => {\n      return getZoomScale()\n    }\n\n    // connect events\n    if (domElement !== undefined) this.connect(domElement)\n    // force an update at start\n    this.update()\n  }\n}\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n  constructor(object: PerspectiveCamera | OrthographicCamera, domElement?: HTMLElement) {\n    super(object, domElement)\n\n    this.screenSpacePanning = false // pan orthogonal to world-space direction camera.up\n\n    this.mouseButtons.LEFT = MOUSE.PAN\n    this.mouseButtons.RIGHT = MOUSE.ROTATE\n\n    this.touches.ONE = TOUCH.PAN\n    this.touches.TWO = TOUCH.DOLLY_ROTATE\n  }\n}\n\nexport { OrbitControls, MapControls }\n"],"names":["domElement","panLeft","panUp","pan"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 954, "column": 0}, "map": {"version":3,"file":"helpers.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/types/helpers.ts"],"sourcesContent":["export const getWithKey = <T, K extends keyof T>(obj: T, key: K): T[K] => obj[key]\n"],"names":[],"mappings":";;;AAAO,MAAM,aAAa,CAAuB,KAAQ,MAAiB,GAAA,CAAI,GAAG,CAAA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"file":"BufferGeometryUtils.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/utils/BufferGeometryUtils.ts"],"sourcesContent":["import {\n  BufferAttribute,\n  BufferGeometry,\n  Float32BufferAttribute,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  TrianglesDrawMode,\n  Vector3,\n  Mesh,\n  Line,\n  Points,\n  Material,\n  SkinnedMesh,\n} from 'three'\n\nimport { getWithKey } from '../types/helpers'\nimport type { TypedArrayConstructors, TypedArray } from '../types/shared'\n\n/**\n * @param  {Array<BufferGeometry>} geometries\n * @param  {Boolean} useGroups\n * @return {BufferGeometry}\n */\nexport const mergeBufferGeometries = (geometries: BufferGeometry[], useGroups?: boolean): BufferGeometry | null => {\n  const isIndexed = geometries[0].index !== null\n\n  const attributesUsed = new Set(Object.keys(geometries[0].attributes))\n  const morphAttributesUsed = new Set(Object.keys(geometries[0].morphAttributes))\n\n  const attributes: { [key: string]: Array<InterleavedBufferAttribute | BufferAttribute> } = {}\n  const morphAttributes: { [key: string]: Array<BufferAttribute | InterleavedBufferAttribute>[] } = {}\n\n  const morphTargetsRelative = geometries[0].morphTargetsRelative\n\n  const mergedGeometry = new BufferGeometry()\n\n  let offset = 0\n\n  geometries.forEach((geom, i) => {\n    let attributesCount = 0\n\n    // ensure that all geometries are indexed, or none\n\n    if (isIndexed !== (geom.index !== null)) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.',\n      )\n      return null\n    }\n\n    // gather attributes, exit early if they're different\n\n    for (let name in geom.attributes) {\n      if (!attributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. All geometries must have compatible attributes; make sure \"' +\n            name +\n            '\" attribute exists among all geometries, or in none of them.',\n        )\n        return null\n      }\n\n      if (attributes[name] === undefined) {\n        attributes[name] = []\n      }\n\n      attributes[name].push(geom.attributes[name])\n\n      attributesCount++\n    }\n\n    // ensure geometries have the same number of attributes\n\n    if (attributesCount !== attributesUsed.size) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. Make sure all geometries have the same number of attributes.',\n      )\n      return null\n    }\n\n    // gather morph attributes, exit early if they're different\n\n    if (morphTargetsRelative !== geom.morphTargetsRelative) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n          i +\n          '. .morphTargetsRelative must be consistent throughout all geometries.',\n      )\n      return null\n    }\n\n    for (let name in geom.morphAttributes) {\n      if (!morphAttributesUsed.has(name)) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '.  .morphAttributes must be consistent throughout all geometries.',\n        )\n        return null\n      }\n\n      if (morphAttributes[name] === undefined) morphAttributes[name] = []\n\n      morphAttributes[name].push(geom.morphAttributes[name])\n    }\n\n    // gather .userData\n\n    mergedGeometry.userData.mergedUserData = mergedGeometry.userData.mergedUserData || []\n    mergedGeometry.userData.mergedUserData.push(geom.userData)\n\n    if (useGroups) {\n      let count\n\n      if (geom.index) {\n        count = geom.index.count\n      } else if (geom.attributes.position !== undefined) {\n        count = geom.attributes.position.count\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index ' +\n            i +\n            '. The geometry must have either an index or a position attribute',\n        )\n        return null\n      }\n\n      mergedGeometry.addGroup(offset, count, i)\n\n      offset += count\n    }\n  })\n\n  // merge indices\n\n  if (isIndexed) {\n    let indexOffset = 0\n    const mergedIndex: number[] = []\n\n    geometries.forEach((geom) => {\n      const index = geom.index as BufferAttribute\n\n      for (let j = 0; j < index.count; ++j) {\n        mergedIndex.push(index.getX(j) + indexOffset)\n      }\n\n      indexOffset += geom.attributes.position.count\n    })\n\n    mergedGeometry.setIndex(mergedIndex)\n  }\n\n  // merge attributes\n\n  for (let name in attributes) {\n    const mergedAttribute = mergeBufferAttributes(attributes[name] as BufferAttribute[])\n\n    if (!mergedAttribute) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' + name + ' attribute.',\n      )\n      return null\n    }\n\n    mergedGeometry.setAttribute(name, mergedAttribute)\n  }\n\n  // merge morph attributes\n\n  for (let name in morphAttributes) {\n    const numMorphTargets = morphAttributes[name][0].length\n\n    if (numMorphTargets === 0) break\n\n    mergedGeometry.morphAttributes = mergedGeometry.morphAttributes || {}\n    mergedGeometry.morphAttributes[name] = []\n\n    for (let i = 0; i < numMorphTargets; ++i) {\n      const morphAttributesToMerge = []\n\n      for (let j = 0; j < morphAttributes[name].length; ++j) {\n        morphAttributesToMerge.push(morphAttributes[name][j][i])\n      }\n\n      const mergedMorphAttribute = mergeBufferAttributes(morphAttributesToMerge as BufferAttribute[])\n\n      if (!mergedMorphAttribute) {\n        console.error(\n          'THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the ' +\n            name +\n            ' morphAttribute.',\n        )\n        return null\n      }\n\n      mergedGeometry.morphAttributes[name].push(mergedMorphAttribute)\n    }\n  }\n\n  return mergedGeometry\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {BufferAttribute}\n */\nexport const mergeBufferAttributes = (attributes: BufferAttribute[]): BufferAttribute | null | undefined => {\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let itemSize: number | undefined = undefined\n  let normalized: boolean | undefined = undefined\n  let arrayLength = 0\n\n  attributes.forEach((attr) => {\n    if (TypedArray === undefined) {\n      TypedArray = attr.array.constructor\n    }\n    if (TypedArray !== attr.array.constructor) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes.',\n      )\n      return null\n    }\n\n    if (itemSize === undefined) itemSize = attr.itemSize\n    if (itemSize !== attr.itemSize) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    if (normalized === undefined) normalized = attr.normalized\n    if (normalized !== attr.normalized) {\n      console.error(\n        'THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes.',\n      )\n      return null\n    }\n\n    arrayLength += attr.array.length\n  })\n\n  if (TypedArray && itemSize) {\n    // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n    const array = new TypedArray(arrayLength)\n    let offset = 0\n\n    attributes.forEach((attr) => {\n      array.set(attr.array, offset)\n      offset += attr.array.length\n    })\n\n    return new BufferAttribute(array, itemSize, normalized)\n  }\n}\n\n/**\n * @param {Array<BufferAttribute>} attributes\n * @return {Array<InterleavedBufferAttribute>}\n */\nexport const interleaveAttributes = (attributes: BufferAttribute[]): InterleavedBufferAttribute[] | null => {\n  // Interleaves the provided attributes into an InterleavedBuffer and returns\n  // a set of InterleavedBufferAttributes for each attribute\n  let TypedArray: TypedArrayConstructors | undefined = undefined\n  let arrayLength = 0\n  let stride = 0\n\n  // calculate the the length and type of the interleavedBuffer\n  for (let i = 0, l = attributes.length; i < l; ++i) {\n    const attribute = attributes[i]\n\n    if (TypedArray === undefined) TypedArray = attribute.array.constructor\n    if (TypedArray !== attribute.array.constructor) {\n      console.error('AttributeBuffers of different types cannot be interleaved')\n      return null\n    }\n\n    arrayLength += attribute.array.length\n    stride += attribute.itemSize\n  }\n\n  // Create the set of buffer attributes\n  // @ts-ignore this works in JS and TS is complaining but it's such a tiny thing I can live with the guilt\n  const interleavedBuffer = new InterleavedBuffer(new TypedArray(arrayLength), stride)\n  let offset = 0\n  const res = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n  const setters = ['setX', 'setY', 'setZ', 'setW']\n\n  for (let j = 0, l = attributes.length; j < l; j++) {\n    const attribute = attributes[j]\n    const itemSize = attribute.itemSize\n    const count = attribute.count\n    const iba = new InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, attribute.normalized)\n    res.push(iba)\n\n    offset += itemSize\n\n    // Move the data for each attribute into the new interleavedBuffer\n    // at the appropriate offset\n    for (let c = 0; c < count; c++) {\n      for (let k = 0; k < itemSize; k++) {\n        const set = getWithKey(iba, setters[k] as keyof InterleavedBufferAttribute) as InterleavedBufferAttribute[\n          | 'setX'\n          | 'setY'\n          | 'setZ'\n          | 'setW']\n        const get = getWithKey(attribute, getters[k] as keyof BufferAttribute) as BufferAttribute[\n          | 'getX'\n          | 'getY'\n          | 'getZ'\n          | 'getW']\n        set(c, get(c))\n      }\n    }\n  }\n\n  return res\n}\n\n/**\n * @param {Array<BufferGeometry>} geometry\n * @return {number}\n */\nexport function estimateBytesUsed(geometry: BufferGeometry): number {\n  // Return the estimated memory used by this geometry in bytes\n  // Calculate using itemSize, count, and BYTES_PER_ELEMENT to account\n  // for InterleavedBufferAttributes.\n  let mem = 0\n  for (let name in geometry.attributes) {\n    const attr = geometry.getAttribute(name)\n    mem += attr.count * attr.itemSize * (attr.array as TypedArray).BYTES_PER_ELEMENT\n  }\n\n  const indices = geometry.getIndex()\n  mem += indices ? indices.count * indices.itemSize * (indices.array as TypedArray).BYTES_PER_ELEMENT : 0\n  return mem\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} tolerance\n * @return {BufferGeometry>}\n */\nexport function mergeVertices(geometry: BufferGeometry, tolerance = 1e-4): BufferGeometry {\n  tolerance = Math.max(tolerance, Number.EPSILON)\n\n  // Generate an index buffer if the geometry doesn't have one, or optimize it\n  // if it's already available.\n  const hashToIndex: {\n    [key: string]: number\n  } = {}\n  const indices = geometry.getIndex()\n  const positions = geometry.getAttribute('position')\n  const vertexCount = indices ? indices.count : positions.count\n\n  // next value for triangle indices\n  let nextIndex = 0\n\n  // attributes and new attribute arrays\n  const attributeNames = Object.keys(geometry.attributes)\n  const attrArrays: {\n    [key: string]: []\n  } = {}\n  const morphAttrsArrays: {\n    [key: string]: Array<Array<BufferAttribute | InterleavedBufferAttribute>>\n  } = {}\n  const newIndices = []\n  const getters = ['getX', 'getY', 'getZ', 'getW']\n\n  // initialize the arrays\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n\n    attrArrays[name] = []\n\n    const morphAttr = geometry.morphAttributes[name]\n    if (morphAttr) {\n      morphAttrsArrays[name] = new Array(morphAttr.length).fill(0).map(() => [])\n    }\n  }\n\n  // convert the error tolerance to an amount of decimal places to truncate to\n  const decimalShift = Math.log10(1 / tolerance)\n  const shiftMultiplier = Math.pow(10, decimalShift)\n  for (let i = 0; i < vertexCount; i++) {\n    const index = indices ? indices.getX(i) : i\n\n    // Generate a hash for the vertex attributes at the current index 'i'\n    let hash = ''\n    for (let j = 0, l = attributeNames.length; j < l; j++) {\n      const name = attributeNames[j]\n      const attribute = geometry.getAttribute(name)\n      const itemSize = attribute.itemSize\n\n      for (let k = 0; k < itemSize; k++) {\n        // double tilde truncates the decimal value\n        // @ts-ignore no\n        hash += `${~~(attribute[getters[k]](index) * shiftMultiplier)},`\n      }\n    }\n\n    // Add another reference to the vertex if it's already\n    // used by another index\n    if (hash in hashToIndex) {\n      newIndices.push(hashToIndex[hash])\n    } else {\n      // copy data to the new index in the attribute arrays\n      for (let j = 0, l = attributeNames.length; j < l; j++) {\n        const name = attributeNames[j]\n        const attribute = geometry.getAttribute(name)\n        const morphAttr = geometry.morphAttributes[name]\n        const itemSize = attribute.itemSize\n        const newarray = attrArrays[name]\n        const newMorphArrays = morphAttrsArrays[name]\n\n        for (let k = 0; k < itemSize; k++) {\n          const getterFunc = getters[k]\n          // @ts-ignore\n          newarray.push(attribute[getterFunc](index))\n\n          if (morphAttr) {\n            for (let m = 0, ml = morphAttr.length; m < ml; m++) {\n              // @ts-ignore\n              newMorphArrays[m].push(morphAttr[m][getterFunc](index))\n            }\n          }\n        }\n      }\n\n      hashToIndex[hash] = nextIndex\n      newIndices.push(nextIndex)\n      nextIndex++\n    }\n  }\n\n  // Generate typed arrays from new attribute arrays and update\n  // the attributeBuffers\n  const result = geometry.clone()\n  for (let i = 0, l = attributeNames.length; i < l; i++) {\n    const name = attributeNames[i]\n    const oldAttribute = geometry.getAttribute(name)\n    //@ts-expect-error  something to do with functions and constructors and new\n    const buffer = new (oldAttribute.array as TypedArray).constructor(attrArrays[name])\n    const attribute = new BufferAttribute(buffer, oldAttribute.itemSize, oldAttribute.normalized)\n\n    result.setAttribute(name, attribute)\n\n    // Update the attribute arrays\n    if (name in morphAttrsArrays) {\n      for (let j = 0; j < morphAttrsArrays[name].length; j++) {\n        const oldMorphAttribute = geometry.morphAttributes[name][j]\n        //@ts-expect-error something to do with functions and constructors and new\n        const buffer = new (oldMorphAttribute.array as TypedArray).constructor(morphAttrsArrays[name][j])\n        const morphAttribute = new BufferAttribute(buffer, oldMorphAttribute.itemSize, oldMorphAttribute.normalized)\n        result.morphAttributes[name][j] = morphAttribute\n      }\n    }\n  }\n\n  // indices\n\n  result.setIndex(newIndices)\n\n  return result\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {number} drawMode\n * @return {BufferGeometry}\n */\nexport function toTrianglesDrawMode(geometry: BufferGeometry, drawMode: number): BufferGeometry {\n  if (drawMode === TrianglesDrawMode) {\n    console.warn('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles.')\n    return geometry\n  }\n\n  if (drawMode === TriangleFanDrawMode || drawMode === TriangleStripDrawMode) {\n    let index = geometry.getIndex()\n\n    // generate index if not present\n\n    if (index === null) {\n      const indices = []\n\n      const position = geometry.getAttribute('position')\n\n      if (position !== undefined) {\n        for (let i = 0; i < position.count; i++) {\n          indices.push(i)\n        }\n\n        geometry.setIndex(indices)\n        index = geometry.getIndex()\n      } else {\n        console.error(\n          'THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.',\n        )\n        return geometry\n      }\n    }\n\n    //\n\n    const numberOfTriangles = (index as BufferAttribute).count - 2\n    const newIndices = []\n\n    if (index) {\n      if (drawMode === TriangleFanDrawMode) {\n        // gl.TRIANGLE_FAN\n\n        for (let i = 1; i <= numberOfTriangles; i++) {\n          newIndices.push(index.getX(0))\n          newIndices.push(index.getX(i))\n          newIndices.push(index.getX(i + 1))\n        }\n      } else {\n        // gl.TRIANGLE_STRIP\n\n        for (let i = 0; i < numberOfTriangles; i++) {\n          if (i % 2 === 0) {\n            newIndices.push(index.getX(i))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i + 2))\n          } else {\n            newIndices.push(index.getX(i + 2))\n            newIndices.push(index.getX(i + 1))\n            newIndices.push(index.getX(i))\n          }\n        }\n      }\n    }\n\n    if (newIndices.length / 3 !== numberOfTriangles) {\n      console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.')\n    }\n\n    // build final geometry\n\n    const newGeometry = geometry.clone()\n    newGeometry.setIndex(newIndices)\n    newGeometry.clearGroups()\n\n    return newGeometry\n  } else {\n    console.error('THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:', drawMode)\n    return geometry\n  }\n}\n\n/**\n * Calculates the morphed attributes of a morphed/skinned BufferGeometry.\n * Helpful for Raytracing or Decals.\n * @param {Mesh | Line | Points} object An instance of Mesh, Line or Points.\n * @return {Object} An Object with original position/normal attributes and morphed ones.\n */\nexport type ComputedMorphedAttribute = {\n  positionAttribute: BufferAttribute | InterleavedBufferAttribute\n  normalAttribute: BufferAttribute | InterleavedBufferAttribute\n  morphedPositionAttribute: Float32BufferAttribute\n  morphedNormalAttribute: Float32BufferAttribute\n}\n\nexport function computeMorphedAttributes(object: Mesh | Line | Points): ComputedMorphedAttribute | null {\n  if (object.geometry.isBufferGeometry !== true) {\n    console.error('THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry.')\n    return null\n  }\n\n  const _vA = new Vector3()\n  const _vB = new Vector3()\n  const _vC = new Vector3()\n\n  const _tempA = new Vector3()\n  const _tempB = new Vector3()\n  const _tempC = new Vector3()\n\n  const _morphA = new Vector3()\n  const _morphB = new Vector3()\n  const _morphC = new Vector3()\n\n  function _calculateMorphedAttributeData(\n    object: Mesh | Line | Points,\n    material: Material,\n    attribute: BufferAttribute | InterleavedBufferAttribute,\n    morphAttribute: (BufferAttribute | InterleavedBufferAttribute)[],\n    morphTargetsRelative: boolean,\n    a: number,\n    b: number,\n    c: number,\n    modifiedAttributeArray: Float32Array,\n  ): void {\n    _vA.fromBufferAttribute(attribute, a)\n    _vB.fromBufferAttribute(attribute, b)\n    _vC.fromBufferAttribute(attribute, c)\n\n    const morphInfluences = object.morphTargetInfluences\n\n    if (\n      // @ts-ignore\n      material.morphTargets &&\n      morphAttribute &&\n      morphInfluences\n    ) {\n      _morphA.set(0, 0, 0)\n      _morphB.set(0, 0, 0)\n      _morphC.set(0, 0, 0)\n\n      for (let i = 0, il = morphAttribute.length; i < il; i++) {\n        const influence = morphInfluences[i]\n        const morph = morphAttribute[i]\n\n        if (influence === 0) continue\n\n        _tempA.fromBufferAttribute(morph, a)\n        _tempB.fromBufferAttribute(morph, b)\n        _tempC.fromBufferAttribute(morph, c)\n\n        if (morphTargetsRelative) {\n          _morphA.addScaledVector(_tempA, influence)\n          _morphB.addScaledVector(_tempB, influence)\n          _morphC.addScaledVector(_tempC, influence)\n        } else {\n          _morphA.addScaledVector(_tempA.sub(_vA), influence)\n          _morphB.addScaledVector(_tempB.sub(_vB), influence)\n          _morphC.addScaledVector(_tempC.sub(_vC), influence)\n        }\n      }\n\n      _vA.add(_morphA)\n      _vB.add(_morphB)\n      _vC.add(_morphC)\n    }\n\n    if ((object as SkinnedMesh).isSkinnedMesh) {\n      // @ts-ignore  https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(a, _vA)\n      // @ts-ignore  https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(b, _vB)\n      // @ts-ignore  https://github.com/three-types/three-ts-types/issues/37\n      object.boneTransform(c, _vC)\n    }\n\n    modifiedAttributeArray[a * 3 + 0] = _vA.x\n    modifiedAttributeArray[a * 3 + 1] = _vA.y\n    modifiedAttributeArray[a * 3 + 2] = _vA.z\n    modifiedAttributeArray[b * 3 + 0] = _vB.x\n    modifiedAttributeArray[b * 3 + 1] = _vB.y\n    modifiedAttributeArray[b * 3 + 2] = _vB.z\n    modifiedAttributeArray[c * 3 + 0] = _vC.x\n    modifiedAttributeArray[c * 3 + 1] = _vC.y\n    modifiedAttributeArray[c * 3 + 2] = _vC.z\n  }\n\n  const geometry = object.geometry\n  const material = object.material\n\n  let a, b, c\n  const index = geometry.index\n  const positionAttribute = geometry.attributes.position\n  const morphPosition = geometry.morphAttributes.position\n  const morphTargetsRelative = geometry.morphTargetsRelative\n  const normalAttribute = geometry.attributes.normal\n  const morphNormal = geometry.morphAttributes.position\n\n  const groups = geometry.groups\n  const drawRange = geometry.drawRange\n  let i, j, il, jl\n  let group, groupMaterial\n  let start, end\n\n  const modifiedPosition = new Float32Array(positionAttribute.count * positionAttribute.itemSize)\n  const modifiedNormal = new Float32Array(normalAttribute.count * normalAttribute.itemSize)\n\n  if (index !== null) {\n    // indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = index.getX(j)\n          b = index.getX(j + 1)\n          c = index.getX(j + 2)\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(index.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = index.getX(i)\n        b = index.getX(i + 1)\n        c = index.getX(i + 2)\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  } else if (positionAttribute !== undefined) {\n    // non-indexed buffer geometry\n\n    if (Array.isArray(material)) {\n      for (i = 0, il = groups.length; i < il; i++) {\n        group = groups[i]\n        groupMaterial = material[group.materialIndex as number]\n\n        start = Math.max(group.start, drawRange.start)\n        end = Math.min(group.start + group.count, drawRange.start + drawRange.count)\n\n        for (j = start, jl = end; j < jl; j += 3) {\n          a = j\n          b = j + 1\n          c = j + 2\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            positionAttribute,\n            morphPosition,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedPosition,\n          )\n\n          _calculateMorphedAttributeData(\n            object,\n            groupMaterial,\n            normalAttribute,\n            morphNormal,\n            morphTargetsRelative,\n            a,\n            b,\n            c,\n            modifiedNormal,\n          )\n        }\n      }\n    } else {\n      start = Math.max(0, drawRange.start)\n      end = Math.min(positionAttribute.count, drawRange.start + drawRange.count)\n\n      for (i = start, il = end; i < il; i += 3) {\n        a = i\n        b = i + 1\n        c = i + 2\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          positionAttribute,\n          morphPosition,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedPosition,\n        )\n\n        _calculateMorphedAttributeData(\n          object,\n          material,\n          normalAttribute,\n          morphNormal,\n          morphTargetsRelative,\n          a,\n          b,\n          c,\n          modifiedNormal,\n        )\n      }\n    }\n  }\n\n  const morphedPositionAttribute = new Float32BufferAttribute(modifiedPosition, 3)\n  const morphedNormalAttribute = new Float32BufferAttribute(modifiedNormal, 3)\n\n  return {\n    positionAttribute: positionAttribute,\n    normalAttribute: normalAttribute,\n    morphedPositionAttribute: morphedPositionAttribute,\n    morphedNormalAttribute: morphedNormalAttribute,\n  }\n}\n\n/**\n * Modifies the supplied geometry if it is non-indexed, otherwise creates a new,\n * non-indexed geometry. Returns the geometry with smooth normals everywhere except\n * faces that meet at an angle greater than the crease angle.\n *\n * Backwards compatible with code such as @react-three/drei's `<RoundedBox>`\n * which uses this method to operate on the original geometry.\n *\n * As of this writing, BufferGeometry.toNonIndexed() warns if the geometry is\n * non-indexed and returns `this`, i.e. the same geometry on which it was called:\n * `BufferGeometry is already non-indexed.`\n *\n * @param geometry\n * @param creaseAngle\n */\nexport function toCreasedNormals(geometry: BufferGeometry, creaseAngle = Math.PI / 3 /* 60 degrees */): BufferGeometry {\n  const creaseDot = Math.cos(creaseAngle)\n  const hashMultiplier = (1 + 1e-10) * 1e2\n\n  // reusable vectors\n  const verts = [new Vector3(), new Vector3(), new Vector3()]\n  const tempVec1 = new Vector3()\n  const tempVec2 = new Vector3()\n  const tempNorm = new Vector3()\n  const tempNorm2 = new Vector3()\n\n  // hashes a vector\n  function hashVertex(v: Vector3): string {\n    const x = ~~(v.x * hashMultiplier)\n    const y = ~~(v.y * hashMultiplier)\n    const z = ~~(v.z * hashMultiplier)\n    return `${x},${y},${z}`\n  }\n\n  const resultGeometry = geometry.index ? geometry.toNonIndexed() : geometry\n  const posAttr = resultGeometry.attributes.position\n  const vertexMap: { [key: string]: Vector3[] } = {}\n\n  // find all the normals shared by commonly located vertices\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    // add the normal to the map for all vertices\n    const normal = new Vector3().crossVectors(tempVec1, tempVec2).normalize()\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      if (!(hash in vertexMap)) {\n        vertexMap[hash] = []\n      }\n\n      vertexMap[hash].push(normal)\n    }\n  }\n\n  // average normals from all vertices that share a common location if they are within the\n  // provided crease threshold\n  const normalArray = new Float32Array(posAttr.count * 3)\n  const normAttr = new BufferAttribute(normalArray, 3, false)\n  for (let i = 0, l = posAttr.count / 3; i < l; i++) {\n    // get the face normal for this vertex\n    const i3 = 3 * i\n    const a = verts[0].fromBufferAttribute(posAttr, i3 + 0)\n    const b = verts[1].fromBufferAttribute(posAttr, i3 + 1)\n    const c = verts[2].fromBufferAttribute(posAttr, i3 + 2)\n\n    tempVec1.subVectors(c, b)\n    tempVec2.subVectors(a, b)\n\n    tempNorm.crossVectors(tempVec1, tempVec2).normalize()\n\n    // average all normals that meet the threshold and set the normal value\n    for (let n = 0; n < 3; n++) {\n      const vert = verts[n]\n      const hash = hashVertex(vert)\n      const otherNormals = vertexMap[hash]\n      tempNorm2.set(0, 0, 0)\n\n      for (let k = 0, lk = otherNormals.length; k < lk; k++) {\n        const otherNorm = otherNormals[k]\n        if (tempNorm.dot(otherNorm) > creaseDot) {\n          tempNorm2.add(otherNorm)\n        }\n      }\n\n      tempNorm2.normalize()\n      normAttr.setXYZ(i3 + n, tempNorm2.x, tempNorm2.y, tempNorm2.z)\n    }\n  }\n\n  resultGeometry.setAttribute('normal', normAttr)\n  return resultGeometry\n}\n"],"names":["buffer","object","material","morphTargetsRelative","a","b","c","i","il"],"mappings":";;;;;;;;;;;;;;AAyBa,MAAA,wBAAwB,CAAC,YAA8B,cAA+C;IACjH,MAAM,YAAY,UAAA,CAAW,CAAC,CAAA,CAAE,KAAA,KAAU;IAEpC,MAAA,iBAAiB,IAAI,IAAI,OAAO,IAAA,CAAK,UAAA,CAAW,CAAC,CAAA,CAAE,UAAU,CAAC;IAC9D,MAAA,sBAAsB,IAAI,IAAI,OAAO,IAAA,CAAK,UAAA,CAAW,CAAC,CAAA,CAAE,eAAe,CAAC;IAE9E,MAAM,aAAqF,CAAA;IAC3F,MAAM,kBAA4F,CAAA;IAE5F,MAAA,uBAAuB,UAAA,CAAW,CAAC,CAAA,CAAE,oBAAA;IAErC,MAAA,iBAAiB,oJAAI,iBAAA;IAE3B,IAAI,SAAS;IAEF,WAAA,OAAA,CAAQ,CAAC,MAAM,MAAM;QAC9B,IAAI,kBAAkB;QAIlB,IAAA,cAAA,CAAe,KAAK,KAAA,KAAU,IAAA,GAAO;YAC/B,QAAA,KAAA,CACN,uFACE,IACA;YAEG,OAAA;QACT;QAIS,IAAA,IAAA,QAAQ,KAAK,UAAA,CAAY;YAChC,IAAI,CAAC,eAAe,GAAA,CAAI,IAAI,GAAG;gBACrB,QAAA,KAAA,CACN,uFACE,IACA,kEACA,OACA;gBAEG,OAAA;YACT;YAEI,IAAA,UAAA,CAAW,IAAI,CAAA,KAAM,KAAA,GAAW;gBACvB,UAAA,CAAA,IAAI,CAAA,GAAI,EAAA;YACrB;YAEA,UAAA,CAAW,IAAI,CAAA,CAAE,IAAA,CAAK,KAAK,UAAA,CAAW,IAAI,CAAC;YAE3C;QACF;QAII,IAAA,oBAAoB,eAAe,IAAA,EAAM;YACnC,QAAA,KAAA,CACN,uFACE,IACA;YAEG,OAAA;QACT;QAII,IAAA,yBAAyB,KAAK,oBAAA,EAAsB;YAC9C,QAAA,KAAA,CACN,uFACE,IACA;YAEG,OAAA;QACT;QAES,IAAA,IAAA,QAAQ,KAAK,eAAA,CAAiB;YACrC,IAAI,CAAC,oBAAoB,GAAA,CAAI,IAAI,GAAG;gBAC1B,QAAA,KAAA,CACN,uFACE,IACA;gBAEG,OAAA;YACT;YAEI,IAAA,eAAA,CAAgB,IAAI,CAAA,KAAM,KAAA,GAA2B,eAAA,CAAA,IAAI,CAAA,GAAI,EAAA;YAEjE,eAAA,CAAgB,IAAI,CAAA,CAAE,IAAA,CAAK,KAAK,eAAA,CAAgB,IAAI,CAAC;QACvD;QAIA,eAAe,QAAA,CAAS,cAAA,GAAiB,eAAe,QAAA,CAAS,cAAA,IAAkB,EAAA;QACnF,eAAe,QAAA,CAAS,cAAA,CAAe,IAAA,CAAK,KAAK,QAAQ;QAEzD,IAAI,WAAW;YACT,IAAA;YAEJ,IAAI,KAAK,KAAA,EAAO;gBACd,QAAQ,KAAK,KAAA,CAAM,KAAA;YACV,OAAA,IAAA,KAAK,UAAA,CAAW,QAAA,KAAa,KAAA,GAAW;gBACzC,QAAA,KAAK,UAAA,CAAW,QAAA,CAAS,KAAA;YAAA,OAC5B;gBACG,QAAA,KAAA,CACN,uFACE,IACA;gBAEG,OAAA;YACT;YAEe,eAAA,QAAA,CAAS,QAAQ,OAAO,CAAC;YAE9B,UAAA;QACZ;IAAA,CACD;IAID,IAAI,WAAW;QACb,IAAI,cAAc;QAClB,MAAM,cAAwB,CAAA,CAAA;QAEnB,WAAA,OAAA,CAAQ,CAAC,SAAS;YAC3B,MAAM,QAAQ,KAAK,KAAA;YAEnB,IAAA,IAAS,IAAI,GAAG,IAAI,MAAM,KAAA,EAAO,EAAE,EAAG;gBACpC,YAAY,IAAA,CAAK,MAAM,IAAA,CAAK,CAAC,IAAI,WAAW;YAC9C;YAEe,eAAA,KAAK,UAAA,CAAW,QAAA,CAAS,KAAA;QAAA,CACzC;QAED,eAAe,QAAA,CAAS,WAAW;IACrC;IAIA,IAAA,IAAS,QAAQ,WAAY;QAC3B,MAAM,kBAAkB,sBAAsB,UAAA,CAAW,IAAI,CAAsB;QAEnF,IAAI,CAAC,iBAAiB;YACZ,QAAA,KAAA,CACN,0FAA0F,OAAO;YAE5F,OAAA;QACT;QAEe,eAAA,YAAA,CAAa,MAAM,eAAe;IACnD;IAIA,IAAA,IAAS,QAAQ,gBAAiB;QAChC,MAAM,kBAAkB,eAAA,CAAgB,IAAI,CAAA,CAAE,CAAC,CAAA,CAAE,MAAA;QAEjD,IAAI,oBAAoB,GAAG;QAEZ,eAAA,eAAA,GAAkB,eAAe,eAAA,IAAmB,CAAA;QACpD,eAAA,eAAA,CAAgB,IAAI,CAAA,GAAI,EAAA;QAEvC,IAAA,IAAS,IAAI,GAAG,IAAI,iBAAiB,EAAE,EAAG;YACxC,MAAM,yBAAyB,CAAA,CAAA;YAEtB,IAAA,IAAA,IAAI,GAAG,IAAI,eAAA,CAAgB,IAAI,CAAA,CAAE,MAAA,EAAQ,EAAE,EAAG;gBACrD,uBAAuB,IAAA,CAAK,eAAA,CAAgB,IAAI,CAAA,CAAE,CAAC,CAAA,CAAE,CAAC,CAAC;YACzD;YAEM,MAAA,uBAAuB,sBAAsB,sBAA2C;YAE9F,IAAI,CAAC,sBAAsB;gBACjB,QAAA,KAAA,CACN,0FACE,OACA;gBAEG,OAAA;YACT;YAEA,eAAe,eAAA,CAAgB,IAAI,CAAA,CAAE,IAAA,CAAK,oBAAoB;QAChE;IACF;IAEO,OAAA;AACT;AAMa,MAAA,wBAAwB,CAAC,eAAsE;IAC1G,IAAI,aAAiD,KAAA;IACrD,IAAI,WAA+B,KAAA;IACnC,IAAI,aAAkC,KAAA;IACtC,IAAI,cAAc;IAEP,WAAA,OAAA,CAAQ,CAAC,SAAS;QAC3B,IAAI,eAAe,KAAA,GAAW;YAC5B,aAAa,KAAK,KAAA,CAAM,WAAA;QAC1B;QACI,IAAA,eAAe,KAAK,KAAA,CAAM,WAAA,EAAa;YACjC,QAAA,KAAA,CACN;YAEK,OAAA;QACT;QAEA,IAAI,aAAa,KAAA,GAAW,WAAW,KAAK,QAAA;QACxC,IAAA,aAAa,KAAK,QAAA,EAAU;YACtB,QAAA,KAAA,CACN;YAEK,OAAA;QACT;QAEA,IAAI,eAAe,KAAA,GAAW,aAAa,KAAK,UAAA;QAC5C,IAAA,eAAe,KAAK,UAAA,EAAY;YAC1B,QAAA,KAAA,CACN;YAEK,OAAA;QACT;QAEA,eAAe,KAAK,KAAA,CAAM,MAAA;IAAA,CAC3B;IAED,IAAI,cAAc,UAAU;QAEpB,MAAA,QAAQ,IAAI,WAAW,WAAW;QACxC,IAAI,SAAS;QAEF,WAAA,OAAA,CAAQ,CAAC,SAAS;YACrB,MAAA,GAAA,CAAI,KAAK,KAAA,EAAO,MAAM;YAC5B,UAAU,KAAK,KAAA,CAAM,MAAA;QAAA,CACtB;QAED,OAAO,IAAI,kKAAA,CAAgB,OAAO,UAAU,UAAU;IACxD;AACF;AAMa,MAAA,uBAAuB,CAAC,eAAuE;IAG1G,IAAI,aAAiD,KAAA;IACrD,IAAI,cAAc;IAClB,IAAI,SAAS;IAGJ,IAAA,IAAA,IAAI,GAAG,IAAI,WAAW,MAAA,EAAQ,IAAI,GAAG,EAAE,EAAG;QAC3C,MAAA,YAAY,UAAA,CAAW,CAAC,CAAA;QAE9B,IAAI,eAAe,KAAA,GAAW,aAAa,UAAU,KAAA,CAAM,WAAA;QACvD,IAAA,eAAe,UAAU,KAAA,CAAM,WAAA,EAAa;YAC9C,QAAQ,KAAA,CAAM,2DAA2D;YAClE,OAAA;QACT;QAEA,eAAe,UAAU,KAAA,CAAM,MAAA;QAC/B,UAAU,UAAU,QAAA;IACtB;IAIA,MAAM,oBAAoB,IAAI,oKAAA,CAAkB,IAAI,WAAW,WAAW,GAAG,MAAM;IACnF,IAAI,SAAS;IACb,MAAM,MAAM,CAAA,CAAA;IACZ,MAAM,UAAU;QAAC;QAAQ;QAAQ;QAAQ,MAAM;KAAA;IAC/C,MAAM,UAAU;QAAC;QAAQ;QAAQ;QAAQ,MAAM;KAAA;IAE/C,IAAA,IAAS,IAAI,GAAG,IAAI,WAAW,MAAA,EAAQ,IAAI,GAAG,IAAK;QAC3C,MAAA,YAAY,UAAA,CAAW,CAAC,CAAA;QAC9B,MAAM,WAAW,UAAU,QAAA;QAC3B,MAAM,QAAQ,UAAU,KAAA;QACxB,MAAM,MAAM,oJAAI,6BAAA,CAA2B,mBAAmB,UAAU,QAAQ,UAAU,UAAU;QACpG,IAAI,IAAA,CAAK,GAAG;QAEF,UAAA;QAIV,IAAA,IAAS,IAAI,GAAG,IAAI,OAAO,IAAK;YAC9B,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,IAAK;gBACjC,MAAM,MAAM,qKAAA,EAAW,KAAK,OAAA,CAAQ,CAAC,CAAqC;gBAK1E,MAAM,8JAAM,aAAA,EAAW,WAAW,OAAA,CAAQ,CAAC,CAA0B;gBAKjE,IAAA,GAAG,IAAI,CAAC,CAAC;YACf;QACF;IACF;IAEO,OAAA;AACT;AAMO,SAAS,kBAAkB,QAAA,EAAkC;IAIlE,IAAI,MAAM;IACD,IAAA,IAAA,QAAQ,SAAS,UAAA,CAAY;QAC9B,MAAA,OAAO,SAAS,YAAA,CAAa,IAAI;QACvC,OAAO,KAAK,KAAA,GAAQ,KAAK,QAAA,GAAY,KAAK,KAAA,CAAqB,iBAAA;IACjE;IAEM,MAAA,UAAU,SAAS,QAAA;IACzB,OAAO,UAAU,QAAQ,KAAA,GAAQ,QAAQ,QAAA,GAAY,QAAQ,KAAA,CAAqB,iBAAA,GAAoB;IAC/F,OAAA;AACT;AAOgB,SAAA,cAAc,QAAA,EAA0B,YAAY,IAAA,EAAsB;IACxF,YAAY,KAAK,GAAA,CAAI,WAAW,OAAO,OAAO;IAI9C,MAAM,cAEF,CAAA;IACE,MAAA,UAAU,SAAS,QAAA;IACnB,MAAA,YAAY,SAAS,YAAA,CAAa,UAAU;IAClD,MAAM,cAAc,UAAU,QAAQ,KAAA,GAAQ,UAAU,KAAA;IAGxD,IAAI,YAAY;IAGhB,MAAM,iBAAiB,OAAO,IAAA,CAAK,SAAS,UAAU;IACtD,MAAM,aAEF,CAAA;IACJ,MAAM,mBAEF,CAAA;IACJ,MAAM,aAAa,CAAA,CAAA;IACnB,MAAM,UAAU;QAAC;QAAQ;QAAQ;QAAQ,MAAM;KAAA;IAG/C,IAAA,IAAS,IAAI,GAAG,IAAI,eAAe,MAAA,EAAQ,IAAI,GAAG,IAAK;QAC/C,MAAA,OAAO,cAAA,CAAe,CAAC,CAAA;QAElB,UAAA,CAAA,IAAI,CAAA,GAAI,EAAA;QAEb,MAAA,YAAY,SAAS,eAAA,CAAgB,IAAI,CAAA;QAC/C,IAAI,WAAW;YACb,gBAAA,CAAiB,IAAI,CAAA,GAAI,IAAI,MAAM,UAAU,MAAM,EAAE,IAAA,CAAK,CAAC,EAAE,GAAA,CAAI,IAAM,CAAE,CAAA;QAC3E;IACF;IAGA,MAAM,eAAe,KAAK,KAAA,CAAM,IAAI,SAAS;IAC7C,MAAM,kBAAkB,KAAK,GAAA,CAAI,IAAI,YAAY;IACjD,IAAA,IAAS,IAAI,GAAG,IAAI,aAAa,IAAK;QACpC,MAAM,QAAQ,UAAU,QAAQ,IAAA,CAAK,CAAC,IAAI;QAG1C,IAAI,OAAO;QACX,IAAA,IAAS,IAAI,GAAG,IAAI,eAAe,MAAA,EAAQ,IAAI,GAAG,IAAK;YAC/C,MAAA,OAAO,cAAA,CAAe,CAAC,CAAA;YACvB,MAAA,YAAY,SAAS,YAAA,CAAa,IAAI;YAC5C,MAAM,WAAW,UAAU,QAAA;YAE3B,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,IAAK;gBAGzB,QAAA,GAAG,CAAC,CAAA,CAAE,SAAA,CAAU,OAAA,CAAQ,CAAC,CAAC,CAAA,CAAE,KAAK,IAAI,eAAA,EAAA,CAAA,CAAA;YAC/C;QACF;QAIA,IAAI,QAAQ,aAAa;YACZ,WAAA,IAAA,CAAK,WAAA,CAAY,IAAI,CAAC;QAAA,OAC5B;YAEL,IAAA,IAAS,IAAI,GAAG,IAAI,eAAe,MAAA,EAAQ,IAAI,GAAG,IAAK;gBAC/C,MAAA,OAAO,cAAA,CAAe,CAAC,CAAA;gBACvB,MAAA,YAAY,SAAS,YAAA,CAAa,IAAI;gBACtC,MAAA,YAAY,SAAS,eAAA,CAAgB,IAAI,CAAA;gBAC/C,MAAM,WAAW,UAAU,QAAA;gBACrB,MAAA,WAAW,UAAA,CAAW,IAAI,CAAA;gBAC1B,MAAA,iBAAiB,gBAAA,CAAiB,IAAI,CAAA;gBAE5C,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,IAAK;oBAC3B,MAAA,aAAa,OAAA,CAAQ,CAAC,CAAA;oBAE5B,SAAS,IAAA,CAAK,SAAA,CAAU,UAAU,CAAA,CAAE,KAAK,CAAC;oBAE1C,IAAI,WAAW;wBACb,IAAA,IAAS,IAAI,GAAG,KAAK,UAAU,MAAA,EAAQ,IAAI,IAAI,IAAK;4BAEnC,cAAA,CAAA,CAAC,CAAA,CAAE,IAAA,CAAK,SAAA,CAAU,CAAC,CAAA,CAAE,UAAU,CAAA,CAAE,KAAK,CAAC;wBACxD;oBACF;gBACF;YACF;YAEA,WAAA,CAAY,IAAI,CAAA,GAAI;YACpB,WAAW,IAAA,CAAK,SAAS;YACzB;QACF;IACF;IAIM,MAAA,SAAS,SAAS,KAAA;IACxB,IAAA,IAAS,IAAI,GAAG,IAAI,eAAe,MAAA,EAAQ,IAAI,GAAG,IAAK;QAC/C,MAAA,OAAO,cAAA,CAAe,CAAC,CAAA;QACvB,MAAA,eAAe,SAAS,YAAA,CAAa,IAAI;QAE/C,MAAM,SAAS,IAAK,aAAa,KAAA,CAAqB,WAAA,CAAY,UAAA,CAAW,IAAI,CAAC;QAClF,MAAM,YAAY,oJAAI,kBAAA,CAAgB,QAAQ,aAAa,QAAA,EAAU,aAAa,UAAU;QAErF,OAAA,YAAA,CAAa,MAAM,SAAS;QAGnC,IAAI,QAAQ,kBAAkB;YAC5B,IAAA,IAAS,IAAI,GAAG,IAAI,gBAAA,CAAiB,IAAI,CAAA,CAAE,MAAA,EAAQ,IAAK;gBACtD,MAAM,oBAAoB,SAAS,eAAA,CAAgB,IAAI,CAAA,CAAE,CAAC,CAAA;gBAEpDA,MAAAA,UAAS,IAAK,kBAAkB,KAAA,CAAqB,WAAA,CAAY,gBAAA,CAAiB,IAAI,CAAA,CAAE,CAAC,CAAC;gBAChG,MAAM,iBAAiB,oJAAI,kBAAA,CAAgBA,SAAQ,kBAAkB,QAAA,EAAU,kBAAkB,UAAU;gBAC3G,OAAO,eAAA,CAAgB,IAAI,CAAA,CAAE,CAAC,CAAA,GAAI;YACpC;QACF;IACF;IAIA,OAAO,QAAA,CAAS,UAAU;IAEnB,OAAA;AACT;AAOgB,SAAA,oBAAoB,QAAA,EAA0B,QAAA,EAAkC;IAC9F,IAAI,6JAAa,oBAAA,EAAmB;QAClC,QAAQ,IAAA,CAAK,yFAAyF;QAC/F,OAAA;IACT;IAEI,IAAA,6JAAa,sBAAA,IAAuB,6JAAa,wBAAA,EAAuB;QACtE,IAAA,QAAQ,SAAS,QAAA;QAIrB,IAAI,UAAU,MAAM;YAClB,MAAM,UAAU,CAAA,CAAA;YAEV,MAAA,WAAW,SAAS,YAAA,CAAa,UAAU;YAEjD,IAAI,aAAa,KAAA,GAAW;gBAC1B,IAAA,IAAS,IAAI,GAAG,IAAI,SAAS,KAAA,EAAO,IAAK;oBACvC,QAAQ,IAAA,CAAK,CAAC;gBAChB;gBAEA,SAAS,QAAA,CAAS,OAAO;gBACzB,QAAQ,SAAS,QAAA;YAAS,OACrB;gBACG,QAAA,KAAA,CACN;gBAEK,OAAA;YACT;QACF;QAIM,MAAA,oBAAqB,MAA0B,KAAA,GAAQ;QAC7D,MAAM,aAAa,CAAA,CAAA;QAEnB,IAAI,OAAO;YACT,IAAI,6JAAa,sBAAA,EAAqB;gBAGpC,IAAA,IAAS,IAAI,GAAG,KAAK,mBAAmB,IAAK;oBAC3C,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,CAAC,CAAC;oBAC7B,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,CAAC,CAAC;oBAC7B,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,IAAI,CAAC,CAAC;gBACnC;YAAA,OACK;gBAGL,IAAA,IAAS,IAAI,GAAG,IAAI,mBAAmB,IAAK;oBACtC,IAAA,IAAI,MAAM,GAAG;wBACf,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,CAAC,CAAC;wBAC7B,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,IAAI,CAAC,CAAC;wBACjC,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,IAAI,CAAC,CAAC;oBAAA,OAC5B;wBACL,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,IAAI,CAAC,CAAC;wBACjC,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,IAAI,CAAC,CAAC;wBACjC,WAAW,IAAA,CAAK,MAAM,IAAA,CAAK,CAAC,CAAC;oBAC/B;gBACF;YACF;QACF;QAEI,IAAA,WAAW,MAAA,GAAS,MAAM,mBAAmB;YAC/C,QAAQ,KAAA,CAAM,kGAAkG;QAClH;QAIM,MAAA,cAAc,SAAS,KAAA;QAC7B,YAAY,QAAA,CAAS,UAAU;QAC/B,YAAY,WAAA,CAAY;QAEjB,OAAA;IAAA,OACF;QACG,QAAA,KAAA,CAAM,uEAAuE,QAAQ;QACtF,OAAA;IACT;AACF;AAeO,SAAS,yBAAyB,MAAA,EAA+D;IAClG,IAAA,OAAO,QAAA,CAAS,gBAAA,KAAqB,MAAM;QAC7C,QAAQ,KAAA,CAAM,oEAAoE;QAC3E,OAAA;IACT;IAEM,MAAA,MAAM,oJAAI,UAAA;IACV,MAAA,MAAM,oJAAI,UAAA;IACV,MAAA,MAAM,oJAAI,UAAA;IAEV,MAAA,SAAS,oJAAI,UAAA;IACb,MAAA,SAAS,oJAAI,UAAA;IACb,MAAA,SAAS,oJAAI,UAAA;IAEb,MAAA,UAAU,oJAAI,UAAA;IACd,MAAA,UAAU,oJAAI,UAAA;IACd,MAAA,UAAU,oJAAI,UAAA;IAEX,SAAA,+BACPC,OAAAA,EACAC,SAAAA,EACA,SAAA,EACA,cAAA,EACAC,qBAAAA,EACAC,EAAAA,EACAC,EAAAA,EACAC,EAAAA,EACA,sBAAA,EACM;QACF,IAAA,mBAAA,CAAoB,WAAWF,EAAC;QAChC,IAAA,mBAAA,CAAoB,WAAWC,EAAC;QAChC,IAAA,mBAAA,CAAoB,WAAWC,EAAC;QAEpC,MAAM,kBAAkBL,QAAO,qBAAA;QAE/B,IAAA,aAAA;QAEEC,UAAS,YAAA,IACT,kBACA,iBACA;YACQ,QAAA,GAAA,CAAI,GAAG,GAAG,CAAC;YACX,QAAA,GAAA,CAAI,GAAG,GAAG,CAAC;YACX,QAAA,GAAA,CAAI,GAAG,GAAG,CAAC;YAEnB,IAAA,IAASK,KAAI,GAAGC,MAAK,eAAe,MAAA,EAAQD,KAAIC,KAAID,KAAK;gBACjD,MAAA,YAAY,eAAA,CAAgBA,EAAC,CAAA;gBAC7B,MAAA,QAAQ,cAAA,CAAeA,EAAC,CAAA;gBAE9B,IAAI,cAAc,GAAG;gBAEd,OAAA,mBAAA,CAAoB,OAAOH,EAAC;gBAC5B,OAAA,mBAAA,CAAoB,OAAOC,EAAC;gBAC5B,OAAA,mBAAA,CAAoB,OAAOC,EAAC;gBAEnC,IAAIH,uBAAsB;oBAChB,QAAA,eAAA,CAAgB,QAAQ,SAAS;oBACjC,QAAA,eAAA,CAAgB,QAAQ,SAAS;oBACjC,QAAA,eAAA,CAAgB,QAAQ,SAAS;gBAAA,OACpC;oBACL,QAAQ,eAAA,CAAgB,OAAO,GAAA,CAAI,GAAG,GAAG,SAAS;oBAClD,QAAQ,eAAA,CAAgB,OAAO,GAAA,CAAI,GAAG,GAAG,SAAS;oBAClD,QAAQ,eAAA,CAAgB,OAAO,GAAA,CAAI,GAAG,GAAG,SAAS;gBACpD;YACF;YAEA,IAAI,GAAA,CAAI,OAAO;YACf,IAAI,GAAA,CAAI,OAAO;YACf,IAAI,GAAA,CAAI,OAAO;QACjB;QAEA,IAAKF,QAAuB,aAAA,EAAe;YAEzCA,QAAO,aAAA,CAAcG,IAAG,GAAG;YAE3BH,QAAO,aAAA,CAAcI,IAAG,GAAG;YAE3BJ,QAAO,aAAA,CAAcK,IAAG,GAAG;QAC7B;QAEA,sBAAA,CAAuBF,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBC,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBC,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;QACxC,sBAAA,CAAuBA,KAAI,IAAI,CAAC,CAAA,GAAI,IAAI,CAAA;IAC1C;IAEA,MAAM,WAAW,OAAO,QAAA;IACxB,MAAM,WAAW,OAAO,QAAA;IAExB,IAAI,GAAG,GAAG;IACV,MAAM,QAAQ,SAAS,KAAA;IACjB,MAAA,oBAAoB,SAAS,UAAA,CAAW,QAAA;IACxC,MAAA,gBAAgB,SAAS,eAAA,CAAgB,QAAA;IAC/C,MAAM,uBAAuB,SAAS,oBAAA;IAChC,MAAA,kBAAkB,SAAS,UAAA,CAAW,MAAA;IACtC,MAAA,cAAc,SAAS,eAAA,CAAgB,QAAA;IAE7C,MAAM,SAAS,SAAS,MAAA;IACxB,MAAM,YAAY,SAAS,SAAA;IACvB,IAAA,GAAG,GAAG,IAAI;IACd,IAAI,OAAO;IACX,IAAI,OAAO;IAEX,MAAM,mBAAmB,IAAI,aAAa,kBAAkB,KAAA,GAAQ,kBAAkB,QAAQ;IAC9F,MAAM,iBAAiB,IAAI,aAAa,gBAAgB,KAAA,GAAQ,gBAAgB,QAAQ;IAExF,IAAI,UAAU,MAAM;QAGd,IAAA,MAAM,OAAA,CAAQ,QAAQ,GAAG;YAC3B,IAAK,IAAI,GAAG,KAAK,OAAO,MAAA,EAAQ,IAAI,IAAI,IAAK;gBAC3C,QAAQ,MAAA,CAAO,CAAC,CAAA;gBACA,gBAAA,QAAA,CAAS,MAAM,aAAuB,CAAA;gBAEtD,QAAQ,KAAK,GAAA,CAAI,MAAM,KAAA,EAAO,UAAU,KAAK;gBACvC,MAAA,KAAK,GAAA,CAAI,MAAM,KAAA,GAAQ,MAAM,KAAA,EAAO,UAAU,KAAA,GAAQ,UAAU,KAAK;gBAE3E,IAAK,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,EAAG;oBACpC,IAAA,MAAM,IAAA,CAAK,CAAC;oBACZ,IAAA,MAAM,IAAA,CAAK,IAAI,CAAC;oBAChB,IAAA,MAAM,IAAA,CAAK,IAAI,CAAC;oBAEpB,+BACE,QACA,eACA,mBACA,eACA,sBACA,GACA,GACA,GACA;oBAGF,+BACE,QACA,eACA,iBACA,aACA,sBACA,GACA,GACA,GACA;gBAEJ;YACF;QAAA,OACK;YACL,QAAQ,KAAK,GAAA,CAAI,GAAG,UAAU,KAAK;YACnC,MAAM,KAAK,GAAA,CAAI,MAAM,KAAA,EAAO,UAAU,KAAA,GAAQ,UAAU,KAAK;YAE7D,IAAK,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,EAAG;gBACpC,IAAA,MAAM,IAAA,CAAK,CAAC;gBACZ,IAAA,MAAM,IAAA,CAAK,IAAI,CAAC;gBAChB,IAAA,MAAM,IAAA,CAAK,IAAI,CAAC;gBAEpB,+BACE,QACA,UACA,mBACA,eACA,sBACA,GACA,GACA,GACA;gBAGF,+BACE,QACA,UACA,iBACA,aACA,sBACA,GACA,GACA,GACA;YAEJ;QACF;IAAA,OAAA,IACS,sBAAsB,KAAA,GAAW;QAGtC,IAAA,MAAM,OAAA,CAAQ,QAAQ,GAAG;YAC3B,IAAK,IAAI,GAAG,KAAK,OAAO,MAAA,EAAQ,IAAI,IAAI,IAAK;gBAC3C,QAAQ,MAAA,CAAO,CAAC,CAAA;gBACA,gBAAA,QAAA,CAAS,MAAM,aAAuB,CAAA;gBAEtD,QAAQ,KAAK,GAAA,CAAI,MAAM,KAAA,EAAO,UAAU,KAAK;gBACvC,MAAA,KAAK,GAAA,CAAI,MAAM,KAAA,GAAQ,MAAM,KAAA,EAAO,UAAU,KAAA,GAAQ,UAAU,KAAK;gBAE3E,IAAK,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,EAAG;oBACpC,IAAA;oBACJ,IAAI,IAAI;oBACR,IAAI,IAAI;oBAER,+BACE,QACA,eACA,mBACA,eACA,sBACA,GACA,GACA,GACA;oBAGF,+BACE,QACA,eACA,iBACA,aACA,sBACA,GACA,GACA,GACA;gBAEJ;YACF;QAAA,OACK;YACL,QAAQ,KAAK,GAAA,CAAI,GAAG,UAAU,KAAK;YACnC,MAAM,KAAK,GAAA,CAAI,kBAAkB,KAAA,EAAO,UAAU,KAAA,GAAQ,UAAU,KAAK;YAEzE,IAAK,IAAI,OAAO,KAAK,KAAK,IAAI,IAAI,KAAK,EAAG;gBACpC,IAAA;gBACJ,IAAI,IAAI;gBACR,IAAI,IAAI;gBAER,+BACE,QACA,UACA,mBACA,eACA,sBACA,GACA,GACA,GACA;gBAGF,+BACE,QACA,UACA,iBACA,aACA,sBACA,GACA,GACA,GACA;YAEJ;QACF;IACF;IAEA,MAAM,2BAA2B,oJAAI,yBAAA,CAAuB,kBAAkB,CAAC;IAC/E,MAAM,yBAAyB,IAAI,yKAAA,CAAuB,gBAAgB,CAAC;IAEpE,OAAA;QACL;QACA;QACA;QACA;IAAA;AAEJ;AAiBO,SAAS,iBAAiB,QAAA,EAA0B,cAAc,KAAK,EAAA,GAAK,CAAA,EAAoC;IAC/G,MAAA,YAAY,KAAK,GAAA,CAAI,WAAW;IAChC,MAAA,iBAAA,CAAkB,IAAI,KAAA,IAAS;IAG/B,MAAA,QAAQ;QAAC,IAAI,0JAAA,CAAQ;QAAG,oJAAI,UAAA;QAAW,oJAAI,UAAA,CAAA,CAAS;KAAA;IACpD,MAAA,WAAW,oJAAI,UAAA;IACf,MAAA,WAAW,oJAAI,UAAA;IACf,MAAA,WAAW,IAAI,0JAAA;IACf,MAAA,YAAY,oJAAI,UAAA;IAGtB,SAAS,WAAW,CAAA,EAAoB;QACtC,MAAM,IAAI,CAAC,CAAA,CAAE,EAAE,CAAA,GAAI,cAAA;QACnB,MAAM,IAAI,CAAC,CAAA,CAAE,EAAE,CAAA,GAAI,cAAA;QACnB,MAAM,IAAI,CAAC,CAAA,CAAE,EAAE,CAAA,GAAI,cAAA;QACZ,OAAA,GAAG,EAAA,CAAA,EAAK,EAAA,CAAA,EAAK,GAAA;IACtB;IAEA,MAAM,iBAAiB,SAAS,KAAA,GAAQ,SAAS,YAAA,CAAiB,IAAA;IAC5D,MAAA,UAAU,eAAe,UAAA,CAAW,QAAA;IAC1C,MAAM,YAA0C,CAAA;IAGvC,IAAA,IAAA,IAAI,GAAG,IAAI,QAAQ,KAAA,GAAQ,GAAG,IAAI,GAAG,IAAK;QACjD,MAAM,KAAK,IAAI;QACf,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QACtD,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QACtD,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QAE7C,SAAA,UAAA,CAAW,GAAG,CAAC;QACf,SAAA,UAAA,CAAW,GAAG,CAAC;QAGlB,MAAA,SAAS,oJAAI,UAAA,GAAU,YAAA,CAAa,UAAU,QAAQ,EAAE,SAAA;QAC9D,IAAA,IAAS,IAAI,GAAG,IAAI,GAAG,IAAK;YACpB,MAAA,OAAO,KAAA,CAAM,CAAC,CAAA;YACd,MAAA,OAAO,WAAW,IAAI;YACxB,IAAA,CAAA,CAAE,QAAQ,SAAA,GAAY;gBACd,SAAA,CAAA,IAAI,CAAA,GAAI,EAAA;YACpB;YAEU,SAAA,CAAA,IAAI,CAAA,CAAE,IAAA,CAAK,MAAM;QAC7B;IACF;IAIA,MAAM,cAAc,IAAI,aAAa,QAAQ,KAAA,GAAQ,CAAC;IACtD,MAAM,WAAW,IAAI,kKAAA,CAAgB,aAAa,GAAG,KAAK;IACjD,IAAA,IAAA,IAAI,GAAG,IAAI,QAAQ,KAAA,GAAQ,GAAG,IAAI,GAAG,IAAK;QAEjD,MAAM,KAAK,IAAI;QACf,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QACtD,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QACtD,MAAM,IAAI,KAAA,CAAM,CAAC,CAAA,CAAE,mBAAA,CAAoB,SAAS,KAAK,CAAC;QAE7C,SAAA,UAAA,CAAW,GAAG,CAAC;QACf,SAAA,UAAA,CAAW,GAAG,CAAC;QAExB,SAAS,YAAA,CAAa,UAAU,QAAQ,EAAE,SAAA,CAAU;QAGpD,IAAA,IAAS,IAAI,GAAG,IAAI,GAAG,IAAK;YACpB,MAAA,OAAO,KAAA,CAAM,CAAC,CAAA;YACd,MAAA,OAAO,WAAW,IAAI;YACtB,MAAA,eAAe,SAAA,CAAU,IAAI,CAAA;YACzB,UAAA,GAAA,CAAI,GAAG,GAAG,CAAC;YAErB,IAAA,IAAS,IAAI,GAAG,KAAK,aAAa,MAAA,EAAQ,IAAI,IAAI,IAAK;gBAC/C,MAAA,YAAY,YAAA,CAAa,CAAC,CAAA;gBAChC,IAAI,SAAS,GAAA,CAAI,SAAS,IAAI,WAAW;oBACvC,UAAU,GAAA,CAAI,SAAS;gBACzB;YACF;YAEA,UAAU,SAAA,CAAU;YACX,SAAA,MAAA,CAAO,KAAK,GAAG,UAAU,CAAA,EAAG,UAAU,CAAA,EAAG,UAAU,CAAC;QAC/D;IACF;IAEe,eAAA,YAAA,CAAa,UAAU,QAAQ;IACvC,OAAA;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1519, "column": 0}, "map": {"version":3,"file":"constants.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/constants.ts"],"sourcesContent":["import { REVISION } from 'three'\n\nexport const version = /* @__PURE__ */ (() => parseInt(REVISION.replace(/\\D+/g, '')))()\n"],"names":[],"mappings":";;;;;AAEa,MAAA,UAAA,aAAA,GAAA,CAAA,IAAiC,yJAAS,WAAA,CAAS,OAAA,CAAQ,QAAQ,EAAE,CAAC,CAAA,EAAG","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1533, "column": 0}, "map": {"version":3,"file":"LoaderUtils.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/LoaderUtils.js"],"sourcesContent":["export function decodeText(array) {\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder().decode(array)\n  }\n\n  // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n  // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n  let s = ''\n\n  for (let i = 0, il = array.length; i < il; i++) {\n    // Implicitly assumes little-endian.\n    s += String.fromCharCode(array[i])\n  }\n\n  try {\n    // merges multi-byte utf-8 characters.\n\n    return decodeURIComponent(escape(s))\n  } catch (e) {\n    // see https://github.com/mrdoob/three.js/issues/16358\n\n    return s\n  }\n}\n"],"names":[],"mappings":";;;AAAO,SAAS,WAAW,KAAA,EAAO;IAChC,IAAI,OAAO,gBAAgB,aAAa;QACtC,OAAO,IAAI,YAAW,EAAG,MAAA,CAAO,KAAK;IACtC;IAKD,IAAI,IAAI;IAER,IAAA,IAAS,IAAI,GAAG,KAAK,MAAM,MAAA,EAAQ,IAAI,IAAI,IAAK;QAE9C,KAAK,OAAO,YAAA,CAAa,KAAA,CAAM,CAAC,CAAC;IAClC;IAED,IAAI;QAGF,OAAO,mBAAmB,OAAO,CAAC,CAAC;IACpC,EAAA,OAAQ,GAAP;QAGA,OAAO;IACR;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1558, "column": 0}, "map": {"version":3,"file":"GLTFLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/GLTFLoader.js"],"sourcesContent":["import {\n  AnimationClip,\n  Bone,\n  Box3,\n  BufferAttribute,\n  BufferGeometry,\n  ClampToEdgeWrapping,\n  Color,\n  DirectionalLight,\n  DoubleSide,\n  FileLoader,\n  FrontSide,\n  Group,\n  ImageBitmapLoader,\n  InstancedMesh,\n  InterleavedBuffer,\n  InterleavedBufferAttribute,\n  Interpolant,\n  InterpolateDiscrete,\n  InterpolateLinear,\n  Line,\n  LineBasicMaterial,\n  LineLoop,\n  LineSegments,\n  LinearFilter,\n  LinearMipmapLinearFilter,\n  LinearMipmapNearestFilter,\n  Loader,\n  LoaderUtils,\n  Material,\n  MathUtils,\n  Matrix4,\n  Mesh,\n  MeshBasicMaterial,\n  MeshPhysicalMaterial,\n  MeshStandardMaterial,\n  MirroredRepeatWrapping,\n  NearestFilter,\n  NearestMipmapLinearFilter,\n  NearestMipmapNearestFilter,\n  NumberKeyframeTrack,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  Points,\n  PointsMaterial,\n  PropertyBinding,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  RepeatWrapping,\n  Skeleton,\n  SkinnedMesh,\n  Sphere,\n  SpotLight,\n  Texture,\n  TextureLoader,\n  TriangleFanDrawMode,\n  TriangleStripDrawMode,\n  Vector2,\n  Vector3,\n  VectorKeyframeTrack,\n  InstancedBufferAttribute,\n} from 'three'\nimport { toTrianglesDrawMode } from '../utils/BufferGeometryUtils'\nimport { version } from '../_polyfill/constants'\nimport { decodeText } from '../_polyfill/LoaderUtils'\n\nconst SRGBColorSpace = 'srgb'\nconst LinearSRGBColorSpace = 'srgb-linear'\nconst sRGBEncoding = 3001\nconst LinearEncoding = 3000\n\nclass GLTFLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.dracoLoader = null\n    this.ktx2Loader = null\n    this.meshoptDecoder = null\n\n    this.pluginCallbacks = []\n\n    this.register(function (parser) {\n      return new GLTFMaterialsClearcoatExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsDispersionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureBasisUExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureWebPExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFTextureAVIFExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSheenExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsTransmissionExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsVolumeExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIorExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsEmissiveStrengthExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsSpecularExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsIridescenceExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsAnisotropyExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMaterialsBumpExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFLightsExtension(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshoptCompression(parser)\n    })\n\n    this.register(function (parser) {\n      return new GLTFMeshGpuInstancing(parser)\n    })\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this\n\n    let resourcePath\n\n    if (this.resourcePath !== '') {\n      resourcePath = this.resourcePath\n    } else if (this.path !== '') {\n      // If a base path is set, resources will be relative paths from that plus the relative path of the gltf file\n      // Example  path = 'https://my-cnd-server.com/', url = 'assets/models/model.gltf'\n      // resourcePath = 'https://my-cnd-server.com/assets/models/'\n      // referenced resource 'model.bin' will be loaded from 'https://my-cnd-server.com/assets/models/model.bin'\n      // referenced resource '../textures/texture.png' will be loaded from 'https://my-cnd-server.com/assets/textures/texture.png'\n      const relativeUrl = LoaderUtils.extractUrlBase(url)\n      resourcePath = LoaderUtils.resolveURL(relativeUrl, this.path)\n    } else {\n      resourcePath = LoaderUtils.extractUrlBase(url)\n    }\n\n    // Tells the LoadingManager to track an extra item, which resolves after\n    // the model is fully loaded. This means the count of items loaded will\n    // be incorrect, but ensures manager.onLoad() does not fire early.\n    this.manager.itemStart(url)\n\n    const _onError = function (e) {\n      if (onError) {\n        onError(e)\n      } else {\n        console.error(e)\n      }\n\n      scope.manager.itemError(url)\n      scope.manager.itemEnd(url)\n    }\n\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      function (data) {\n        try {\n          scope.parse(\n            data,\n            resourcePath,\n            function (gltf) {\n              onLoad(gltf)\n\n              scope.manager.itemEnd(url)\n            },\n            _onError,\n          )\n        } catch (e) {\n          _onError(e)\n        }\n      },\n      onProgress,\n      _onError,\n    )\n  }\n\n  setDRACOLoader(dracoLoader) {\n    this.dracoLoader = dracoLoader\n    return this\n  }\n\n  setDDSLoader() {\n    throw new Error('THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".')\n  }\n\n  setKTX2Loader(ktx2Loader) {\n    this.ktx2Loader = ktx2Loader\n    return this\n  }\n\n  setMeshoptDecoder(meshoptDecoder) {\n    this.meshoptDecoder = meshoptDecoder\n    return this\n  }\n\n  register(callback) {\n    if (this.pluginCallbacks.indexOf(callback) === -1) {\n      this.pluginCallbacks.push(callback)\n    }\n\n    return this\n  }\n\n  unregister(callback) {\n    if (this.pluginCallbacks.indexOf(callback) !== -1) {\n      this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(callback), 1)\n    }\n\n    return this\n  }\n\n  parse(data, path, onLoad, onError) {\n    let json\n    const extensions = {}\n    const plugins = {}\n\n    if (typeof data === 'string') {\n      json = JSON.parse(data)\n    } else if (data instanceof ArrayBuffer) {\n      const magic = decodeText(new Uint8Array(data.slice(0, 4)))\n\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\n        try {\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data)\n        } catch (error) {\n          if (onError) onError(error)\n          return\n        }\n\n        json = JSON.parse(extensions[EXTENSIONS.KHR_BINARY_GLTF].content)\n      } else {\n        json = JSON.parse(decodeText(new Uint8Array(data)))\n      }\n    } else {\n      json = data\n    }\n\n    if (json.asset === undefined || json.asset.version[0] < 2) {\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.'))\n      return\n    }\n\n    const parser = new GLTFParser(json, {\n      path: path || this.resourcePath || '',\n      crossOrigin: this.crossOrigin,\n      requestHeader: this.requestHeader,\n      manager: this.manager,\n      ktx2Loader: this.ktx2Loader,\n      meshoptDecoder: this.meshoptDecoder,\n    })\n\n    parser.fileLoader.setRequestHeader(this.requestHeader)\n\n    for (let i = 0; i < this.pluginCallbacks.length; i++) {\n      const plugin = this.pluginCallbacks[i](parser)\n\n      if (!plugin.name) console.error('THREE.GLTFLoader: Invalid plugin found: missing name')\n\n      plugins[plugin.name] = plugin\n\n      // Workaround to avoid determining as unknown extension\n      // in addUnknownExtensionsToUserData().\n      // Remove this workaround if we move all the existing\n      // extension handlers to plugin system\n      extensions[plugin.name] = true\n    }\n\n    if (json.extensionsUsed) {\n      for (let i = 0; i < json.extensionsUsed.length; ++i) {\n        const extensionName = json.extensionsUsed[i]\n        const extensionsRequired = json.extensionsRequired || []\n\n        switch (extensionName) {\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension()\n            break\n\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader)\n            break\n\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n            extensions[extensionName] = new GLTFTextureTransformExtension()\n            break\n\n          case EXTENSIONS.KHR_MESH_QUANTIZATION:\n            extensions[extensionName] = new GLTFMeshQuantizationExtension()\n            break\n\n          default:\n            if (extensionsRequired.indexOf(extensionName) >= 0 && plugins[extensionName] === undefined) {\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".')\n            }\n        }\n      }\n    }\n\n    parser.setExtensions(extensions)\n    parser.setPlugins(plugins)\n    parser.parse(onLoad, onError)\n  }\n\n  parseAsync(data, path) {\n    const scope = this\n\n    return new Promise(function (resolve, reject) {\n      scope.parse(data, path, resolve, reject)\n    })\n  }\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n  let objects = {}\n\n  return {\n    get: function (key) {\n      return objects[key]\n    },\n\n    add: function (key, object) {\n      objects[key] = object\n    },\n\n    remove: function (key) {\n      delete objects[key]\n    },\n\n    removeAll: function () {\n      objects = {}\n    },\n  }\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n  KHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n  KHR_MATERIALS_DISPERSION: 'KHR_materials_dispersion',\n  KHR_MATERIALS_IOR: 'KHR_materials_ior',\n  KHR_MATERIALS_SHEEN: 'KHR_materials_sheen',\n  KHR_MATERIALS_SPECULAR: 'KHR_materials_specular',\n  KHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n  KHR_MATERIALS_IRIDESCENCE: 'KHR_materials_iridescence',\n  KHR_MATERIALS_ANISOTROPY: 'KHR_materials_anisotropy',\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n  KHR_MATERIALS_VOLUME: 'KHR_materials_volume',\n  KHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n  KHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n  KHR_MATERIALS_EMISSIVE_STRENGTH: 'KHR_materials_emissive_strength',\n  EXT_MATERIALS_BUMP: 'EXT_materials_bump',\n  EXT_TEXTURE_WEBP: 'EXT_texture_webp',\n  EXT_TEXTURE_AVIF: 'EXT_texture_avif',\n  EXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n  EXT_MESH_GPU_INSTANCING: 'EXT_mesh_gpu_instancing',\n}\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL\n\n    // Object3D instance caches\n    this.cache = { refs: {}, uses: {} }\n  }\n\n  _markDefs() {\n    const parser = this.parser\n    const nodeDefs = this.parser.json.nodes || []\n\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.extensions && nodeDef.extensions[this.name] && nodeDef.extensions[this.name].light !== undefined) {\n        parser._addNodeRef(this.cache, nodeDef.extensions[this.name].light)\n      }\n    }\n  }\n\n  _loadLight(lightIndex) {\n    const parser = this.parser\n    const cacheKey = 'light:' + lightIndex\n    let dependency = parser.cache.get(cacheKey)\n\n    if (dependency) return dependency\n\n    const json = parser.json\n    const extensions = (json.extensions && json.extensions[this.name]) || {}\n    const lightDefs = extensions.lights || []\n    const lightDef = lightDefs[lightIndex]\n    let lightNode\n\n    const color = new Color(0xffffff)\n\n    if (lightDef.color !== undefined)\n      color.setRGB(lightDef.color[0], lightDef.color[1], lightDef.color[2], LinearSRGBColorSpace)\n\n    const range = lightDef.range !== undefined ? lightDef.range : 0\n\n    switch (lightDef.type) {\n      case 'directional':\n        lightNode = new DirectionalLight(color)\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      case 'point':\n        lightNode = new PointLight(color)\n        lightNode.distance = range\n        break\n\n      case 'spot':\n        lightNode = new SpotLight(color)\n        lightNode.distance = range\n        // Handle spotlight properties.\n        lightDef.spot = lightDef.spot || {}\n        lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0\n        lightDef.spot.outerConeAngle =\n          lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0\n        lightNode.angle = lightDef.spot.outerConeAngle\n        lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle\n        lightNode.target.position.set(0, 0, -1)\n        lightNode.add(lightNode.target)\n        break\n\n      default:\n        throw new Error('THREE.GLTFLoader: Unexpected light type: ' + lightDef.type)\n    }\n\n    // Some lights (e.g. spot) default to a position other than the origin. Reset the position\n    // here, because node-level parsing will only override position if explicitly specified.\n    lightNode.position.set(0, 0, 0)\n\n    lightNode.decay = 2\n\n    assignExtrasToUserData(lightNode, lightDef)\n\n    if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity\n\n    lightNode.name = parser.createUniqueName(lightDef.name || 'light_' + lightIndex)\n\n    dependency = Promise.resolve(lightNode)\n\n    parser.cache.add(cacheKey, dependency)\n\n    return dependency\n  }\n\n  getDependency(type, index) {\n    if (type !== 'light') return\n\n    return this._loadLight(index)\n  }\n\n  createNodeAttachment(nodeIndex) {\n    const self = this\n    const parser = this.parser\n    const json = parser.json\n    const nodeDef = json.nodes[nodeIndex]\n    const lightDef = (nodeDef.extensions && nodeDef.extensions[this.name]) || {}\n    const lightIndex = lightDef.light\n\n    if (lightIndex === undefined) return null\n\n    return this._loadLight(lightIndex).then(function (light) {\n      return parser._getNodeRef(self.cache, lightIndex, light)\n    })\n  }\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MATERIALS_UNLIT\n  }\n\n  getMaterialType() {\n    return MeshBasicMaterial\n  }\n\n  extendParams(materialParams, materialDef, parser) {\n    const pending = []\n\n    materialParams.color = new Color(1.0, 1.0, 1.0)\n    materialParams.opacity = 1.0\n\n    const metallicRoughness = materialDef.pbrMetallicRoughness\n\n    if (metallicRoughness) {\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Emissive Strength Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/blob/5768b3ce0ef32bc39cdf1bef10b948586635ead3/extensions/2.0/Khronos/KHR_materials_emissive_strength/README.md\n */\nclass GLTFMaterialsEmissiveStrengthExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const emissiveStrength = materialDef.extensions[this.name].emissiveStrength\n\n    if (emissiveStrength !== undefined) {\n      materialParams.emissiveIntensity = emissiveStrength\n    }\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.clearcoatFactor !== undefined) {\n      materialParams.clearcoat = extension.clearcoatFactor\n    }\n\n    if (extension.clearcoatTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatMap', extension.clearcoatTexture))\n    }\n\n    if (extension.clearcoatRoughnessFactor !== undefined) {\n      materialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor\n    }\n\n    if (extension.clearcoatRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture))\n    }\n\n    if (extension.clearcoatNormalTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture))\n\n      if (extension.clearcoatNormalTexture.scale !== undefined) {\n        const scale = extension.clearcoatNormalTexture.scale\n\n        materialParams.clearcoatNormalScale = new Vector2(scale, scale)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials dispersion Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_dispersion\n */\nclass GLTFMaterialsDispersionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_DISPERSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.dispersion = extension.dispersion !== undefined ? extension.dispersion : 0\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Iridescence Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_iridescence\n */\nclass GLTFMaterialsIridescenceExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IRIDESCENCE\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.iridescenceFactor !== undefined) {\n      materialParams.iridescence = extension.iridescenceFactor\n    }\n\n    if (extension.iridescenceTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'iridescenceMap', extension.iridescenceTexture))\n    }\n\n    if (extension.iridescenceIor !== undefined) {\n      materialParams.iridescenceIOR = extension.iridescenceIor\n    }\n\n    if (materialParams.iridescenceThicknessRange === undefined) {\n      materialParams.iridescenceThicknessRange = [100, 400]\n    }\n\n    if (extension.iridescenceThicknessMinimum !== undefined) {\n      materialParams.iridescenceThicknessRange[0] = extension.iridescenceThicknessMinimum\n    }\n\n    if (extension.iridescenceThicknessMaximum !== undefined) {\n      materialParams.iridescenceThicknessRange[1] = extension.iridescenceThicknessMaximum\n    }\n\n    if (extension.iridescenceThicknessTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'iridescenceThicknessMap', extension.iridescenceThicknessTexture),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Sheen Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/main/extensions/2.0/Khronos/KHR_materials_sheen\n */\nclass GLTFMaterialsSheenExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SHEEN\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    materialParams.sheenColor = new Color(0, 0, 0)\n    materialParams.sheenRoughness = 0\n    materialParams.sheen = 1\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.sheenColorFactor !== undefined) {\n      const colorFactor = extension.sheenColorFactor\n      materialParams.sheenColor.setRGB(colorFactor[0], colorFactor[1], colorFactor[2], LinearSRGBColorSpace)\n    }\n\n    if (extension.sheenRoughnessFactor !== undefined) {\n      materialParams.sheenRoughness = extension.sheenRoughnessFactor\n    }\n\n    if (extension.sheenColorTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenColorMap', extension.sheenColorTexture, SRGBColorSpace))\n    }\n\n    if (extension.sheenRoughnessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'sheenRoughnessMap', extension.sheenRoughnessTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.transmissionFactor !== undefined) {\n      materialParams.transmission = extension.transmissionFactor\n    }\n\n    if (extension.transmissionTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'transmissionMap', extension.transmissionTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials Volume Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_volume\n */\nclass GLTFMaterialsVolumeExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_VOLUME\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.thickness = extension.thicknessFactor !== undefined ? extension.thicknessFactor : 0\n\n    if (extension.thicknessTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'thicknessMap', extension.thicknessTexture))\n    }\n\n    materialParams.attenuationDistance = extension.attenuationDistance || Infinity\n\n    const colorArray = extension.attenuationColor || [1, 1, 1]\n    materialParams.attenuationColor = new Color().setRGB(\n      colorArray[0],\n      colorArray[1],\n      colorArray[2],\n      LinearSRGBColorSpace,\n    )\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials ior Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_ior\n */\nclass GLTFMaterialsIorExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_IOR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.ior = extension.ior !== undefined ? extension.ior : 1.5\n\n    return Promise.resolve()\n  }\n}\n\n/**\n * Materials specular Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_specular\n */\nclass GLTFMaterialsSpecularExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_SPECULAR\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.specularIntensity = extension.specularFactor !== undefined ? extension.specularFactor : 1.0\n\n    if (extension.specularTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'specularIntensityMap', extension.specularTexture))\n    }\n\n    const colorArray = extension.specularColorFactor || [1, 1, 1]\n    materialParams.specularColor = new Color().setRGB(colorArray[0], colorArray[1], colorArray[2], LinearSRGBColorSpace)\n\n    if (extension.specularColorTexture !== undefined) {\n      pending.push(\n        parser.assignTexture(materialParams, 'specularColorMap', extension.specularColorTexture, SRGBColorSpace),\n      )\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials bump Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/EXT_materials_bump\n */\nclass GLTFMaterialsBumpExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_MATERIALS_BUMP\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    materialParams.bumpScale = extension.bumpFactor !== undefined ? extension.bumpFactor : 1.0\n\n    if (extension.bumpTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'bumpMap', extension.bumpTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * Materials anisotropy Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_anisotropy\n */\nclass GLTFMaterialsAnisotropyExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_MATERIALS_ANISOTROPY\n  }\n\n  getMaterialType(materialIndex) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) return null\n\n    return MeshPhysicalMaterial\n  }\n\n  extendMaterialParams(materialIndex, materialParams) {\n    const parser = this.parser\n    const materialDef = parser.json.materials[materialIndex]\n\n    if (!materialDef.extensions || !materialDef.extensions[this.name]) {\n      return Promise.resolve()\n    }\n\n    const pending = []\n\n    const extension = materialDef.extensions[this.name]\n\n    if (extension.anisotropyStrength !== undefined) {\n      materialParams.anisotropy = extension.anisotropyStrength\n    }\n\n    if (extension.anisotropyRotation !== undefined) {\n      materialParams.anisotropyRotation = extension.anisotropyRotation\n    }\n\n    if (extension.anisotropyTexture !== undefined) {\n      pending.push(parser.assignTexture(materialParams, 'anisotropyMap', extension.anisotropyTexture))\n    }\n\n    return Promise.all(pending)\n  }\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.KHR_TEXTURE_BASISU\n  }\n\n  loadTexture(textureIndex) {\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[this.name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[this.name]\n    const loader = parser.options.ktx2Loader\n\n    if (!loader) {\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n        throw new Error('THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures')\n      } else {\n        // Assumes that the extension is optional and that a fallback texture is present\n        return null\n      }\n    }\n\n    return parser.loadTextureImage(textureIndex, extension.source, loader)\n  }\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_WEBP\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: WebP required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image. Support for lossy images doesn't guarantee support for all\n        // WebP images, unfortunately.\n        image.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA'\n\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * AVIF Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_avif\n */\nclass GLTFTextureAVIFExtension {\n  constructor(parser) {\n    this.parser = parser\n    this.name = EXTENSIONS.EXT_TEXTURE_AVIF\n    this.isSupported = null\n  }\n\n  loadTexture(textureIndex) {\n    const name = this.name\n    const parser = this.parser\n    const json = parser.json\n\n    const textureDef = json.textures[textureIndex]\n\n    if (!textureDef.extensions || !textureDef.extensions[name]) {\n      return null\n    }\n\n    const extension = textureDef.extensions[name]\n    const source = json.images[extension.source]\n\n    let loader = parser.textureLoader\n    if (source.uri) {\n      const handler = parser.options.manager.getHandler(source.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.detectSupport().then(function (isSupported) {\n      if (isSupported) return parser.loadTextureImage(textureIndex, extension.source, loader)\n\n      if (json.extensionsRequired && json.extensionsRequired.indexOf(name) >= 0) {\n        throw new Error('THREE.GLTFLoader: AVIF required by asset but unsupported.')\n      }\n\n      // Fall back to PNG or JPEG.\n      return parser.loadTexture(textureIndex)\n    })\n  }\n\n  detectSupport() {\n    if (!this.isSupported) {\n      this.isSupported = new Promise(function (resolve) {\n        const image = new Image()\n\n        // Lossy test image.\n        image.src =\n          'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI='\n        image.onload = image.onerror = function () {\n          resolve(image.height === 1)\n        }\n      })\n    }\n\n    return this.isSupported\n  }\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION\n    this.parser = parser\n  }\n\n  loadBufferView(index) {\n    const json = this.parser.json\n    const bufferView = json.bufferViews[index]\n\n    if (bufferView.extensions && bufferView.extensions[this.name]) {\n      const extensionDef = bufferView.extensions[this.name]\n\n      const buffer = this.parser.getDependency('buffer', extensionDef.buffer)\n      const decoder = this.parser.options.meshoptDecoder\n\n      if (!decoder || !decoder.supported) {\n        if (json.extensionsRequired && json.extensionsRequired.indexOf(this.name) >= 0) {\n          throw new Error('THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files')\n        } else {\n          // Assumes that the extension is optional and that fallback buffer data is present\n          return null\n        }\n      }\n\n      return buffer.then(function (res) {\n        const byteOffset = extensionDef.byteOffset || 0\n        const byteLength = extensionDef.byteLength || 0\n\n        const count = extensionDef.count\n        const stride = extensionDef.byteStride\n\n        const source = new Uint8Array(res, byteOffset, byteLength)\n\n        if (decoder.decodeGltfBufferAsync) {\n          return decoder\n            .decodeGltfBufferAsync(count, stride, source, extensionDef.mode, extensionDef.filter)\n            .then(function (res) {\n              return res.buffer\n            })\n        } else {\n          // Support for MeshoptDecoder 0.18 or earlier, without decodeGltfBufferAsync\n          return decoder.ready.then(function () {\n            const result = new ArrayBuffer(count * stride)\n            decoder.decodeGltfBuffer(\n              new Uint8Array(result),\n              count,\n              stride,\n              source,\n              extensionDef.mode,\n              extensionDef.filter,\n            )\n            return result\n          })\n        }\n      })\n    } else {\n      return null\n    }\n  }\n}\n\n/**\n * GPU Instancing Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_mesh_gpu_instancing\n *\n */\nclass GLTFMeshGpuInstancing {\n  constructor(parser) {\n    this.name = EXTENSIONS.EXT_MESH_GPU_INSTANCING\n    this.parser = parser\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.parser.json\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (!nodeDef.extensions || !nodeDef.extensions[this.name] || nodeDef.mesh === undefined) {\n      return null\n    }\n\n    const meshDef = json.meshes[nodeDef.mesh]\n\n    // No Points or Lines + Instancing support yet\n\n    for (const primitive of meshDef.primitives) {\n      if (\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLES &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_STRIP &&\n        primitive.mode !== WEBGL_CONSTANTS.TRIANGLE_FAN &&\n        primitive.mode !== undefined\n      ) {\n        return null\n      }\n    }\n\n    const extensionDef = nodeDef.extensions[this.name]\n    const attributesDef = extensionDef.attributes\n\n    // @TODO: Can we support InstancedMesh + SkinnedMesh?\n\n    const pending = []\n    const attributes = {}\n\n    for (const key in attributesDef) {\n      pending.push(\n        this.parser.getDependency('accessor', attributesDef[key]).then((accessor) => {\n          attributes[key] = accessor\n          return attributes[key]\n        }),\n      )\n    }\n\n    if (pending.length < 1) {\n      return null\n    }\n\n    pending.push(this.parser.createNodeMesh(nodeIndex))\n\n    return Promise.all(pending).then((results) => {\n      const nodeObject = results.pop()\n      const meshes = nodeObject.isGroup ? nodeObject.children : [nodeObject]\n      const count = results[0].count // All attribute counts should be same\n      const instancedMeshes = []\n\n      for (const mesh of meshes) {\n        // Temporal variables\n        const m = new Matrix4()\n        const p = new Vector3()\n        const q = new Quaternion()\n        const s = new Vector3(1, 1, 1)\n\n        const instancedMesh = new InstancedMesh(mesh.geometry, mesh.material, count)\n\n        for (let i = 0; i < count; i++) {\n          if (attributes.TRANSLATION) {\n            p.fromBufferAttribute(attributes.TRANSLATION, i)\n          }\n\n          if (attributes.ROTATION) {\n            q.fromBufferAttribute(attributes.ROTATION, i)\n          }\n\n          if (attributes.SCALE) {\n            s.fromBufferAttribute(attributes.SCALE, i)\n          }\n\n          instancedMesh.setMatrixAt(i, m.compose(p, q, s))\n        }\n\n        // Add instance attributes to the geometry, excluding TRS.\n        for (const attributeName in attributes) {\n          if (attributeName === '_COLOR_0') {\n            const attr = attributes[attributeName]\n            instancedMesh.instanceColor = new InstancedBufferAttribute(attr.array, attr.itemSize, attr.normalized)\n          } else if (attributeName !== 'TRANSLATION' && attributeName !== 'ROTATION' && attributeName !== 'SCALE') {\n            mesh.geometry.setAttribute(attributeName, attributes[attributeName])\n          }\n        }\n\n        // Just in case\n        Object3D.prototype.copy.call(instancedMesh, mesh)\n\n        this.parser.assignFinalMaterial(instancedMesh)\n\n        instancedMeshes.push(instancedMesh)\n      }\n\n      if (nodeObject.isGroup) {\n        nodeObject.clear()\n\n        nodeObject.add(...instancedMeshes)\n\n        return nodeObject\n      }\n\n      return instancedMeshes[0]\n    })\n  }\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF'\nconst BINARY_EXTENSION_HEADER_LENGTH = 12\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4e4f534a, BIN: 0x004e4942 }\n\nclass GLTFBinaryExtension {\n  constructor(data) {\n    this.name = EXTENSIONS.KHR_BINARY_GLTF\n    this.content = null\n    this.body = null\n\n    const headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH)\n\n    this.header = {\n      magic: decodeText(new Uint8Array(data.slice(0, 4))),\n      version: headerView.getUint32(4, true),\n      length: headerView.getUint32(8, true),\n    }\n\n    if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\n      throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.')\n    } else if (this.header.version < 2.0) {\n      throw new Error('THREE.GLTFLoader: Legacy binary file detected.')\n    }\n\n    const chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH\n    const chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH)\n    let chunkIndex = 0\n\n    while (chunkIndex < chunkContentsLength) {\n      const chunkLength = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      const chunkType = chunkView.getUint32(chunkIndex, true)\n      chunkIndex += 4\n\n      if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\n        const contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength)\n        this.content = decodeText(contentArray)\n      } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\n        const byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex\n        this.body = data.slice(byteOffset, byteOffset + chunkLength)\n      }\n\n      // Clients must ignore chunks with unknown types.\n\n      chunkIndex += chunkLength\n    }\n\n    if (this.content === null) {\n      throw new Error('THREE.GLTFLoader: JSON content not found.')\n    }\n  }\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n  constructor(json, dracoLoader) {\n    if (!dracoLoader) {\n      throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.')\n    }\n\n    this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION\n    this.json = json\n    this.dracoLoader = dracoLoader\n    this.dracoLoader.preload()\n  }\n\n  decodePrimitive(primitive, parser) {\n    const json = this.json\n    const dracoLoader = this.dracoLoader\n    const bufferViewIndex = primitive.extensions[this.name].bufferView\n    const gltfAttributeMap = primitive.extensions[this.name].attributes\n    const threeAttributeMap = {}\n    const attributeNormalizedMap = {}\n    const attributeTypeMap = {}\n\n    for (const attributeName in gltfAttributeMap) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName]\n    }\n\n    for (const attributeName in primitive.attributes) {\n      const threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase()\n\n      if (gltfAttributeMap[attributeName] !== undefined) {\n        const accessorDef = json.accessors[primitive.attributes[attributeName]]\n        const componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n        attributeTypeMap[threeAttributeName] = componentType.name\n        attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true\n      }\n    }\n\n    return parser.getDependency('bufferView', bufferViewIndex).then(function (bufferView) {\n      return new Promise(function (resolve, reject) {\n        dracoLoader.decodeDracoFile(\n          bufferView,\n          function (geometry) {\n            for (const attributeName in geometry.attributes) {\n              const attribute = geometry.attributes[attributeName]\n              const normalized = attributeNormalizedMap[attributeName]\n\n              if (normalized !== undefined) attribute.normalized = normalized\n            }\n\n            resolve(geometry)\n          },\n          threeAttributeMap,\n          attributeTypeMap,\n          LinearSRGBColorSpace,\n          reject,\n        )\n      })\n    })\n  }\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM\n  }\n\n  extendTexture(texture, transform) {\n    if (\n      (transform.texCoord === undefined || transform.texCoord === texture.channel) &&\n      transform.offset === undefined &&\n      transform.rotation === undefined &&\n      transform.scale === undefined\n    ) {\n      // See https://github.com/mrdoob/three.js/issues/21819.\n      return texture\n    }\n\n    texture = texture.clone()\n\n    if (transform.texCoord !== undefined) {\n      texture.channel = transform.texCoord\n    }\n\n    if (transform.offset !== undefined) {\n      texture.offset.fromArray(transform.offset)\n    }\n\n    if (transform.rotation !== undefined) {\n      texture.rotation = transform.rotation\n    }\n\n    if (transform.scale !== undefined) {\n      texture.repeat.fromArray(transform.scale)\n    }\n\n    texture.needsUpdate = true\n\n    return texture\n  }\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n  constructor() {\n    this.name = EXTENSIONS.KHR_MESH_QUANTIZATION\n  }\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n  constructor(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n    super(parameterPositions, sampleValues, sampleSize, resultBuffer)\n  }\n\n  copySampleValue_(index) {\n    // Copies a sample value to the result buffer. See description of glTF\n    // CUBICSPLINE values layout in interpolate_() function below.\n\n    const result = this.resultBuffer,\n      values = this.sampleValues,\n      valueSize = this.valueSize,\n      offset = index * valueSize * 3 + valueSize\n\n    for (let i = 0; i !== valueSize; i++) {\n      result[i] = values[offset + i]\n    }\n\n    return result\n  }\n\n  interpolate_(i1, t0, t, t1) {\n    const result = this.resultBuffer\n    const values = this.sampleValues\n    const stride = this.valueSize\n\n    const stride2 = stride * 2\n    const stride3 = stride * 3\n\n    const td = t1 - t0\n\n    const p = (t - t0) / td\n    const pp = p * p\n    const ppp = pp * p\n\n    const offset1 = i1 * stride3\n    const offset0 = offset1 - stride3\n\n    const s2 = -2 * ppp + 3 * pp\n    const s3 = ppp - pp\n    const s0 = 1 - s2\n    const s1 = s3 - pp + p\n\n    // Layout of keyframe output values for CUBICSPLINE animations:\n    //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n    for (let i = 0; i !== stride; i++) {\n      const p0 = values[offset0 + i + stride] // splineVertex_k\n      const m0 = values[offset0 + i + stride2] * td // outTangent_k * (t_k+1 - t_k)\n      const p1 = values[offset1 + i + stride] // splineVertex_k+1\n      const m1 = values[offset1 + i] * td // inTangent_k+1 * (t_k+1 - t_k)\n\n      result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1\n    }\n\n    return result\n  }\n}\n\nconst _q = /* @__PURE__ */ new Quaternion()\n\nclass GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant {\n  interpolate_(i1, t0, t, t1) {\n    const result = super.interpolate_(i1, t0, t, t1)\n\n    _q.fromArray(result).normalize().toArray(result)\n\n    return result\n  }\n}\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n  FLOAT: 5126,\n  //FLOAT_MAT2: 35674,\n  FLOAT_MAT3: 35675,\n  FLOAT_MAT4: 35676,\n  FLOAT_VEC2: 35664,\n  FLOAT_VEC3: 35665,\n  FLOAT_VEC4: 35666,\n  LINEAR: 9729,\n  REPEAT: 10497,\n  SAMPLER_2D: 35678,\n  POINTS: 0,\n  LINES: 1,\n  LINE_LOOP: 2,\n  LINE_STRIP: 3,\n  TRIANGLES: 4,\n  TRIANGLE_STRIP: 5,\n  TRIANGLE_FAN: 6,\n  UNSIGNED_BYTE: 5121,\n  UNSIGNED_SHORT: 5123,\n}\n\nconst WEBGL_COMPONENT_TYPES = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array,\n}\n\nconst WEBGL_FILTERS = {\n  9728: NearestFilter,\n  9729: LinearFilter,\n  9984: NearestMipmapNearestFilter,\n  9985: LinearMipmapNearestFilter,\n  9986: NearestMipmapLinearFilter,\n  9987: LinearMipmapLinearFilter,\n}\n\nconst WEBGL_WRAPPINGS = {\n  33071: ClampToEdgeWrapping,\n  33648: MirroredRepeatWrapping,\n  10497: RepeatWrapping,\n}\n\nconst WEBGL_TYPE_SIZES = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16,\n}\n\nconst ATTRIBUTES = {\n  POSITION: 'position',\n  NORMAL: 'normal',\n  TANGENT: 'tangent',\n  // uv => uv1, 4 uv channels\n  // https://github.com/mrdoob/three.js/pull/25943\n  // https://github.com/mrdoob/three.js/pull/25788\n  ...(version >= 152\n    ? {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv1',\n        TEXCOORD_2: 'uv2',\n        TEXCOORD_3: 'uv3',\n      }\n    : {\n        TEXCOORD_0: 'uv',\n        TEXCOORD_1: 'uv2',\n      }),\n\n  COLOR_0: 'color',\n  WEIGHTS_0: 'skinWeight',\n  JOINTS_0: 'skinIndex',\n}\n\nconst PATH_PROPERTIES = {\n  scale: 'scale',\n  translation: 'position',\n  rotation: 'quaternion',\n  weights: 'morphTargetInfluences',\n}\n\nconst INTERPOLATION = {\n  CUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n  // keyframe track will be initialized with a default interpolation type, then modified.\n  LINEAR: InterpolateLinear,\n  STEP: InterpolateDiscrete,\n}\n\nconst ALPHA_MODES = {\n  OPAQUE: 'OPAQUE',\n  MASK: 'MASK',\n  BLEND: 'BLEND',\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial(cache) {\n  if (cache['DefaultMaterial'] === undefined) {\n    cache['DefaultMaterial'] = new MeshStandardMaterial({\n      color: 0xffffff,\n      emissive: 0x000000,\n      metalness: 1,\n      roughness: 1,\n      transparent: false,\n      depthTest: true,\n      side: FrontSide,\n    })\n  }\n\n  return cache['DefaultMaterial']\n}\n\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\n  // Add unknown glTF extensions to an object's userData.\n\n  for (const name in objectDef.extensions) {\n    if (knownExtensions[name] === undefined) {\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {}\n      object.userData.gltfExtensions[name] = objectDef.extensions[name]\n    }\n  }\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData(object, gltfDef) {\n  if (gltfDef.extras !== undefined) {\n    if (typeof gltfDef.extras === 'object') {\n      Object.assign(object.userData, gltfDef.extras)\n    } else {\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras)\n    }\n  }\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets(geometry, targets, parser) {\n  let hasMorphPosition = false\n  let hasMorphNormal = false\n  let hasMorphColor = false\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (target.POSITION !== undefined) hasMorphPosition = true\n    if (target.NORMAL !== undefined) hasMorphNormal = true\n    if (target.COLOR_0 !== undefined) hasMorphColor = true\n\n    if (hasMorphPosition && hasMorphNormal && hasMorphColor) break\n  }\n\n  if (!hasMorphPosition && !hasMorphNormal && !hasMorphColor) return Promise.resolve(geometry)\n\n  const pendingPositionAccessors = []\n  const pendingNormalAccessors = []\n  const pendingColorAccessors = []\n\n  for (let i = 0, il = targets.length; i < il; i++) {\n    const target = targets[i]\n\n    if (hasMorphPosition) {\n      const pendingAccessor =\n        target.POSITION !== undefined ? parser.getDependency('accessor', target.POSITION) : geometry.attributes.position\n\n      pendingPositionAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphNormal) {\n      const pendingAccessor =\n        target.NORMAL !== undefined ? parser.getDependency('accessor', target.NORMAL) : geometry.attributes.normal\n\n      pendingNormalAccessors.push(pendingAccessor)\n    }\n\n    if (hasMorphColor) {\n      const pendingAccessor =\n        target.COLOR_0 !== undefined ? parser.getDependency('accessor', target.COLOR_0) : geometry.attributes.color\n\n      pendingColorAccessors.push(pendingAccessor)\n    }\n  }\n\n  return Promise.all([\n    Promise.all(pendingPositionAccessors),\n    Promise.all(pendingNormalAccessors),\n    Promise.all(pendingColorAccessors),\n  ]).then(function (accessors) {\n    const morphPositions = accessors[0]\n    const morphNormals = accessors[1]\n    const morphColors = accessors[2]\n\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals\n    if (hasMorphColor) geometry.morphAttributes.color = morphColors\n    geometry.morphTargetsRelative = true\n\n    return geometry\n  })\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets(mesh, meshDef) {\n  mesh.updateMorphTargets()\n\n  if (meshDef.weights !== undefined) {\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\n      mesh.morphTargetInfluences[i] = meshDef.weights[i]\n    }\n  }\n\n  // .extras has user-defined data, so check that .extras.targetNames is an array.\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\n    const targetNames = meshDef.extras.targetNames\n\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\n      mesh.morphTargetDictionary = {}\n\n      for (let i = 0, il = targetNames.length; i < il; i++) {\n        mesh.morphTargetDictionary[targetNames[i]] = i\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.')\n    }\n  }\n}\n\nfunction createPrimitiveKey(primitiveDef) {\n  let geometryKey\n\n  const dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n\n  if (dracoExtension) {\n    geometryKey =\n      'draco:' +\n      dracoExtension.bufferView +\n      ':' +\n      dracoExtension.indices +\n      ':' +\n      createAttributesKey(dracoExtension.attributes)\n  } else {\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode\n  }\n\n  if (primitiveDef.targets !== undefined) {\n    for (let i = 0, il = primitiveDef.targets.length; i < il; i++) {\n      geometryKey += ':' + createAttributesKey(primitiveDef.targets[i])\n    }\n  }\n\n  return geometryKey\n}\n\nfunction createAttributesKey(attributes) {\n  let attributesKey = ''\n\n  const keys = Object.keys(attributes).sort()\n\n  for (let i = 0, il = keys.length; i < il; i++) {\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';'\n  }\n\n  return attributesKey\n}\n\nfunction getNormalizedComponentScale(constructor) {\n  // Reference:\n  // https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n  switch (constructor) {\n    case Int8Array:\n      return 1 / 127\n\n    case Uint8Array:\n      return 1 / 255\n\n    case Int16Array:\n      return 1 / 32767\n\n    case Uint16Array:\n      return 1 / 65535\n\n    default:\n      throw new Error('THREE.GLTFLoader: Unsupported normalized accessor component type.')\n  }\n}\n\nfunction getImageURIMimeType(uri) {\n  if (uri.search(/\\.jpe?g($|\\?)/i) > 0 || uri.search(/^data\\:image\\/jpeg/) === 0) return 'image/jpeg'\n  if (uri.search(/\\.webp($|\\?)/i) > 0 || uri.search(/^data\\:image\\/webp/) === 0) return 'image/webp'\n\n  return 'image/png'\n}\n\nconst _identityMatrix = /* @__PURE__ */ new Matrix4()\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n  constructor(json = {}, options = {}) {\n    this.json = json\n    this.extensions = {}\n    this.plugins = {}\n    this.options = options\n\n    // loader object cache\n    this.cache = new GLTFRegistry()\n\n    // associations between Three.js objects and glTF elements\n    this.associations = new Map()\n\n    // BufferGeometry caching\n    this.primitiveCache = {}\n\n    // Node cache\n    this.nodeCache = {}\n\n    // Object3D instance caches\n    this.meshCache = { refs: {}, uses: {} }\n    this.cameraCache = { refs: {}, uses: {} }\n    this.lightCache = { refs: {}, uses: {} }\n\n    this.sourceCache = {}\n    this.textureCache = {}\n\n    // Track node names, to ensure no duplicates\n    this.nodeNamesUsed = {}\n\n    // Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n    // expensive work of uploading a texture to the GPU off the main thread.\n\n    let isSafari = false\n    let isFirefox = false\n    let firefoxVersion = -1\n\n    if (typeof navigator !== 'undefined' && typeof navigator.userAgent !== 'undefined') {\n      isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === true\n      isFirefox = navigator.userAgent.indexOf('Firefox') > -1\n      firefoxVersion = isFirefox ? navigator.userAgent.match(/Firefox\\/([0-9]+)\\./)[1] : -1\n    }\n\n    if (typeof createImageBitmap === 'undefined' || isSafari || (isFirefox && firefoxVersion < 98)) {\n      this.textureLoader = new TextureLoader(this.options.manager)\n    } else {\n      this.textureLoader = new ImageBitmapLoader(this.options.manager)\n    }\n\n    this.textureLoader.setCrossOrigin(this.options.crossOrigin)\n    this.textureLoader.setRequestHeader(this.options.requestHeader)\n\n    this.fileLoader = new FileLoader(this.options.manager)\n    this.fileLoader.setResponseType('arraybuffer')\n\n    if (this.options.crossOrigin === 'use-credentials') {\n      this.fileLoader.setWithCredentials(true)\n    }\n  }\n\n  setExtensions(extensions) {\n    this.extensions = extensions\n  }\n\n  setPlugins(plugins) {\n    this.plugins = plugins\n  }\n\n  parse(onLoad, onError) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    // Clear the loader cache\n    this.cache.removeAll()\n    this.nodeCache = {}\n\n    // Mark the special nodes/meshes in json for efficient parse\n    this._invokeAll(function (ext) {\n      return ext._markDefs && ext._markDefs()\n    })\n\n    Promise.all(\n      this._invokeAll(function (ext) {\n        return ext.beforeRoot && ext.beforeRoot()\n      }),\n    )\n      .then(function () {\n        return Promise.all([\n          parser.getDependencies('scene'),\n          parser.getDependencies('animation'),\n          parser.getDependencies('camera'),\n        ])\n      })\n      .then(function (dependencies) {\n        const result = {\n          scene: dependencies[0][json.scene || 0],\n          scenes: dependencies[0],\n          animations: dependencies[1],\n          cameras: dependencies[2],\n          asset: json.asset,\n          parser: parser,\n          userData: {},\n        }\n\n        addUnknownExtensionsToUserData(extensions, result, json)\n\n        assignExtrasToUserData(result, json)\n\n        return Promise.all(\n          parser._invokeAll(function (ext) {\n            return ext.afterRoot && ext.afterRoot(result)\n          }),\n        ).then(function () {\n          for (const scene of result.scenes) {\n            scene.updateMatrixWorld()\n          }\n\n          onLoad(result)\n        })\n      })\n      .catch(onError)\n  }\n\n  /**\n   * Marks the special nodes/meshes in json for efficient parse.\n   */\n  _markDefs() {\n    const nodeDefs = this.json.nodes || []\n    const skinDefs = this.json.skins || []\n    const meshDefs = this.json.meshes || []\n\n    // Nothing in the node definition indicates whether it is a Bone or an\n    // Object3D. Use the skins' joint references to mark bones.\n    for (let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\n      const joints = skinDefs[skinIndex].joints\n\n      for (let i = 0, il = joints.length; i < il; i++) {\n        nodeDefs[joints[i]].isBone = true\n      }\n    }\n\n    // Iterate over all nodes, marking references to shared resources,\n    // as well as skeleton joints.\n    for (let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\n      const nodeDef = nodeDefs[nodeIndex]\n\n      if (nodeDef.mesh !== undefined) {\n        this._addNodeRef(this.meshCache, nodeDef.mesh)\n\n        // Nothing in the mesh definition indicates whether it is\n        // a SkinnedMesh or Mesh. Use the node's mesh reference\n        // to mark SkinnedMesh if node has skin.\n        if (nodeDef.skin !== undefined) {\n          meshDefs[nodeDef.mesh].isSkinnedMesh = true\n        }\n      }\n\n      if (nodeDef.camera !== undefined) {\n        this._addNodeRef(this.cameraCache, nodeDef.camera)\n      }\n    }\n  }\n\n  /**\n   * Counts references to shared node / Object3D resources. These resources\n   * can be reused, or \"instantiated\", at multiple nodes in the scene\n   * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n   * be marked. Non-scenegraph resources (like Materials, Geometries, and\n   * Textures) can be reused directly and are not marked here.\n   *\n   * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n   */\n  _addNodeRef(cache, index) {\n    if (index === undefined) return\n\n    if (cache.refs[index] === undefined) {\n      cache.refs[index] = cache.uses[index] = 0\n    }\n\n    cache.refs[index]++\n  }\n\n  /** Returns a reference to a shared resource, cloning it if necessary. */\n  _getNodeRef(cache, index, object) {\n    if (cache.refs[index] <= 1) return object\n\n    const ref = object.clone()\n\n    // Propagates mappings to the cloned object, prevents mappings on the\n    // original object from being lost.\n    const updateMappings = (original, clone) => {\n      const mappings = this.associations.get(original)\n      if (mappings != null) {\n        this.associations.set(clone, mappings)\n      }\n\n      for (const [i, child] of original.children.entries()) {\n        updateMappings(child, clone.children[i])\n      }\n    }\n\n    updateMappings(object, ref)\n\n    ref.name += '_instance_' + cache.uses[index]++\n\n    return ref\n  }\n\n  _invokeOne(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.push(this)\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) return result\n    }\n\n    return null\n  }\n\n  _invokeAll(func) {\n    const extensions = Object.values(this.plugins)\n    extensions.unshift(this)\n\n    const pending = []\n\n    for (let i = 0; i < extensions.length; i++) {\n      const result = func(extensions[i])\n\n      if (result) pending.push(result)\n    }\n\n    return pending\n  }\n\n  /**\n   * Requests the specified dependency asynchronously, with caching.\n   * @param {string} type\n   * @param {number} index\n   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n   */\n  getDependency(type, index) {\n    const cacheKey = type + ':' + index\n    let dependency = this.cache.get(cacheKey)\n\n    if (!dependency) {\n      switch (type) {\n        case 'scene':\n          dependency = this.loadScene(index)\n          break\n\n        case 'node':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadNode && ext.loadNode(index)\n          })\n          break\n\n        case 'mesh':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMesh && ext.loadMesh(index)\n          })\n          break\n\n        case 'accessor':\n          dependency = this.loadAccessor(index)\n          break\n\n        case 'bufferView':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadBufferView && ext.loadBufferView(index)\n          })\n          break\n\n        case 'buffer':\n          dependency = this.loadBuffer(index)\n          break\n\n        case 'material':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadMaterial && ext.loadMaterial(index)\n          })\n          break\n\n        case 'texture':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadTexture && ext.loadTexture(index)\n          })\n          break\n\n        case 'skin':\n          dependency = this.loadSkin(index)\n          break\n\n        case 'animation':\n          dependency = this._invokeOne(function (ext) {\n            return ext.loadAnimation && ext.loadAnimation(index)\n          })\n          break\n\n        case 'camera':\n          dependency = this.loadCamera(index)\n          break\n\n        default:\n          dependency = this._invokeOne(function (ext) {\n            return ext != this && ext.getDependency && ext.getDependency(type, index)\n          })\n\n          if (!dependency) {\n            throw new Error('Unknown type: ' + type)\n          }\n\n          break\n      }\n\n      this.cache.add(cacheKey, dependency)\n    }\n\n    return dependency\n  }\n\n  /**\n   * Requests all dependencies of the specified type asynchronously, with caching.\n   * @param {string} type\n   * @return {Promise<Array<Object>>}\n   */\n  getDependencies(type) {\n    let dependencies = this.cache.get(type)\n\n    if (!dependencies) {\n      const parser = this\n      const defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || []\n\n      dependencies = Promise.all(\n        defs.map(function (def, index) {\n          return parser.getDependency(type, index)\n        }),\n      )\n\n      this.cache.add(type, dependencies)\n    }\n\n    return dependencies\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBuffer(bufferIndex) {\n    const bufferDef = this.json.buffers[bufferIndex]\n    const loader = this.fileLoader\n\n    if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\n      throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.')\n    }\n\n    // If present, GLB container is required to be the first buffer.\n    if (bufferDef.uri === undefined && bufferIndex === 0) {\n      return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body)\n    }\n\n    const options = this.options\n\n    return new Promise(function (resolve, reject) {\n      loader.load(LoaderUtils.resolveURL(bufferDef.uri, options.path), resolve, undefined, function () {\n        reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'))\n      })\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n   * @param {number} bufferViewIndex\n   * @return {Promise<ArrayBuffer>}\n   */\n  loadBufferView(bufferViewIndex) {\n    const bufferViewDef = this.json.bufferViews[bufferViewIndex]\n\n    return this.getDependency('buffer', bufferViewDef.buffer).then(function (buffer) {\n      const byteLength = bufferViewDef.byteLength || 0\n      const byteOffset = bufferViewDef.byteOffset || 0\n      return buffer.slice(byteOffset, byteOffset + byteLength)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n   * @param {number} accessorIndex\n   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n   */\n  loadAccessor(accessorIndex) {\n    const parser = this\n    const json = this.json\n\n    const accessorDef = this.json.accessors[accessorIndex]\n\n    if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n      const normalized = accessorDef.normalized === true\n\n      const array = new TypedArray(accessorDef.count * itemSize)\n      return Promise.resolve(new BufferAttribute(array, itemSize, normalized))\n    }\n\n    const pendingBufferViews = []\n\n    if (accessorDef.bufferView !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView))\n    } else {\n      pendingBufferViews.push(null)\n    }\n\n    if (accessorDef.sparse !== undefined) {\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView))\n      pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView))\n    }\n\n    return Promise.all(pendingBufferViews).then(function (bufferViews) {\n      const bufferView = bufferViews[0]\n\n      const itemSize = WEBGL_TYPE_SIZES[accessorDef.type]\n      const TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType]\n\n      // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n      const elementBytes = TypedArray.BYTES_PER_ELEMENT\n      const itemBytes = elementBytes * itemSize\n      const byteOffset = accessorDef.byteOffset || 0\n      const byteStride =\n        accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined\n      const normalized = accessorDef.normalized === true\n      let array, bufferAttribute\n\n      // The buffer is not interleaved if the stride is the item size in bytes.\n      if (byteStride && byteStride !== itemBytes) {\n        // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n        // This makes sure that IBA.count reflects accessor.count properly\n        const ibSlice = Math.floor(byteOffset / byteStride)\n        const ibCacheKey =\n          'InterleavedBuffer:' +\n          accessorDef.bufferView +\n          ':' +\n          accessorDef.componentType +\n          ':' +\n          ibSlice +\n          ':' +\n          accessorDef.count\n        let ib = parser.cache.get(ibCacheKey)\n\n        if (!ib) {\n          array = new TypedArray(bufferView, ibSlice * byteStride, (accessorDef.count * byteStride) / elementBytes)\n\n          // Integer parameters to IB/IBA are in array elements, not bytes.\n          ib = new InterleavedBuffer(array, byteStride / elementBytes)\n\n          parser.cache.add(ibCacheKey, ib)\n        }\n\n        bufferAttribute = new InterleavedBufferAttribute(\n          ib,\n          itemSize,\n          (byteOffset % byteStride) / elementBytes,\n          normalized,\n        )\n      } else {\n        if (bufferView === null) {\n          array = new TypedArray(accessorDef.count * itemSize)\n        } else {\n          array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize)\n        }\n\n        bufferAttribute = new BufferAttribute(array, itemSize, normalized)\n      }\n\n      // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n      if (accessorDef.sparse !== undefined) {\n        const itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR\n        const TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType]\n\n        const byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0\n        const byteOffsetValues = accessorDef.sparse.values.byteOffset || 0\n\n        const sparseIndices = new TypedArrayIndices(\n          bufferViews[1],\n          byteOffsetIndices,\n          accessorDef.sparse.count * itemSizeIndices,\n        )\n        const sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize)\n\n        if (bufferView !== null) {\n          // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n          bufferAttribute = new BufferAttribute(\n            bufferAttribute.array.slice(),\n            bufferAttribute.itemSize,\n            bufferAttribute.normalized,\n          )\n        }\n\n        for (let i = 0, il = sparseIndices.length; i < il; i++) {\n          const index = sparseIndices[i]\n\n          bufferAttribute.setX(index, sparseValues[i * itemSize])\n          if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1])\n          if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2])\n          if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3])\n          if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.')\n        }\n      }\n\n      return bufferAttribute\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n   * @param {number} textureIndex\n   * @return {Promise<THREE.Texture|null>}\n   */\n  loadTexture(textureIndex) {\n    const json = this.json\n    const options = this.options\n    const textureDef = json.textures[textureIndex]\n    const sourceIndex = textureDef.source\n    const sourceDef = json.images[sourceIndex]\n\n    let loader = this.textureLoader\n\n    if (sourceDef.uri) {\n      const handler = options.manager.getHandler(sourceDef.uri)\n      if (handler !== null) loader = handler\n    }\n\n    return this.loadTextureImage(textureIndex, sourceIndex, loader)\n  }\n\n  loadTextureImage(textureIndex, sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n\n    const textureDef = json.textures[textureIndex]\n    const sourceDef = json.images[sourceIndex]\n\n    const cacheKey = (sourceDef.uri || sourceDef.bufferView) + ':' + textureDef.sampler\n\n    if (this.textureCache[cacheKey]) {\n      // See https://github.com/mrdoob/three.js/issues/21559.\n      return this.textureCache[cacheKey]\n    }\n\n    const promise = this.loadImageSource(sourceIndex, loader)\n      .then(function (texture) {\n        texture.flipY = false\n\n        texture.name = textureDef.name || sourceDef.name || ''\n\n        if (\n          texture.name === '' &&\n          typeof sourceDef.uri === 'string' &&\n          sourceDef.uri.startsWith('data:image/') === false\n        ) {\n          texture.name = sourceDef.uri\n        }\n\n        const samplers = json.samplers || {}\n        const sampler = samplers[textureDef.sampler] || {}\n\n        texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || LinearFilter\n        texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || LinearMipmapLinearFilter\n        texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || RepeatWrapping\n        texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || RepeatWrapping\n\n        parser.associations.set(texture, { textures: textureIndex })\n\n        return texture\n      })\n      .catch(function () {\n        return null\n      })\n\n    this.textureCache[cacheKey] = promise\n\n    return promise\n  }\n\n  loadImageSource(sourceIndex, loader) {\n    const parser = this\n    const json = this.json\n    const options = this.options\n\n    if (this.sourceCache[sourceIndex] !== undefined) {\n      return this.sourceCache[sourceIndex].then((texture) => texture.clone())\n    }\n\n    const sourceDef = json.images[sourceIndex]\n\n    const URL = self.URL || self.webkitURL\n\n    let sourceURI = sourceDef.uri || ''\n    let isObjectURL = false\n\n    if (sourceDef.bufferView !== undefined) {\n      // Load binary image data from bufferView, if provided.\n\n      sourceURI = parser.getDependency('bufferView', sourceDef.bufferView).then(function (bufferView) {\n        isObjectURL = true\n        const blob = new Blob([bufferView], { type: sourceDef.mimeType })\n        sourceURI = URL.createObjectURL(blob)\n        return sourceURI\n      })\n    } else if (sourceDef.uri === undefined) {\n      throw new Error('THREE.GLTFLoader: Image ' + sourceIndex + ' is missing URI and bufferView')\n    }\n\n    const promise = Promise.resolve(sourceURI)\n      .then(function (sourceURI) {\n        return new Promise(function (resolve, reject) {\n          let onLoad = resolve\n\n          if (loader.isImageBitmapLoader === true) {\n            onLoad = function (imageBitmap) {\n              const texture = new Texture(imageBitmap)\n              texture.needsUpdate = true\n\n              resolve(texture)\n            }\n          }\n\n          loader.load(LoaderUtils.resolveURL(sourceURI, options.path), onLoad, undefined, reject)\n        })\n      })\n      .then(function (texture) {\n        // Clean up resources and configure Texture.\n\n        if (isObjectURL === true) {\n          URL.revokeObjectURL(sourceURI)\n        }\n\n        assignExtrasToUserData(texture, sourceDef)\n\n        texture.userData.mimeType = sourceDef.mimeType || getImageURIMimeType(sourceDef.uri)\n\n        return texture\n      })\n      .catch(function (error) {\n        console.error(\"THREE.GLTFLoader: Couldn't load texture\", sourceURI)\n        throw error\n      })\n\n    this.sourceCache[sourceIndex] = promise\n    return promise\n  }\n\n  /**\n   * Asynchronously assigns a texture to the given material parameters.\n   * @param {Object} materialParams\n   * @param {string} mapName\n   * @param {Object} mapDef\n   * @return {Promise<Texture>}\n   */\n  assignTexture(materialParams, mapName, mapDef, colorSpace) {\n    const parser = this\n\n    return this.getDependency('texture', mapDef.index).then(function (texture) {\n      if (!texture) return null\n\n      if (mapDef.texCoord !== undefined && mapDef.texCoord > 0) {\n        texture = texture.clone()\n        texture.channel = mapDef.texCoord\n      }\n\n      if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\n        const transform =\n          mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined\n\n        if (transform) {\n          const gltfReference = parser.associations.get(texture)\n          texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform)\n          parser.associations.set(texture, gltfReference)\n        }\n      }\n\n      if (colorSpace !== undefined) {\n        // Convert from legacy encoding to colorSpace\n        if (typeof colorSpace === 'number')\n          colorSpace = colorSpace === sRGBEncoding ? SRGBColorSpace : LinearSRGBColorSpace\n\n        // Set colorSpace if able, fallback to legacy encoding\n        if ('colorSpace' in texture) texture.colorSpace = colorSpace\n        else texture.encoding = colorSpace === SRGBColorSpace ? sRGBEncoding : LinearEncoding\n      }\n\n      materialParams[mapName] = texture\n\n      return texture\n    })\n  }\n\n  /**\n   * Assigns final material to a Mesh, Line, or Points instance. The instance\n   * already has a material (generated from the glTF material options alone)\n   * but reuse of the same glTF material may require multiple threejs materials\n   * to accommodate different primitive types, defines, etc. New materials will\n   * be created if necessary, and reused from a cache.\n   * @param  {Object3D} mesh Mesh, Line, or Points instance.\n   */\n  assignFinalMaterial(mesh) {\n    const geometry = mesh.geometry\n    let material = mesh.material\n\n    const useDerivativeTangents = geometry.attributes.tangent === undefined\n    const useVertexColors = geometry.attributes.color !== undefined\n    const useFlatShading = geometry.attributes.normal === undefined\n\n    if (mesh.isPoints) {\n      const cacheKey = 'PointsMaterial:' + material.uuid\n\n      let pointsMaterial = this.cache.get(cacheKey)\n\n      if (!pointsMaterial) {\n        pointsMaterial = new PointsMaterial()\n        Material.prototype.copy.call(pointsMaterial, material)\n        pointsMaterial.color.copy(material.color)\n        pointsMaterial.map = material.map\n        pointsMaterial.sizeAttenuation = false // glTF spec says points should be 1px\n\n        this.cache.add(cacheKey, pointsMaterial)\n      }\n\n      material = pointsMaterial\n    } else if (mesh.isLine) {\n      const cacheKey = 'LineBasicMaterial:' + material.uuid\n\n      let lineMaterial = this.cache.get(cacheKey)\n\n      if (!lineMaterial) {\n        lineMaterial = new LineBasicMaterial()\n        Material.prototype.copy.call(lineMaterial, material)\n        lineMaterial.color.copy(material.color)\n        lineMaterial.map = material.map\n\n        this.cache.add(cacheKey, lineMaterial)\n      }\n\n      material = lineMaterial\n    }\n\n    // Clone the material if it will be modified\n    if (useDerivativeTangents || useVertexColors || useFlatShading) {\n      let cacheKey = 'ClonedMaterial:' + material.uuid + ':'\n\n      if (useDerivativeTangents) cacheKey += 'derivative-tangents:'\n      if (useVertexColors) cacheKey += 'vertex-colors:'\n      if (useFlatShading) cacheKey += 'flat-shading:'\n\n      let cachedMaterial = this.cache.get(cacheKey)\n\n      if (!cachedMaterial) {\n        cachedMaterial = material.clone()\n\n        if (useVertexColors) cachedMaterial.vertexColors = true\n        if (useFlatShading) cachedMaterial.flatShading = true\n\n        if (useDerivativeTangents) {\n          // https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n          if (cachedMaterial.normalScale) cachedMaterial.normalScale.y *= -1\n          if (cachedMaterial.clearcoatNormalScale) cachedMaterial.clearcoatNormalScale.y *= -1\n        }\n\n        this.cache.add(cacheKey, cachedMaterial)\n\n        this.associations.set(cachedMaterial, this.associations.get(material))\n      }\n\n      material = cachedMaterial\n    }\n\n    mesh.material = material\n  }\n\n  getMaterialType(/* materialIndex */) {\n    return MeshStandardMaterial\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n   * @param {number} materialIndex\n   * @return {Promise<Material>}\n   */\n  loadMaterial(materialIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n    const materialDef = json.materials[materialIndex]\n\n    let materialType\n    const materialParams = {}\n    const materialExtensions = materialDef.extensions || {}\n\n    const pending = []\n\n    if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\n      const kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT]\n      materialType = kmuExtension.getMaterialType()\n      pending.push(kmuExtension.extendParams(materialParams, materialDef, parser))\n    } else {\n      // Specification:\n      // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n      const metallicRoughness = materialDef.pbrMetallicRoughness || {}\n\n      materialParams.color = new Color(1.0, 1.0, 1.0)\n      materialParams.opacity = 1.0\n\n      if (Array.isArray(metallicRoughness.baseColorFactor)) {\n        const array = metallicRoughness.baseColorFactor\n\n        materialParams.color.setRGB(array[0], array[1], array[2], LinearSRGBColorSpace)\n        materialParams.opacity = array[3]\n      }\n\n      if (metallicRoughness.baseColorTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture, SRGBColorSpace))\n      }\n\n      materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0\n      materialParams.roughness =\n        metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0\n\n      if (metallicRoughness.metallicRoughnessTexture !== undefined) {\n        pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture))\n        pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture))\n      }\n\n      materialType = this._invokeOne(function (ext) {\n        return ext.getMaterialType && ext.getMaterialType(materialIndex)\n      })\n\n      pending.push(\n        Promise.all(\n          this._invokeAll(function (ext) {\n            return ext.extendMaterialParams && ext.extendMaterialParams(materialIndex, materialParams)\n          }),\n        ),\n      )\n    }\n\n    if (materialDef.doubleSided === true) {\n      materialParams.side = DoubleSide\n    }\n\n    const alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE\n\n    if (alphaMode === ALPHA_MODES.BLEND) {\n      materialParams.transparent = true\n\n      // See: https://github.com/mrdoob/three.js/issues/17706\n      materialParams.depthWrite = false\n    } else {\n      materialParams.transparent = false\n\n      if (alphaMode === ALPHA_MODES.MASK) {\n        materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5\n      }\n    }\n\n    if (materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture))\n\n      materialParams.normalScale = new Vector2(1, 1)\n\n      if (materialDef.normalTexture.scale !== undefined) {\n        const scale = materialDef.normalTexture.scale\n\n        materialParams.normalScale.set(scale, scale)\n      }\n    }\n\n    if (materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture))\n\n      if (materialDef.occlusionTexture.strength !== undefined) {\n        materialParams.aoMapIntensity = materialDef.occlusionTexture.strength\n      }\n    }\n\n    if (materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial) {\n      const emissiveFactor = materialDef.emissiveFactor\n      materialParams.emissive = new Color().setRGB(\n        emissiveFactor[0],\n        emissiveFactor[1],\n        emissiveFactor[2],\n        LinearSRGBColorSpace,\n      )\n    }\n\n    if (materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial) {\n      pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture, SRGBColorSpace))\n    }\n\n    return Promise.all(pending).then(function () {\n      const material = new materialType(materialParams)\n\n      if (materialDef.name) material.name = materialDef.name\n\n      assignExtrasToUserData(material, materialDef)\n\n      parser.associations.set(material, { materials: materialIndex })\n\n      if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef)\n\n      return material\n    })\n  }\n\n  /** When Object3D instances are targeted by animation, they need unique names. */\n  createUniqueName(originalName) {\n    const sanitizedName = PropertyBinding.sanitizeNodeName(originalName || '')\n\n    if (sanitizedName in this.nodeNamesUsed) {\n      return sanitizedName + '_' + ++this.nodeNamesUsed[sanitizedName]\n    } else {\n      this.nodeNamesUsed[sanitizedName] = 0\n\n      return sanitizedName\n    }\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n   *\n   * Creates BufferGeometries from primitives.\n   *\n   * @param {Array<GLTF.Primitive>} primitives\n   * @return {Promise<Array<BufferGeometry>>}\n   */\n  loadGeometries(primitives) {\n    const parser = this\n    const extensions = this.extensions\n    const cache = this.primitiveCache\n\n    function createDracoPrimitive(primitive) {\n      return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\n        .decodePrimitive(primitive, parser)\n        .then(function (geometry) {\n          return addPrimitiveAttributes(geometry, primitive, parser)\n        })\n    }\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const primitive = primitives[i]\n      const cacheKey = createPrimitiveKey(primitive)\n\n      // See if we've already created this geometry\n      const cached = cache[cacheKey]\n\n      if (cached) {\n        // Use the cached geometry if it exists\n        pending.push(cached.promise)\n      } else {\n        let geometryPromise\n\n        if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\n          // Use DRACO geometry if available\n          geometryPromise = createDracoPrimitive(primitive)\n        } else {\n          // Otherwise create a new geometry\n          geometryPromise = addPrimitiveAttributes(new BufferGeometry(), primitive, parser)\n        }\n\n        // Cache this geometry\n        cache[cacheKey] = { primitive: primitive, promise: geometryPromise }\n\n        pending.push(geometryPromise)\n      }\n    }\n\n    return Promise.all(pending)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n   * @param {number} meshIndex\n   * @return {Promise<Group|Mesh|SkinnedMesh>}\n   */\n  loadMesh(meshIndex) {\n    const parser = this\n    const json = this.json\n    const extensions = this.extensions\n\n    const meshDef = json.meshes[meshIndex]\n    const primitives = meshDef.primitives\n\n    const pending = []\n\n    for (let i = 0, il = primitives.length; i < il; i++) {\n      const material =\n        primitives[i].material === undefined\n          ? createDefaultMaterial(this.cache)\n          : this.getDependency('material', primitives[i].material)\n\n      pending.push(material)\n    }\n\n    pending.push(parser.loadGeometries(primitives))\n\n    return Promise.all(pending).then(function (results) {\n      const materials = results.slice(0, results.length - 1)\n      const geometries = results[results.length - 1]\n\n      const meshes = []\n\n      for (let i = 0, il = geometries.length; i < il; i++) {\n        const geometry = geometries[i]\n        const primitive = primitives[i]\n\n        // 1. create Mesh\n\n        let mesh\n\n        const material = materials[i]\n\n        if (\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n          primitive.mode === undefined\n        ) {\n          // .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n          mesh = meshDef.isSkinnedMesh === true ? new SkinnedMesh(geometry, material) : new Mesh(geometry, material)\n\n          if (mesh.isSkinnedMesh === true) {\n            // normalize skin weights to fix malformed assets (see #15319)\n            mesh.normalizeSkinWeights()\n          }\n\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleStripDrawMode)\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\n            mesh.geometry = toTrianglesDrawMode(mesh.geometry, TriangleFanDrawMode)\n          }\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\n          mesh = new LineSegments(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\n          mesh = new Line(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\n          mesh = new LineLoop(geometry, material)\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\n          mesh = new Points(geometry, material)\n        } else {\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode)\n        }\n\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\n          updateMorphTargets(mesh, meshDef)\n        }\n\n        mesh.name = parser.createUniqueName(meshDef.name || 'mesh_' + meshIndex)\n\n        assignExtrasToUserData(mesh, meshDef)\n\n        if (primitive.extensions) addUnknownExtensionsToUserData(extensions, mesh, primitive)\n\n        parser.assignFinalMaterial(mesh)\n\n        meshes.push(mesh)\n      }\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        parser.associations.set(meshes[i], {\n          meshes: meshIndex,\n          primitives: i,\n        })\n      }\n\n      if (meshes.length === 1) {\n        if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, meshes[0], meshDef)\n\n        return meshes[0]\n      }\n\n      const group = new Group()\n\n      if (meshDef.extensions) addUnknownExtensionsToUserData(extensions, group, meshDef)\n\n      parser.associations.set(group, { meshes: meshIndex })\n\n      for (let i = 0, il = meshes.length; i < il; i++) {\n        group.add(meshes[i])\n      }\n\n      return group\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n   * @param {number} cameraIndex\n   * @return {Promise<THREE.Camera>}\n   */\n  loadCamera(cameraIndex) {\n    let camera\n    const cameraDef = this.json.cameras[cameraIndex]\n    const params = cameraDef[cameraDef.type]\n\n    if (!params) {\n      console.warn('THREE.GLTFLoader: Missing camera parameters.')\n      return\n    }\n\n    if (cameraDef.type === 'perspective') {\n      camera = new PerspectiveCamera(\n        MathUtils.radToDeg(params.yfov),\n        params.aspectRatio || 1,\n        params.znear || 1,\n        params.zfar || 2e6,\n      )\n    } else if (cameraDef.type === 'orthographic') {\n      camera = new OrthographicCamera(-params.xmag, params.xmag, params.ymag, -params.ymag, params.znear, params.zfar)\n    }\n\n    if (cameraDef.name) camera.name = this.createUniqueName(cameraDef.name)\n\n    assignExtrasToUserData(camera, cameraDef)\n\n    return Promise.resolve(camera)\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n   * @param {number} skinIndex\n   * @return {Promise<Skeleton>}\n   */\n  loadSkin(skinIndex) {\n    const skinDef = this.json.skins[skinIndex]\n\n    const pending = []\n\n    for (let i = 0, il = skinDef.joints.length; i < il; i++) {\n      pending.push(this._loadNodeShallow(skinDef.joints[i]))\n    }\n\n    if (skinDef.inverseBindMatrices !== undefined) {\n      pending.push(this.getDependency('accessor', skinDef.inverseBindMatrices))\n    } else {\n      pending.push(null)\n    }\n\n    return Promise.all(pending).then(function (results) {\n      const inverseBindMatrices = results.pop()\n      const jointNodes = results\n\n      // Note that bones (joint nodes) may or may not be in the\n      // scene graph at this time.\n\n      const bones = []\n      const boneInverses = []\n\n      for (let i = 0, il = jointNodes.length; i < il; i++) {\n        const jointNode = jointNodes[i]\n\n        if (jointNode) {\n          bones.push(jointNode)\n\n          const mat = new Matrix4()\n\n          if (inverseBindMatrices !== null) {\n            mat.fromArray(inverseBindMatrices.array, i * 16)\n          }\n\n          boneInverses.push(mat)\n        } else {\n          console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinDef.joints[i])\n        }\n      }\n\n      return new Skeleton(bones, boneInverses)\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n   * @param {number} animationIndex\n   * @return {Promise<AnimationClip>}\n   */\n  loadAnimation(animationIndex) {\n    const json = this.json\n    const parser = this\n\n    const animationDef = json.animations[animationIndex]\n    const animationName = animationDef.name ? animationDef.name : 'animation_' + animationIndex\n\n    const pendingNodes = []\n    const pendingInputAccessors = []\n    const pendingOutputAccessors = []\n    const pendingSamplers = []\n    const pendingTargets = []\n\n    for (let i = 0, il = animationDef.channels.length; i < il; i++) {\n      const channel = animationDef.channels[i]\n      const sampler = animationDef.samplers[channel.sampler]\n      const target = channel.target\n      const name = target.node\n      const input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input\n      const output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output\n\n      if (target.node === undefined) continue\n\n      pendingNodes.push(this.getDependency('node', name))\n      pendingInputAccessors.push(this.getDependency('accessor', input))\n      pendingOutputAccessors.push(this.getDependency('accessor', output))\n      pendingSamplers.push(sampler)\n      pendingTargets.push(target)\n    }\n\n    return Promise.all([\n      Promise.all(pendingNodes),\n      Promise.all(pendingInputAccessors),\n      Promise.all(pendingOutputAccessors),\n      Promise.all(pendingSamplers),\n      Promise.all(pendingTargets),\n    ]).then(function (dependencies) {\n      const nodes = dependencies[0]\n      const inputAccessors = dependencies[1]\n      const outputAccessors = dependencies[2]\n      const samplers = dependencies[3]\n      const targets = dependencies[4]\n\n      const tracks = []\n\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        const node = nodes[i]\n        const inputAccessor = inputAccessors[i]\n        const outputAccessor = outputAccessors[i]\n        const sampler = samplers[i]\n        const target = targets[i]\n\n        if (node === undefined) continue\n\n        if (node.updateMatrix) {\n          node.updateMatrix()\n        }\n\n        const createdTracks = parser._createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target)\n\n        if (createdTracks) {\n          for (let k = 0; k < createdTracks.length; k++) {\n            tracks.push(createdTracks[k])\n          }\n        }\n      }\n\n      return new AnimationClip(animationName, undefined, tracks)\n    })\n  }\n\n  createNodeMesh(nodeIndex) {\n    const json = this.json\n    const parser = this\n    const nodeDef = json.nodes[nodeIndex]\n\n    if (nodeDef.mesh === undefined) return null\n\n    return parser.getDependency('mesh', nodeDef.mesh).then(function (mesh) {\n      const node = parser._getNodeRef(parser.meshCache, nodeDef.mesh, mesh)\n\n      // if weights are provided on the node, override weights on the mesh.\n      if (nodeDef.weights !== undefined) {\n        node.traverse(function (o) {\n          if (!o.isMesh) return\n\n          for (let i = 0, il = nodeDef.weights.length; i < il; i++) {\n            o.morphTargetInfluences[i] = nodeDef.weights[i]\n          }\n        })\n      }\n\n      return node\n    })\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n   * @param {number} nodeIndex\n   * @return {Promise<Object3D>}\n   */\n  loadNode(nodeIndex) {\n    const json = this.json\n    const parser = this\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    const nodePending = parser._loadNodeShallow(nodeIndex)\n\n    const childPending = []\n    const childrenDef = nodeDef.children || []\n\n    for (let i = 0, il = childrenDef.length; i < il; i++) {\n      childPending.push(parser.getDependency('node', childrenDef[i]))\n    }\n\n    const skeletonPending =\n      nodeDef.skin === undefined ? Promise.resolve(null) : parser.getDependency('skin', nodeDef.skin)\n\n    return Promise.all([nodePending, Promise.all(childPending), skeletonPending]).then(function (results) {\n      const node = results[0]\n      const children = results[1]\n      const skeleton = results[2]\n\n      if (skeleton !== null) {\n        // This full traverse should be fine because\n        // child glTF nodes have not been added to this node yet.\n        node.traverse(function (mesh) {\n          if (!mesh.isSkinnedMesh) return\n\n          mesh.bind(skeleton, _identityMatrix)\n        })\n      }\n\n      for (let i = 0, il = children.length; i < il; i++) {\n        node.add(children[i])\n      }\n\n      return node\n    })\n  }\n\n  // ._loadNodeShallow() parses a single node.\n  // skin and child nodes are created and added in .loadNode() (no '_' prefix).\n  _loadNodeShallow(nodeIndex) {\n    const json = this.json\n    const extensions = this.extensions\n    const parser = this\n\n    // This method is called from .loadNode() and .loadSkin().\n    // Cache a node to avoid duplication.\n\n    if (this.nodeCache[nodeIndex] !== undefined) {\n      return this.nodeCache[nodeIndex]\n    }\n\n    const nodeDef = json.nodes[nodeIndex]\n\n    // reserve node's name before its dependencies, so the root has the intended name.\n    const nodeName = nodeDef.name ? parser.createUniqueName(nodeDef.name) : ''\n\n    const pending = []\n\n    const meshPromise = parser._invokeOne(function (ext) {\n      return ext.createNodeMesh && ext.createNodeMesh(nodeIndex)\n    })\n\n    if (meshPromise) {\n      pending.push(meshPromise)\n    }\n\n    if (nodeDef.camera !== undefined) {\n      pending.push(\n        parser.getDependency('camera', nodeDef.camera).then(function (camera) {\n          return parser._getNodeRef(parser.cameraCache, nodeDef.camera, camera)\n        }),\n      )\n    }\n\n    parser\n      ._invokeAll(function (ext) {\n        return ext.createNodeAttachment && ext.createNodeAttachment(nodeIndex)\n      })\n      .forEach(function (promise) {\n        pending.push(promise)\n      })\n\n    this.nodeCache[nodeIndex] = Promise.all(pending).then(function (objects) {\n      let node\n\n      // .isBone isn't in glTF spec. See ._markDefs\n      if (nodeDef.isBone === true) {\n        node = new Bone()\n      } else if (objects.length > 1) {\n        node = new Group()\n      } else if (objects.length === 1) {\n        node = objects[0]\n      } else {\n        node = new Object3D()\n      }\n\n      if (node !== objects[0]) {\n        for (let i = 0, il = objects.length; i < il; i++) {\n          node.add(objects[i])\n        }\n      }\n\n      if (nodeDef.name) {\n        node.userData.name = nodeDef.name\n        node.name = nodeName\n      }\n\n      assignExtrasToUserData(node, nodeDef)\n\n      if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef)\n\n      if (nodeDef.matrix !== undefined) {\n        const matrix = new Matrix4()\n        matrix.fromArray(nodeDef.matrix)\n        node.applyMatrix4(matrix)\n      } else {\n        if (nodeDef.translation !== undefined) {\n          node.position.fromArray(nodeDef.translation)\n        }\n\n        if (nodeDef.rotation !== undefined) {\n          node.quaternion.fromArray(nodeDef.rotation)\n        }\n\n        if (nodeDef.scale !== undefined) {\n          node.scale.fromArray(nodeDef.scale)\n        }\n      }\n\n      if (!parser.associations.has(node)) {\n        parser.associations.set(node, {})\n      }\n\n      parser.associations.get(node).nodes = nodeIndex\n\n      return node\n    })\n\n    return this.nodeCache[nodeIndex]\n  }\n\n  /**\n   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n   * @param {number} sceneIndex\n   * @return {Promise<Group>}\n   */\n  loadScene(sceneIndex) {\n    const extensions = this.extensions\n    const sceneDef = this.json.scenes[sceneIndex]\n    const parser = this\n\n    // Loader returns Group, not Scene.\n    // See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n    const scene = new Group()\n    if (sceneDef.name) scene.name = parser.createUniqueName(sceneDef.name)\n\n    assignExtrasToUserData(scene, sceneDef)\n\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef)\n\n    const nodeIds = sceneDef.nodes || []\n\n    const pending = []\n\n    for (let i = 0, il = nodeIds.length; i < il; i++) {\n      pending.push(parser.getDependency('node', nodeIds[i]))\n    }\n\n    return Promise.all(pending).then(function (nodes) {\n      for (let i = 0, il = nodes.length; i < il; i++) {\n        scene.add(nodes[i])\n      }\n\n      // Removes dangling associations, associations that reference a node that\n      // didn't make it into the scene.\n      const reduceAssociations = (node) => {\n        const reducedAssociations = new Map()\n\n        for (const [key, value] of parser.associations) {\n          if (key instanceof Material || key instanceof Texture) {\n            reducedAssociations.set(key, value)\n          }\n        }\n\n        node.traverse((node) => {\n          const mappings = parser.associations.get(node)\n\n          if (mappings != null) {\n            reducedAssociations.set(node, mappings)\n          }\n        })\n\n        return reducedAssociations\n      }\n\n      parser.associations = reduceAssociations(scene)\n\n      return scene\n    })\n  }\n\n  _createAnimationTracks(node, inputAccessor, outputAccessor, sampler, target) {\n    const tracks = []\n\n    const targetName = node.name ? node.name : node.uuid\n    const targetNames = []\n\n    if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\n      node.traverse(function (object) {\n        if (object.morphTargetInfluences) {\n          targetNames.push(object.name ? object.name : object.uuid)\n        }\n      })\n    } else {\n      targetNames.push(targetName)\n    }\n\n    let TypedKeyframeTrack\n\n    switch (PATH_PROPERTIES[target.path]) {\n      case PATH_PROPERTIES.weights:\n        TypedKeyframeTrack = NumberKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.rotation:\n        TypedKeyframeTrack = QuaternionKeyframeTrack\n        break\n\n      case PATH_PROPERTIES.position:\n      case PATH_PROPERTIES.scale:\n        TypedKeyframeTrack = VectorKeyframeTrack\n        break\n\n      default:\n        switch (outputAccessor.itemSize) {\n          case 1:\n            TypedKeyframeTrack = NumberKeyframeTrack\n            break\n          case 2:\n          case 3:\n          default:\n            TypedKeyframeTrack = VectorKeyframeTrack\n            break\n        }\n\n        break\n    }\n\n    const interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : InterpolateLinear\n\n    const outputArray = this._getArrayFromAccessor(outputAccessor)\n\n    for (let j = 0, jl = targetNames.length; j < jl; j++) {\n      const track = new TypedKeyframeTrack(\n        targetNames[j] + '.' + PATH_PROPERTIES[target.path],\n        inputAccessor.array,\n        outputArray,\n        interpolation,\n      )\n\n      // Override interpolation with custom factory method.\n      if (sampler.interpolation === 'CUBICSPLINE') {\n        this._createCubicSplineTrackInterpolant(track)\n      }\n\n      tracks.push(track)\n    }\n\n    return tracks\n  }\n\n  _getArrayFromAccessor(accessor) {\n    let outputArray = accessor.array\n\n    if (accessor.normalized) {\n      const scale = getNormalizedComponentScale(outputArray.constructor)\n      const scaled = new Float32Array(outputArray.length)\n\n      for (let j = 0, jl = outputArray.length; j < jl; j++) {\n        scaled[j] = outputArray[j] * scale\n      }\n\n      outputArray = scaled\n    }\n\n    return outputArray\n  }\n\n  _createCubicSplineTrackInterpolant(track) {\n    track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\n      // A CUBICSPLINE keyframe in glTF has three output values for each input value,\n      // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n      // must be divided by three to get the interpolant's sampleSize argument.\n\n      const interpolantType =\n        this instanceof QuaternionKeyframeTrack ? GLTFCubicSplineQuaternionInterpolant : GLTFCubicSplineInterpolant\n\n      return new interpolantType(this.times, this.values, this.getValueSize() / 3, result)\n    }\n\n    // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n    track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true\n  }\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const box = new Box3()\n\n  if (attributes.POSITION !== undefined) {\n    const accessor = parser.json.accessors[attributes.POSITION]\n\n    const min = accessor.min\n    const max = accessor.max\n\n    // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n    if (min !== undefined && max !== undefined) {\n      box.set(new Vector3(min[0], min[1], min[2]), new Vector3(max[0], max[1], max[2]))\n\n      if (accessor.normalized) {\n        const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n        box.min.multiplyScalar(boxScale)\n        box.max.multiplyScalar(boxScale)\n      }\n    } else {\n      console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n\n      return\n    }\n  } else {\n    return\n  }\n\n  const targets = primitiveDef.targets\n\n  if (targets !== undefined) {\n    const maxDisplacement = new Vector3()\n    const vector = new Vector3()\n\n    for (let i = 0, il = targets.length; i < il; i++) {\n      const target = targets[i]\n\n      if (target.POSITION !== undefined) {\n        const accessor = parser.json.accessors[target.POSITION]\n        const min = accessor.min\n        const max = accessor.max\n\n        // glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n        if (min !== undefined && max !== undefined) {\n          // we need to get max of absolute components because target weight is [-1,1]\n          vector.setX(Math.max(Math.abs(min[0]), Math.abs(max[0])))\n          vector.setY(Math.max(Math.abs(min[1]), Math.abs(max[1])))\n          vector.setZ(Math.max(Math.abs(min[2]), Math.abs(max[2])))\n\n          if (accessor.normalized) {\n            const boxScale = getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[accessor.componentType])\n            vector.multiplyScalar(boxScale)\n          }\n\n          // Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n          // to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n          // are used to implement key-frame animations and as such only two are active at a time - this results in very large\n          // boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n          maxDisplacement.max(vector)\n        } else {\n          console.warn('THREE.GLTFLoader: Missing min/max properties for accessor POSITION.')\n        }\n      }\n    }\n\n    // As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n    box.expandByVector(maxDisplacement)\n  }\n\n  geometry.boundingBox = box\n\n  const sphere = new Sphere()\n\n  box.getCenter(sphere.center)\n  sphere.radius = box.min.distanceTo(box.max) / 2\n\n  geometry.boundingSphere = sphere\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\n  const attributes = primitiveDef.attributes\n\n  const pending = []\n\n  function assignAttributeAccessor(accessorIndex, attributeName) {\n    return parser.getDependency('accessor', accessorIndex).then(function (accessor) {\n      geometry.setAttribute(attributeName, accessor)\n    })\n  }\n\n  for (const gltfAttributeName in attributes) {\n    const threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase()\n\n    // Skip attributes already provided by e.g. Draco extension.\n    if (threeAttributeName in geometry.attributes) continue\n\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName))\n  }\n\n  if (primitiveDef.indices !== undefined && !geometry.index) {\n    const accessor = parser.getDependency('accessor', primitiveDef.indices).then(function (accessor) {\n      geometry.setIndex(accessor)\n    })\n\n    pending.push(accessor)\n  }\n\n  assignExtrasToUserData(geometry, primitiveDef)\n\n  computeBounds(geometry, primitiveDef, parser)\n\n  return Promise.all(pending).then(function () {\n    return primitiveDef.targets !== undefined ? addMorphTargets(geometry, primitiveDef.targets, parser) : geometry\n  })\n}\n\nexport { GLTFLoader }\n"],"names":["self","res","sourceURI","node","accessor"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4076, "column": 0}, "map": {"version":3,"file":"DRACOLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/DRACOLoader.js"],"sourcesContent":["import { BufferAttribute, BufferGeometry, FileLoader, Loader } from 'three'\n\nconst _taskCache = new WeakMap()\n\nclass DRACOLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n\n    this.decoderPath = ''\n    this.decoderConfig = {}\n    this.decoderBinary = null\n    this.decoderPending = null\n\n    this.workerLimit = 4\n    this.workerPool = []\n    this.workerNextTaskID = 1\n    this.workerSourceURL = ''\n\n    this.defaultAttributeIDs = {\n      position: 'POSITION',\n      normal: 'NORMAL',\n      color: 'COLOR',\n      uv: 'TEX_COORD',\n    }\n    this.defaultAttributeTypes = {\n      position: 'Float32Array',\n      normal: 'Float32Array',\n      color: 'Float32Array',\n      uv: 'Float32Array',\n    }\n  }\n\n  setDecoderPath(path) {\n    this.decoderPath = path\n\n    return this\n  }\n\n  setDecoderConfig(config) {\n    this.decoderConfig = config\n\n    return this\n  }\n\n  setWorkerLimit(workerLimit) {\n    this.workerLimit = workerLimit\n\n    return this\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      (buffer) => {\n        const taskConfig = {\n          attributeIDs: this.defaultAttributeIDs,\n          attributeTypes: this.defaultAttributeTypes,\n          useUniqueIDs: false,\n        }\n\n        this.decodeGeometry(buffer, taskConfig).then(onLoad).catch(onError)\n      },\n      onProgress,\n      onError,\n    )\n  }\n\n  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */\n  decodeDracoFile(buffer, callback, attributeIDs, attributeTypes) {\n    const taskConfig = {\n      attributeIDs: attributeIDs || this.defaultAttributeIDs,\n      attributeTypes: attributeTypes || this.defaultAttributeTypes,\n      useUniqueIDs: !!attributeIDs,\n    }\n\n    this.decodeGeometry(buffer, taskConfig).then(callback)\n  }\n\n  decodeGeometry(buffer, taskConfig) {\n    // TODO: For backward-compatibility, support 'attributeTypes' objects containing\n    // references (rather than names) to typed array constructors. These must be\n    // serialized before sending them to the worker.\n    for (const attribute in taskConfig.attributeTypes) {\n      const type = taskConfig.attributeTypes[attribute]\n\n      if (type.BYTES_PER_ELEMENT !== undefined) {\n        taskConfig.attributeTypes[attribute] = type.name\n      }\n    }\n\n    //\n\n    const taskKey = JSON.stringify(taskConfig)\n\n    // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n    // again from this thread.\n    if (_taskCache.has(buffer)) {\n      const cachedTask = _taskCache.get(buffer)\n\n      if (cachedTask.key === taskKey) {\n        return cachedTask.promise\n      } else if (buffer.byteLength === 0) {\n        // Technically, it would be possible to wait for the previous task to complete,\n        // transfer the buffer back, and decode again with the second configuration. That\n        // is complex, and I don't know of any reason to decode a Draco buffer twice in\n        // different ways, so this is left unimplemented.\n        throw new Error(\n          'THREE.DRACOLoader: Unable to re-decode a buffer with different ' +\n            'settings. Buffer has already been transferred.',\n        )\n      }\n    }\n\n    //\n\n    let worker\n    const taskID = this.workerNextTaskID++\n    const taskCost = buffer.byteLength\n\n    // Obtain a worker and assign a task, and construct a geometry instance\n    // when the task completes.\n    const geometryPending = this._getWorker(taskID, taskCost)\n      .then((_worker) => {\n        worker = _worker\n\n        return new Promise((resolve, reject) => {\n          worker._callbacks[taskID] = { resolve, reject }\n\n          worker.postMessage({ type: 'decode', id: taskID, taskConfig, buffer }, [buffer])\n\n          // this.debug();\n        })\n      })\n      .then((message) => this._createGeometry(message.geometry))\n\n    // Remove task from the task list.\n    // Note: replaced '.finally()' with '.catch().then()' block - iOS 11 support (#19416)\n    geometryPending\n      .catch(() => true)\n      .then(() => {\n        if (worker && taskID) {\n          this._releaseTask(worker, taskID)\n\n          // this.debug();\n        }\n      })\n\n    // Cache the task result.\n    _taskCache.set(buffer, {\n      key: taskKey,\n      promise: geometryPending,\n    })\n\n    return geometryPending\n  }\n\n  _createGeometry(geometryData) {\n    const geometry = new BufferGeometry()\n\n    if (geometryData.index) {\n      geometry.setIndex(new BufferAttribute(geometryData.index.array, 1))\n    }\n\n    for (let i = 0; i < geometryData.attributes.length; i++) {\n      const attribute = geometryData.attributes[i]\n      const name = attribute.name\n      const array = attribute.array\n      const itemSize = attribute.itemSize\n\n      geometry.setAttribute(name, new BufferAttribute(array, itemSize))\n    }\n\n    return geometry\n  }\n\n  _loadLibrary(url, responseType) {\n    const loader = new FileLoader(this.manager)\n    loader.setPath(this.decoderPath)\n    loader.setResponseType(responseType)\n    loader.setWithCredentials(this.withCredentials)\n\n    return new Promise((resolve, reject) => {\n      loader.load(url, resolve, undefined, reject)\n    })\n  }\n\n  preload() {\n    this._initDecoder()\n\n    return this\n  }\n\n  _initDecoder() {\n    if (this.decoderPending) return this.decoderPending\n\n    const useJS = typeof WebAssembly !== 'object' || this.decoderConfig.type === 'js'\n    const librariesPending = []\n\n    if (useJS) {\n      librariesPending.push(this._loadLibrary('draco_decoder.js', 'text'))\n    } else {\n      librariesPending.push(this._loadLibrary('draco_wasm_wrapper.js', 'text'))\n      librariesPending.push(this._loadLibrary('draco_decoder.wasm', 'arraybuffer'))\n    }\n\n    this.decoderPending = Promise.all(librariesPending).then((libraries) => {\n      const jsContent = libraries[0]\n\n      if (!useJS) {\n        this.decoderConfig.wasmBinary = libraries[1]\n      }\n\n      const fn = DRACOWorker.toString()\n\n      const body = [\n        '/* draco decoder */',\n        jsContent,\n        '',\n        '/* worker */',\n        fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}')),\n      ].join('\\n')\n\n      this.workerSourceURL = URL.createObjectURL(new Blob([body]))\n    })\n\n    return this.decoderPending\n  }\n\n  _getWorker(taskID, taskCost) {\n    return this._initDecoder().then(() => {\n      if (this.workerPool.length < this.workerLimit) {\n        const worker = new Worker(this.workerSourceURL)\n\n        worker._callbacks = {}\n        worker._taskCosts = {}\n        worker._taskLoad = 0\n\n        worker.postMessage({ type: 'init', decoderConfig: this.decoderConfig })\n\n        worker.onmessage = function (e) {\n          const message = e.data\n\n          switch (message.type) {\n            case 'decode':\n              worker._callbacks[message.id].resolve(message)\n              break\n\n            case 'error':\n              worker._callbacks[message.id].reject(message)\n              break\n\n            default:\n              console.error('THREE.DRACOLoader: Unexpected message, \"' + message.type + '\"')\n          }\n        }\n\n        this.workerPool.push(worker)\n      } else {\n        this.workerPool.sort(function (a, b) {\n          return a._taskLoad > b._taskLoad ? -1 : 1\n        })\n      }\n\n      const worker = this.workerPool[this.workerPool.length - 1]\n      worker._taskCosts[taskID] = taskCost\n      worker._taskLoad += taskCost\n      return worker\n    })\n  }\n\n  _releaseTask(worker, taskID) {\n    worker._taskLoad -= worker._taskCosts[taskID]\n    delete worker._callbacks[taskID]\n    delete worker._taskCosts[taskID]\n  }\n\n  debug() {\n    console.log(\n      'Task load: ',\n      this.workerPool.map((worker) => worker._taskLoad),\n    )\n  }\n\n  dispose() {\n    for (let i = 0; i < this.workerPool.length; ++i) {\n      this.workerPool[i].terminate()\n    }\n\n    this.workerPool.length = 0\n\n    return this\n  }\n}\n\n/* WEB WORKER */\n\nfunction DRACOWorker() {\n  let decoderConfig\n  let decoderPending\n\n  onmessage = function (e) {\n    const message = e.data\n\n    switch (message.type) {\n      case 'init':\n        decoderConfig = message.decoderConfig\n        decoderPending = new Promise(function (resolve /*, reject*/) {\n          decoderConfig.onModuleLoaded = function (draco) {\n            // Module is Promise-like. Wrap before resolving to avoid loop.\n            resolve({ draco: draco })\n          }\n\n          DracoDecoderModule(decoderConfig)\n        })\n        break\n\n      case 'decode':\n        const buffer = message.buffer\n        const taskConfig = message.taskConfig\n        decoderPending.then((module) => {\n          const draco = module.draco\n          const decoder = new draco.Decoder()\n          const decoderBuffer = new draco.DecoderBuffer()\n          decoderBuffer.Init(new Int8Array(buffer), buffer.byteLength)\n\n          try {\n            const geometry = decodeGeometry(draco, decoder, decoderBuffer, taskConfig)\n\n            const buffers = geometry.attributes.map((attr) => attr.array.buffer)\n\n            if (geometry.index) buffers.push(geometry.index.array.buffer)\n\n            self.postMessage({ type: 'decode', id: message.id, geometry }, buffers)\n          } catch (error) {\n            console.error(error)\n\n            self.postMessage({ type: 'error', id: message.id, error: error.message })\n          } finally {\n            draco.destroy(decoderBuffer)\n            draco.destroy(decoder)\n          }\n        })\n        break\n    }\n  }\n\n  function decodeGeometry(draco, decoder, decoderBuffer, taskConfig) {\n    const attributeIDs = taskConfig.attributeIDs\n    const attributeTypes = taskConfig.attributeTypes\n\n    let dracoGeometry\n    let decodingStatus\n\n    const geometryType = decoder.GetEncodedGeometryType(decoderBuffer)\n\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      dracoGeometry = new draco.Mesh()\n      decodingStatus = decoder.DecodeBufferToMesh(decoderBuffer, dracoGeometry)\n    } else if (geometryType === draco.POINT_CLOUD) {\n      dracoGeometry = new draco.PointCloud()\n      decodingStatus = decoder.DecodeBufferToPointCloud(decoderBuffer, dracoGeometry)\n    } else {\n      throw new Error('THREE.DRACOLoader: Unexpected geometry type.')\n    }\n\n    if (!decodingStatus.ok() || dracoGeometry.ptr === 0) {\n      throw new Error('THREE.DRACOLoader: Decoding failed: ' + decodingStatus.error_msg())\n    }\n\n    const geometry = { index: null, attributes: [] }\n\n    // Gather all vertex attributes.\n    for (const attributeName in attributeIDs) {\n      const attributeType = self[attributeTypes[attributeName]]\n\n      let attribute\n      let attributeID\n\n      // A Draco file may be created with default vertex attributes, whose attribute IDs\n      // are mapped 1:1 from their semantic name (POSITION, NORMAL, ...). Alternatively,\n      // a Draco file may contain a custom set of attributes, identified by known unique\n      // IDs. glTF files always do the latter, and `.drc` files typically do the former.\n      if (taskConfig.useUniqueIDs) {\n        attributeID = attributeIDs[attributeName]\n        attribute = decoder.GetAttributeByUniqueId(dracoGeometry, attributeID)\n      } else {\n        attributeID = decoder.GetAttributeId(dracoGeometry, draco[attributeIDs[attributeName]])\n\n        if (attributeID === -1) continue\n\n        attribute = decoder.GetAttribute(dracoGeometry, attributeID)\n      }\n\n      geometry.attributes.push(decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute))\n    }\n\n    // Add index.\n    if (geometryType === draco.TRIANGULAR_MESH) {\n      geometry.index = decodeIndex(draco, decoder, dracoGeometry)\n    }\n\n    draco.destroy(dracoGeometry)\n\n    return geometry\n  }\n\n  function decodeIndex(draco, decoder, dracoGeometry) {\n    const numFaces = dracoGeometry.num_faces()\n    const numIndices = numFaces * 3\n    const byteLength = numIndices * 4\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetTrianglesUInt32Array(dracoGeometry, byteLength, ptr)\n    const index = new Uint32Array(draco.HEAPF32.buffer, ptr, numIndices).slice()\n    draco._free(ptr)\n\n    return { array: index, itemSize: 1 }\n  }\n\n  function decodeAttribute(draco, decoder, dracoGeometry, attributeName, attributeType, attribute) {\n    const numComponents = attribute.num_components()\n    const numPoints = dracoGeometry.num_points()\n    const numValues = numPoints * numComponents\n    const byteLength = numValues * attributeType.BYTES_PER_ELEMENT\n    const dataType = getDracoDataType(draco, attributeType)\n\n    const ptr = draco._malloc(byteLength)\n    decoder.GetAttributeDataArrayForAllPoints(dracoGeometry, attribute, dataType, byteLength, ptr)\n    const array = new attributeType(draco.HEAPF32.buffer, ptr, numValues).slice()\n    draco._free(ptr)\n\n    return {\n      name: attributeName,\n      array: array,\n      itemSize: numComponents,\n    }\n  }\n\n  function getDracoDataType(draco, attributeType) {\n    switch (attributeType) {\n      case Float32Array:\n        return draco.DT_FLOAT32\n      case Int8Array:\n        return draco.DT_INT8\n      case Int16Array:\n        return draco.DT_INT16\n      case Int32Array:\n        return draco.DT_INT32\n      case Uint8Array:\n        return draco.DT_UINT8\n      case Uint16Array:\n        return draco.DT_UINT16\n      case Uint32Array:\n        return draco.DT_UINT32\n    }\n  }\n}\n\nexport { DRACOLoader }\n"],"names":["worker"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4443, "column": 0}, "map": {"version":3,"file":"MeshoptDecoder.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/libs/MeshoptDecoder.ts"],"sourcesContent":["// This file is part of meshoptimizer library and is distributed under the terms of MIT License.\n// Copyright (C) 2016-2020, by Arseny Kapoulkine (arseny.kapoulkine@gmail.com)\n\ntype API = {\n  ready: Promise<void>\n  supported: boolean\n  decodeVertexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array, filter?: string) => void\n  decodeIndexBuffer: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeIndexSequence: (target: Uint8Array, count: number, size: number, source: Uint8Array) => void\n  decodeGltfBuffer: (\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    mode: string,\n    filter?: string,\n  ) => void\n}\n\nlet generated: API\n\nconst MeshoptDecoder = () => {\n  if (generated) return generated\n\n  // Built with clang version 11.0.0 (https://github.com/llvm/llvm-project.git 0160ad802e899c2922bc9b29564080c22eb0908c)\n  // Built from meshoptimizer 0.14\n  const wasm_base =\n    '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'\n  const wasm_simd =\n    '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'\n\n  // Uses bulk-memory and simd extensions\n  const detector = new Uint8Array([\n    0,\n    97,\n    115,\n    109,\n    1,\n    0,\n    0,\n    0,\n    1,\n    4,\n    1,\n    96,\n    0,\n    0,\n    3,\n    3,\n    2,\n    0,\n    0,\n    5,\n    3,\n    1,\n    0,\n    1,\n    12,\n    1,\n    0,\n    10,\n    22,\n    2,\n    12,\n    0,\n    65,\n    0,\n    65,\n    0,\n    65,\n    0,\n    252,\n    10,\n    0,\n    0,\n    11,\n    7,\n    0,\n    65,\n    0,\n    253,\n    15,\n    26,\n    11,\n  ])\n\n  // Used to unpack wasm\n  const wasmpack = new Uint8Array([\n    32,\n    0,\n    65,\n    253,\n    3,\n    1,\n    2,\n    34,\n    4,\n    106,\n    6,\n    5,\n    11,\n    8,\n    7,\n    20,\n    13,\n    33,\n    12,\n    16,\n    128,\n    9,\n    116,\n    64,\n    19,\n    113,\n    127,\n    15,\n    10,\n    21,\n    22,\n    14,\n    255,\n    66,\n    24,\n    54,\n    136,\n    107,\n    18,\n    23,\n    192,\n    26,\n    114,\n    118,\n    132,\n    17,\n    77,\n    101,\n    130,\n    144,\n    27,\n    87,\n    131,\n    44,\n    45,\n    74,\n    156,\n    154,\n    70,\n    167,\n  ])\n\n  if (typeof WebAssembly !== 'object') {\n    // This module requires WebAssembly to function\n    return {\n      supported: false,\n    }\n  }\n\n  let wasm = wasm_base\n\n  if (WebAssembly.validate(detector)) {\n    wasm = wasm_simd\n  }\n\n  let instance: any // WebAssembly.Instance\n\n  const promise = WebAssembly.instantiate(unpack(wasm), {}).then((result) => {\n    instance = result.instance\n    instance.exports.__wasm_call_ctors()\n  })\n\n  function unpack(data: string) {\n    const result = new Uint8Array(data.length)\n    for (let i = 0; i < data.length; ++i) {\n      const ch = data.charCodeAt(i)\n      result[i] = ch > 96 ? ch - 71 : ch > 64 ? ch - 65 : ch > 47 ? ch + 4 : ch > 46 ? 63 : 62\n    }\n    let write = 0\n    for (let i = 0; i < data.length; ++i) {\n      result[write++] = result[i] < 60 ? wasmpack[result[i]] : (result[i] - 60) * 64 + result[++i]\n    }\n    return result.buffer.slice(0, write)\n  }\n\n  function decode(\n    fun: Function,\n    target: Uint8Array,\n    count: number,\n    size: number,\n    source: Uint8Array,\n    filter?: Function,\n  ) {\n    const sbrk = instance.exports.sbrk\n    const count4 = (count + 3) & ~3 // pad for SIMD filter\n    const tp = sbrk(count4 * size)\n    const sp = sbrk(source.length)\n    const heap = new Uint8Array(instance.exports.memory.buffer)\n    heap.set(source, sp)\n    const res = fun(tp, count, size, sp, source.length)\n    if (res === 0 && filter) {\n      filter(tp, count4, size)\n    }\n    target.set(heap.subarray(tp, tp + count * size))\n    sbrk(tp - sbrk(0))\n    if (res !== 0) {\n      throw new Error(`Malformed buffer data: ${res}`)\n    }\n  }\n\n  const filters = {\n    // legacy index-based enums for glTF\n    0: '',\n    1: 'meshopt_decodeFilterOct',\n    2: 'meshopt_decodeFilterQuat',\n    3: 'meshopt_decodeFilterExp',\n    // string-based enums for glTF\n    NONE: '',\n    OCTAHEDRAL: 'meshopt_decodeFilterOct',\n    QUATERNION: 'meshopt_decodeFilterQuat',\n    EXPONENTIAL: 'meshopt_decodeFilterExp',\n  }\n\n  const decoders = {\n    // legacy index-based enums for glTF\n    0: 'meshopt_decodeVertexBuffer',\n    1: 'meshopt_decodeIndexBuffer',\n    2: 'meshopt_decodeIndexSequence',\n    // string-based enums for glTF\n    ATTRIBUTES: 'meshopt_decodeVertexBuffer',\n    TRIANGLES: 'meshopt_decodeIndexBuffer',\n    INDICES: 'meshopt_decodeIndexSequence',\n  }\n\n  generated = {\n    ready: promise,\n    supported: true,\n    decodeVertexBuffer(target, count, size, source, filter) {\n      decode(\n        instance.exports.meshopt_decodeVertexBuffer,\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n    decodeIndexBuffer(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexBuffer, target, count, size, source)\n    },\n    decodeIndexSequence(target, count, size, source) {\n      decode(instance.exports.meshopt_decodeIndexSequence, target, count, size, source)\n    },\n    decodeGltfBuffer(target, count, size, source, mode, filter) {\n      decode(\n        instance.exports[decoders[mode as keyof typeof decoders]],\n        target,\n        count,\n        size,\n        source,\n        instance.exports[filters[filter as keyof typeof filters]],\n      )\n    },\n  }\n\n  return generated\n}\n\nexport { MeshoptDecoder }\n"],"names":[],"mappings":";;;AAmBA,IAAI;AAEJ,MAAM,iBAAiB,MAAM;IACvB,IAAA,WAAkB,OAAA;IAItB,MAAM,YACJ;IACF,MAAM,YACJ;IAGI,MAAA,WAAW,IAAI,WAAW;QAC9B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAGK,MAAA,WAAW,IAAI,WAAW;QAC9B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAEG,IAAA,OAAO,gBAAgB,UAAU;QAE5B,OAAA;YACL,WAAW;QAAA;IAEf;IAEA,IAAI,OAAO;IAEP,IAAA,YAAY,QAAA,CAAS,QAAQ,GAAG;QAC3B,OAAA;IACT;IAEI,IAAA;IAEE,MAAA,UAAU,YAAY,WAAA,CAAY,OAAO,IAAI,GAAG,CAAA,CAAE,EAAE,IAAA,CAAK,CAAC,WAAW;QACzE,WAAW,OAAO,QAAA;QAClB,SAAS,OAAA,CAAQ,iBAAA;IAAkB,CACpC;IAED,SAAS,OAAO,IAAA,EAAc;QAC5B,MAAM,SAAS,IAAI,WAAW,KAAK,MAAM;QACzC,IAAA,IAAS,IAAI,GAAG,IAAI,KAAK,MAAA,EAAQ,EAAE,EAAG;YAC9B,MAAA,KAAK,KAAK,UAAA,CAAW,CAAC;YAC5B,MAAA,CAAO,CAAC,CAAA,GAAI,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,IAAI,KAAK,KAAK,KAAK;QACxF;QACA,IAAI,QAAQ;QACZ,IAAA,IAAS,IAAI,GAAG,IAAI,KAAK,MAAA,EAAQ,EAAE,EAAG;YACpC,MAAA,CAAO,OAAO,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,GAAI,KAAK,QAAA,CAAS,MAAA,CAAO,CAAC,CAAC,CAAA,GAAA,CAAK,MAAA,CAAO,CAAC,CAAA,GAAI,EAAA,IAAM,KAAK,MAAA,CAAO,EAAE,CAAC,CAAA;QAC7F;QACA,OAAO,OAAO,MAAA,CAAO,KAAA,CAAM,GAAG,KAAK;IACrC;IAEA,SAAS,OACP,GAAA,EACA,MAAA,EACA,KAAA,EACA,IAAA,EACA,MAAA,EACA,MAAA,EACA;QACM,MAAA,OAAO,SAAS,OAAA,CAAQ,IAAA;QACxB,MAAA,SAAU,QAAQ,IAAK,CAAC;QACxB,MAAA,KAAK,KAAK,SAAS,IAAI;QACvB,MAAA,KAAK,KAAK,OAAO,MAAM;QAC7B,MAAM,OAAO,IAAI,WAAW,SAAS,OAAA,CAAQ,MAAA,CAAO,MAAM;QACrD,KAAA,GAAA,CAAI,QAAQ,EAAE;QACnB,MAAM,MAAM,IAAI,IAAI,OAAO,MAAM,IAAI,OAAO,MAAM;QAC9C,IAAA,QAAQ,KAAK,QAAQ;YAChB,OAAA,IAAI,QAAQ,IAAI;QACzB;QACA,OAAO,GAAA,CAAI,KAAK,QAAA,CAAS,IAAI,KAAK,QAAQ,IAAI,CAAC;QAC1C,KAAA,KAAK,KAAK,CAAC,CAAC;QACjB,IAAI,QAAQ,GAAG;YACP,MAAA,IAAI,MAAM,CAAA,uBAAA,EAA0B,KAAK;QACjD;IACF;IAEA,MAAM,UAAU;QAAA,oCAAA;QAEd,GAAG;QACH,GAAG;QACH,GAAG;QACH,GAAG;QAAA,8BAAA;QAEH,MAAM;QACN,YAAY;QACZ,YAAY;QACZ,aAAa;IAAA;IAGf,MAAM,WAAW;QAAA,oCAAA;QAEf,GAAG;QACH,GAAG;QACH,GAAG;QAAA,8BAAA;QAEH,YAAY;QACZ,WAAW;QACX,SAAS;IAAA;IAGC,YAAA;QACV,OAAO;QACP,WAAW;QACX,oBAAmB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ,MAAA,EAAQ;YACtD,OACE,SAAS,OAAA,CAAQ,0BAAA,EACjB,QACA,OACA,MACA,QACA,SAAS,OAAA,CAAQ,OAAA,CAAQ,MAA8B,CAAC,CAAA;QAE5D;QACA,mBAAkB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ;YAC7C,OAAO,SAAS,OAAA,CAAQ,yBAAA,EAA2B,QAAQ,OAAO,MAAM,MAAM;QAChF;QACA,qBAAoB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ;YAC/C,OAAO,SAAS,OAAA,CAAQ,2BAAA,EAA6B,QAAQ,OAAO,MAAM,MAAM;QAClF;QACA,kBAAiB,MAAA,EAAQ,KAAA,EAAO,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,MAAA,EAAQ;YAC1D,OACE,SAAS,OAAA,CAAQ,QAAA,CAAS,IAA6B,CAAC,CAAA,EACxD,QACA,OACA,MACA,QACA,SAAS,OAAA,CAAQ,OAAA,CAAQ,MAA8B,CAAC,CAAA;QAE5D;IAAA;IAGK,OAAA;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4657, "column": 0}, "map": {"version":3,"file":"SkeletonUtils.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/utils/SkeletonUtils.js"],"sourcesContent":["import {\n  AnimationClip,\n  AnimationMixer,\n  Matrix4,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  SkeletonHelper,\n  Vector3,\n  VectorKeyframeTrack,\n} from 'three'\n\nfunction retarget(target, source, options = {}) {\n  const pos = new Vector3(),\n    quat = new Quaternion(),\n    scale = new Vector3(),\n    bindBoneMatrix = new Matrix4(),\n    relativeMatrix = new Matrix4(),\n    globalMatrix = new Matrix4()\n\n  options.preserveMatrix = options.preserveMatrix !== undefined ? options.preserveMatrix : true\n  options.preservePosition = options.preservePosition !== undefined ? options.preservePosition : true\n  options.preserveHipPosition = options.preserveHipPosition !== undefined ? options.preserveHipPosition : false\n  options.useTargetMatrix = options.useTargetMatrix !== undefined ? options.useTargetMatrix : false\n  options.hip = options.hip !== undefined ? options.hip : 'hip'\n  options.names = options.names || {}\n\n  const sourceBones = source.isObject3D ? source.skeleton.bones : getBones(source),\n    bones = target.isObject3D ? target.skeleton.bones : getBones(target)\n\n  let bindBones, bone, name, boneTo, bonesPosition\n\n  // reset bones\n\n  if (target.isObject3D) {\n    target.skeleton.pose()\n  } else {\n    options.useTargetMatrix = true\n    options.preserveMatrix = false\n  }\n\n  if (options.preservePosition) {\n    bonesPosition = []\n\n    for (let i = 0; i < bones.length; i++) {\n      bonesPosition.push(bones[i].position.clone())\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // reset matrix\n\n    target.updateMatrixWorld()\n\n    target.matrixWorld.identity()\n\n    // reset children matrix\n\n    for (let i = 0; i < target.children.length; ++i) {\n      target.children[i].updateMatrixWorld(true)\n    }\n  }\n\n  if (options.offsets) {\n    bindBones = []\n\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (options.offsets[name]) {\n        bone.matrix.multiply(options.offsets[name])\n\n        bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n        bone.updateMatrixWorld()\n      }\n\n      bindBones.push(bone.matrixWorld.clone())\n    }\n  }\n\n  for (let i = 0; i < bones.length; ++i) {\n    bone = bones[i]\n    name = options.names[bone.name] || bone.name\n\n    boneTo = getBoneByName(name, sourceBones)\n\n    globalMatrix.copy(bone.matrixWorld)\n\n    if (boneTo) {\n      boneTo.updateMatrixWorld()\n\n      if (options.useTargetMatrix) {\n        relativeMatrix.copy(boneTo.matrixWorld)\n      } else {\n        relativeMatrix.copy(target.matrixWorld).invert()\n        relativeMatrix.multiply(boneTo.matrixWorld)\n      }\n\n      // ignore scale to extract rotation\n\n      scale.setFromMatrixScale(relativeMatrix)\n      relativeMatrix.scale(scale.set(1 / scale.x, 1 / scale.y, 1 / scale.z))\n\n      // apply to global matrix\n\n      globalMatrix.makeRotationFromQuaternion(quat.setFromRotationMatrix(relativeMatrix))\n\n      if (target.isObject3D) {\n        const boneIndex = bones.indexOf(bone),\n          wBindMatrix = bindBones\n            ? bindBones[boneIndex]\n            : bindBoneMatrix.copy(target.skeleton.boneInverses[boneIndex]).invert()\n\n        globalMatrix.multiply(wBindMatrix)\n      }\n\n      globalMatrix.copyPosition(relativeMatrix)\n    }\n\n    if (bone.parent && bone.parent.isBone) {\n      bone.matrix.copy(bone.parent.matrixWorld).invert()\n      bone.matrix.multiply(globalMatrix)\n    } else {\n      bone.matrix.copy(globalMatrix)\n    }\n\n    if (options.preserveHipPosition && name === options.hip) {\n      bone.matrix.setPosition(pos.set(0, bone.position.y, 0))\n    }\n\n    bone.matrix.decompose(bone.position, bone.quaternion, bone.scale)\n\n    bone.updateMatrixWorld()\n  }\n\n  if (options.preservePosition) {\n    for (let i = 0; i < bones.length; ++i) {\n      bone = bones[i]\n      name = options.names[bone.name] || bone.name\n\n      if (name !== options.hip) {\n        bone.position.copy(bonesPosition[i])\n      }\n    }\n  }\n\n  if (options.preserveMatrix) {\n    // restore matrix\n\n    target.updateMatrixWorld(true)\n  }\n}\n\nfunction retargetClip(target, source, clip, options = {}) {\n  options.useFirstFramePosition = options.useFirstFramePosition !== undefined ? options.useFirstFramePosition : false\n  options.fps = options.fps !== undefined ? options.fps : 30\n  options.names = options.names || []\n\n  if (!source.isObject3D) {\n    source = getHelperFromSkeleton(source)\n  }\n\n  const numFrames = Math.round(clip.duration * (options.fps / 1000) * 1000),\n    delta = 1 / options.fps,\n    convertedTracks = [],\n    mixer = new AnimationMixer(source),\n    bones = getBones(target.skeleton),\n    boneDatas = []\n  let positionOffset, bone, boneTo, boneData, name\n\n  mixer.clipAction(clip).play()\n  mixer.update(0)\n\n  source.updateMatrixWorld()\n\n  for (let i = 0; i < numFrames; ++i) {\n    const time = i * delta\n\n    retarget(target, source, options)\n\n    for (let j = 0; j < bones.length; ++j) {\n      name = options.names[bones[j].name] || bones[j].name\n\n      boneTo = getBoneByName(name, source.skeleton)\n\n      if (boneTo) {\n        bone = bones[j]\n        boneData = boneDatas[j] = boneDatas[j] || { bone: bone }\n\n        if (options.hip === name) {\n          if (!boneData.pos) {\n            boneData.pos = {\n              times: new Float32Array(numFrames),\n              values: new Float32Array(numFrames * 3),\n            }\n          }\n\n          if (options.useFirstFramePosition) {\n            if (i === 0) {\n              positionOffset = bone.position.clone()\n            }\n\n            bone.position.sub(positionOffset)\n          }\n\n          boneData.pos.times[i] = time\n\n          bone.position.toArray(boneData.pos.values, i * 3)\n        }\n\n        if (!boneData.quat) {\n          boneData.quat = {\n            times: new Float32Array(numFrames),\n            values: new Float32Array(numFrames * 4),\n          }\n        }\n\n        boneData.quat.times[i] = time\n\n        bone.quaternion.toArray(boneData.quat.values, i * 4)\n      }\n    }\n\n    mixer.update(delta)\n\n    source.updateMatrixWorld()\n  }\n\n  for (let i = 0; i < boneDatas.length; ++i) {\n    boneData = boneDatas[i]\n\n    if (boneData) {\n      if (boneData.pos) {\n        convertedTracks.push(\n          new VectorKeyframeTrack(\n            '.bones[' + boneData.bone.name + '].position',\n            boneData.pos.times,\n            boneData.pos.values,\n          ),\n        )\n      }\n\n      convertedTracks.push(\n        new QuaternionKeyframeTrack(\n          '.bones[' + boneData.bone.name + '].quaternion',\n          boneData.quat.times,\n          boneData.quat.values,\n        ),\n      )\n    }\n  }\n\n  mixer.uncacheAction(clip)\n\n  return new AnimationClip(clip.name, -1, convertedTracks)\n}\n\nfunction clone(source) {\n  const sourceLookup = new Map()\n  const cloneLookup = new Map()\n\n  const clone = source.clone()\n\n  parallelTraverse(source, clone, function (sourceNode, clonedNode) {\n    sourceLookup.set(clonedNode, sourceNode)\n    cloneLookup.set(sourceNode, clonedNode)\n  })\n\n  clone.traverse(function (node) {\n    if (!node.isSkinnedMesh) return\n\n    const clonedMesh = node\n    const sourceMesh = sourceLookup.get(node)\n    const sourceBones = sourceMesh.skeleton.bones\n\n    clonedMesh.skeleton = sourceMesh.skeleton.clone()\n    clonedMesh.bindMatrix.copy(sourceMesh.bindMatrix)\n\n    clonedMesh.skeleton.bones = sourceBones.map(function (bone) {\n      return cloneLookup.get(bone)\n    })\n\n    clonedMesh.bind(clonedMesh.skeleton, clonedMesh.bindMatrix)\n  })\n\n  return clone\n}\n\n// internal helper\n\nfunction getBoneByName(name, skeleton) {\n  for (let i = 0, bones = getBones(skeleton); i < bones.length; i++) {\n    if (name === bones[i].name) return bones[i]\n  }\n}\n\nfunction getBones(skeleton) {\n  return Array.isArray(skeleton) ? skeleton : skeleton.bones\n}\n\nfunction getHelperFromSkeleton(skeleton) {\n  const source = new SkeletonHelper(skeleton.bones[0])\n  source.skeleton = skeleton\n\n  return source\n}\n\nfunction parallelTraverse(a, b, callback) {\n  callback(a, b)\n\n  for (let i = 0; i < a.children.length; i++) {\n    parallelTraverse(a.children[i], b.children[i], callback)\n  }\n}\n\nexport const SkeletonUtils = { retarget, retargetClip, clone }\n"],"names":["clone"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4869, "column": 0}, "map": {"version":3,"file":"SelectionBox.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/interactive/SelectionBox.js"],"sourcesContent":["import { Frustum, Vector3 } from 'three'\n\nconst frustum = /* @__PURE__ */ new Frustum()\nconst center = /* @__PURE__ */ new Vector3()\n\nconst tmpPoint = /* @__PURE__ */ new Vector3()\n\nconst vecNear = /* @__PURE__ */ new Vector3()\nconst vecTopLeft = /* @__PURE__ */ new Vector3()\nconst vecTopRight = /* @__PURE__ */ new Vector3()\nconst vecDownRight = /* @__PURE__ */ new Vector3()\nconst vecDownLeft = /* @__PURE__ */ new Vector3()\n\nconst vecFarTopLeft = /* @__PURE__ */ new Vector3()\nconst vecFarTopRight = /* @__PURE__ */ new Vector3()\nconst vecFarDownRight = /* @__PURE__ */ new Vector3()\nconst vecFarDownLeft = /* @__PURE__ */ new Vector3()\n\nconst vectemp1 = /* @__PURE__ */ new Vector3()\nconst vectemp2 = /* @__PURE__ */ new Vector3()\nconst vectemp3 = /* @__PURE__ */ new Vector3()\n\nclass SelectionBox {\n  constructor(camera, scene, deep) {\n    this.camera = camera\n    this.scene = scene\n    this.startPoint = new Vector3()\n    this.endPoint = new Vector3()\n    this.collection = []\n    this.deep = deep || Number.MAX_VALUE\n  }\n\n  select(startPoint, endPoint) {\n    this.startPoint = startPoint || this.startPoint\n    this.endPoint = endPoint || this.endPoint\n    this.collection = []\n\n    this.updateFrustum(this.startPoint, this.endPoint)\n    this.searchChildInFrustum(frustum, this.scene)\n\n    return this.collection\n  }\n\n  updateFrustum(startPoint, endPoint) {\n    startPoint = startPoint || this.startPoint\n    endPoint = endPoint || this.endPoint\n\n    // Avoid invalid frustum\n\n    if (startPoint.x === endPoint.x) {\n      endPoint.x += Number.EPSILON\n    }\n\n    if (startPoint.y === endPoint.y) {\n      endPoint.y += Number.EPSILON\n    }\n\n    this.camera.updateProjectionMatrix()\n    this.camera.updateMatrixWorld()\n\n    if (this.camera.isPerspectiveCamera) {\n      tmpPoint.copy(startPoint)\n      tmpPoint.x = Math.min(startPoint.x, endPoint.x)\n      tmpPoint.y = Math.max(startPoint.y, endPoint.y)\n      endPoint.x = Math.max(startPoint.x, endPoint.x)\n      endPoint.y = Math.min(startPoint.y, endPoint.y)\n\n      vecNear.setFromMatrixPosition(this.camera.matrixWorld)\n      vecTopLeft.copy(tmpPoint)\n      vecTopRight.set(endPoint.x, tmpPoint.y, 0)\n      vecDownRight.copy(endPoint)\n      vecDownLeft.set(tmpPoint.x, endPoint.y, 0)\n\n      vecTopLeft.unproject(this.camera)\n      vecTopRight.unproject(this.camera)\n      vecDownRight.unproject(this.camera)\n      vecDownLeft.unproject(this.camera)\n\n      vectemp1.copy(vecTopLeft).sub(vecNear)\n      vectemp2.copy(vecTopRight).sub(vecNear)\n      vectemp3.copy(vecDownRight).sub(vecNear)\n      vectemp1.normalize()\n      vectemp2.normalize()\n      vectemp3.normalize()\n\n      vectemp1.multiplyScalar(this.deep)\n      vectemp2.multiplyScalar(this.deep)\n      vectemp3.multiplyScalar(this.deep)\n      vectemp1.add(vecNear)\n      vectemp2.add(vecNear)\n      vectemp3.add(vecNear)\n\n      var planes = frustum.planes\n\n      planes[0].setFromCoplanarPoints(vecNear, vecTopLeft, vecTopRight)\n      planes[1].setFromCoplanarPoints(vecNear, vecTopRight, vecDownRight)\n      planes[2].setFromCoplanarPoints(vecDownRight, vecDownLeft, vecNear)\n      planes[3].setFromCoplanarPoints(vecDownLeft, vecTopLeft, vecNear)\n      planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft)\n      planes[5].setFromCoplanarPoints(vectemp3, vectemp2, vectemp1)\n      planes[5].normal.multiplyScalar(-1)\n    } else if (this.camera.isOrthographicCamera) {\n      const left = Math.min(startPoint.x, endPoint.x)\n      const top = Math.max(startPoint.y, endPoint.y)\n      const right = Math.max(startPoint.x, endPoint.x)\n      const down = Math.min(startPoint.y, endPoint.y)\n\n      vecTopLeft.set(left, top, -1)\n      vecTopRight.set(right, top, -1)\n      vecDownRight.set(right, down, -1)\n      vecDownLeft.set(left, down, -1)\n\n      vecFarTopLeft.set(left, top, 1)\n      vecFarTopRight.set(right, top, 1)\n      vecFarDownRight.set(right, down, 1)\n      vecFarDownLeft.set(left, down, 1)\n\n      vecTopLeft.unproject(this.camera)\n      vecTopRight.unproject(this.camera)\n      vecDownRight.unproject(this.camera)\n      vecDownLeft.unproject(this.camera)\n\n      vecFarTopLeft.unproject(this.camera)\n      vecFarTopRight.unproject(this.camera)\n      vecFarDownRight.unproject(this.camera)\n      vecFarDownLeft.unproject(this.camera)\n\n      var planes = frustum.planes\n\n      planes[0].setFromCoplanarPoints(vecTopLeft, vecFarTopLeft, vecFarTopRight)\n      planes[1].setFromCoplanarPoints(vecTopRight, vecFarTopRight, vecFarDownRight)\n      planes[2].setFromCoplanarPoints(vecFarDownRight, vecFarDownLeft, vecDownLeft)\n      planes[3].setFromCoplanarPoints(vecFarDownLeft, vecFarTopLeft, vecTopLeft)\n      planes[4].setFromCoplanarPoints(vecTopRight, vecDownRight, vecDownLeft)\n      planes[5].setFromCoplanarPoints(vecFarDownRight, vecFarTopRight, vecFarTopLeft)\n      planes[5].normal.multiplyScalar(-1)\n    } else {\n      console.error('THREE.SelectionBox: Unsupported camera type.')\n    }\n  }\n\n  searchChildInFrustum(frustum, object) {\n    if (object.isMesh || object.isLine || object.isPoints) {\n      if (object.material !== undefined) {\n        if (object.geometry.boundingSphere === null) object.geometry.computeBoundingSphere()\n\n        center.copy(object.geometry.boundingSphere.center)\n\n        center.applyMatrix4(object.matrixWorld)\n\n        if (frustum.containsPoint(center)) {\n          this.collection.push(object)\n        }\n      }\n    }\n\n    if (object.children.length > 0) {\n      for (let x = 0; x < object.children.length; x++) {\n        this.searchChildInFrustum(frustum, object.children[x])\n      }\n    }\n  }\n}\n\nexport { SelectionBox }\n"],"names":["frustum"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5011, "column": 0}, "map": {"version":3,"file":"LineSegmentsGeometry.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/lines/LineSegmentsGeometry.js"],"sourcesContent":["import {\n  Box3,\n  Float32BufferAttribute,\n  InstancedBufferGeometry,\n  InstancedInterleavedBuffer,\n  InterleavedBufferAttribute,\n  Sphere,\n  Vector3,\n  WireframeGeometry,\n} from 'three'\n\nconst _box = /* @__PURE__ */ new Box3()\nconst _vector = /* @__PURE__ */ new Vector3()\n\nclass LineSegmentsGeometry extends InstancedBufferGeometry {\n  constructor() {\n    super()\n\n    this.isLineSegmentsGeometry = true\n\n    this.type = 'LineSegmentsGeometry'\n\n    const positions = [-1, 2, 0, 1, 2, 0, -1, 1, 0, 1, 1, 0, -1, 0, 0, 1, 0, 0, -1, -1, 0, 1, -1, 0]\n    const uvs = [-1, 2, 1, 2, -1, 1, 1, 1, -1, -1, 1, -1, -1, -2, 1, -2]\n    const index = [0, 2, 1, 2, 3, 1, 2, 4, 3, 4, 5, 3, 4, 6, 5, 6, 7, 5]\n\n    this.setIndex(index)\n    this.setAttribute('position', new Float32BufferAttribute(positions, 3))\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2))\n  }\n\n  applyMatrix4(matrix) {\n    const start = this.attributes.instanceStart\n    const end = this.attributes.instanceEnd\n\n    if (start !== undefined) {\n      start.applyMatrix4(matrix)\n\n      end.applyMatrix4(matrix)\n\n      start.needsUpdate = true\n    }\n\n    if (this.boundingBox !== null) {\n      this.computeBoundingBox()\n    }\n\n    if (this.boundingSphere !== null) {\n      this.computeBoundingSphere()\n    }\n\n    return this\n  }\n\n  setPositions(array) {\n    let lineSegments\n\n    if (array instanceof Float32Array) {\n      lineSegments = array\n    } else if (Array.isArray(array)) {\n      lineSegments = new Float32Array(array)\n    }\n\n    const instanceBuffer = new InstancedInterleavedBuffer(lineSegments, 6, 1) // xyz, xyz\n\n    this.setAttribute('instanceStart', new InterleavedBufferAttribute(instanceBuffer, 3, 0)) // xyz\n    this.setAttribute('instanceEnd', new InterleavedBufferAttribute(instanceBuffer, 3, 3)) // xyz\n\n    //\n\n    this.computeBoundingBox()\n    this.computeBoundingSphere()\n\n    return this\n  }\n\n  setColors(array, itemSize = 3) {\n    let colors\n\n    if (array instanceof Float32Array) {\n      colors = array\n    } else if (Array.isArray(array)) {\n      colors = new Float32Array(array)\n    }\n\n    const instanceColorBuffer = new InstancedInterleavedBuffer(colors, itemSize * 2, 1) // rgb(a), rgb(a)\n\n    this.setAttribute('instanceColorStart', new InterleavedBufferAttribute(instanceColorBuffer, itemSize, 0)) // rgb(a)\n    this.setAttribute('instanceColorEnd', new InterleavedBufferAttribute(instanceColorBuffer, itemSize, itemSize)) // rgb(a)\n\n    return this\n  }\n\n  fromWireframeGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array)\n\n    return this\n  }\n\n  fromEdgesGeometry(geometry) {\n    this.setPositions(geometry.attributes.position.array)\n\n    return this\n  }\n\n  fromMesh(mesh) {\n    this.fromWireframeGeometry(new WireframeGeometry(mesh.geometry))\n\n    // set colors, maybe\n\n    return this\n  }\n\n  fromLineSegments(lineSegments) {\n    const geometry = lineSegments.geometry\n\n    this.setPositions(geometry.attributes.position.array) // assumes non-indexed\n\n    // set colors, maybe\n\n    return this\n  }\n\n  computeBoundingBox() {\n    if (this.boundingBox === null) {\n      this.boundingBox = new Box3()\n    }\n\n    const start = this.attributes.instanceStart\n    const end = this.attributes.instanceEnd\n\n    if (start !== undefined && end !== undefined) {\n      this.boundingBox.setFromBufferAttribute(start)\n\n      _box.setFromBufferAttribute(end)\n\n      this.boundingBox.union(_box)\n    }\n  }\n\n  computeBoundingSphere() {\n    if (this.boundingSphere === null) {\n      this.boundingSphere = new Sphere()\n    }\n\n    if (this.boundingBox === null) {\n      this.computeBoundingBox()\n    }\n\n    const start = this.attributes.instanceStart\n    const end = this.attributes.instanceEnd\n\n    if (start !== undefined && end !== undefined) {\n      const center = this.boundingSphere.center\n\n      this.boundingBox.getCenter(center)\n\n      let maxRadiusSq = 0\n\n      for (let i = 0, il = start.count; i < il; i++) {\n        _vector.fromBufferAttribute(start, i)\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector))\n\n        _vector.fromBufferAttribute(end, i)\n        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector))\n      }\n\n      this.boundingSphere.radius = Math.sqrt(maxRadiusSq)\n\n      if (isNaN(this.boundingSphere.radius)) {\n        console.error(\n          'THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.',\n          this,\n        )\n      }\n    }\n  }\n\n  toJSON() {\n    // todo\n  }\n\n  applyMatrix(matrix) {\n    console.warn('THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4().')\n\n    return this.applyMatrix4(matrix)\n  }\n}\n\nexport { LineSegmentsGeometry }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5201, "column": 0}, "map": {"version":3,"file":"LineMaterial.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/lines/LineMaterial.js"],"sourcesContent":["/**\n * parameters = {\n *  color: <hex>,\n *  linewidth: <float>,\n *  dashed: <boolean>,\n *  dashScale: <float>,\n *  dashSize: <float>,\n *  dashOffset: <float>,\n *  gapSize: <float>,\n * }\n */\n\nimport { ShaderMaterial, UniformsLib, UniformsUtils, Vector2 } from 'three'\nimport { version } from '../_polyfill/constants'\n\nclass LineMaterial extends ShaderMaterial {\n  constructor(parameters) {\n    super({\n      type: 'LineMaterial',\n\n      uniforms: UniformsUtils.clone(\n        UniformsUtils.merge([\n          UniformsLib.common,\n          UniformsLib.fog,\n          {\n            worldUnits: { value: 1 },\n            linewidth: { value: 1 },\n            resolution: { value: new Vector2(1, 1) },\n            dashOffset: { value: 0 },\n            dashScale: { value: 1 },\n            dashSize: { value: 1 },\n            gapSize: { value: 1 }, // todo FIX - maybe change to totalSize\n          },\n        ]),\n      ),\n\n      vertexShader: /* glsl */ `\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_vertex>\n\t\t\t\t#include <logdepthbuf_pars_vertex>\n\t\t\t\t#include <clipping_planes_pars_vertex>\n\n\t\t\t\tuniform float linewidth;\n\t\t\t\tuniform vec2 resolution;\n\n\t\t\t\tattribute vec3 instanceStart;\n\t\t\t\tattribute vec3 instanceEnd;\n\n\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\tvarying vec4 vLineColor;\n\t\t\t\t\t\tattribute vec4 instanceColorStart;\n\t\t\t\t\t\tattribute vec4 instanceColorEnd;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 vLineColor;\n\t\t\t\t\t\tattribute vec3 instanceColorStart;\n\t\t\t\t\t\tattribute vec3 instanceColorEnd;\n\t\t\t\t\t#endif\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashScale;\n\t\t\t\t\tattribute float instanceDistanceStart;\n\t\t\t\t\tattribute float instanceDistanceEnd;\n\t\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#endif\n\n\t\t\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t\t\t// conservative estimate of the near plane\n\t\t\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#ifdef USE_COLOR\n\n\t\t\t\t\t\tvLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t\t\t// camera space\n\t\t\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\tworldStart = start.xyz;\n\t\t\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvUv = uv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\t\t\tif ( perspective ) {\n\n\t\t\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// clip space\n\t\t\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t\t\t// ndc space\n\t\t\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t\t\t// direction\n\t\t\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t\t\t// account for clip-space aspect ratio\n\t\t\t\t\tdir.x *= aspect;\n\t\t\t\t\tdir = normalize( dir );\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\t\t\tvec3 offset;\n\t\t\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t\t\t// set the world position\n\t\t\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t\t\t// project the worldpos\n\t\t\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t\t\t// segments overlap neatly\n\t\t\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\t\t\tdir.x /= aspect;\n\t\t\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t\t\t// sign flip\n\t\t\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t\t\t// endcaps\n\t\t\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\t\t\toffset += - dir;\n\n\t\t\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\t\t\toffset += dir;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// adjust for linewidth\n\t\t\t\t\t\toffset *= linewidth;\n\n\t\t\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t\t\t// select end\n\t\t\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t\t\t// back to clip space\n\t\t\t\t\t\toffset *= clip.w;\n\n\t\t\t\t\t\tclip.xy += offset;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tgl_Position = clip;\n\n\t\t\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t\t\t#include <logdepthbuf_vertex>\n\t\t\t\t\t#include <clipping_planes_vertex>\n\t\t\t\t\t#include <fog_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n      fragmentShader: /* glsl */ `\n\t\t\t\tuniform vec3 diffuse;\n\t\t\t\tuniform float opacity;\n\t\t\t\tuniform float linewidth;\n\n\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\tuniform float dashOffset;\n\t\t\t\t\tuniform float dashSize;\n\t\t\t\t\tuniform float gapSize;\n\n\t\t\t\t#endif\n\n\t\t\t\tvarying float vLineDistance;\n\n\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\tvarying vec4 worldPos;\n\t\t\t\t\tvarying vec3 worldStart;\n\t\t\t\t\tvarying vec3 worldEnd;\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#else\n\n\t\t\t\t\tvarying vec2 vUv;\n\n\t\t\t\t#endif\n\n\t\t\t\t#include <common>\n\t\t\t\t#include <fog_pars_fragment>\n\t\t\t\t#include <logdepthbuf_pars_fragment>\n\t\t\t\t#include <clipping_planes_pars_fragment>\n\n\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\tvarying vec4 vLineColor;\n\t\t\t\t\t#else\n\t\t\t\t\t\tvarying vec3 vLineColor;\n\t\t\t\t\t#endif\n\t\t\t\t#endif\n\n\t\t\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\t\t\tfloat mua;\n\t\t\t\t\tfloat mub;\n\n\t\t\t\t\tvec3 p13 = p1 - p3;\n\t\t\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\t\t\tmua = numer / denom;\n\t\t\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\t\t\treturn vec2( mua, mub );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t\t\t#ifdef USE_DASH\n\n\t\t\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tfloat alpha = opacity;\n\n\t\t\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\t\t\tfloat len = length( delta );\n\t\t\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t#endif\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#else\n\n\t\t\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t#endif\n\n\t\t\t\t\t#endif\n\n\t\t\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\t\t\t\t\t#ifdef USE_COLOR\n\t\t\t\t\t\t#ifdef USE_LINE_COLOR_ALPHA\n\t\t\t\t\t\t\tdiffuseColor *= vLineColor;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tdiffuseColor.rgb *= vLineColor;\n\t\t\t\t\t\t#endif\n\t\t\t\t\t#endif\n\n\t\t\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\t\t\tgl_FragColor = diffuseColor;\n\n\t\t\t\t\t#include <tonemapping_fragment>\n\t\t\t\t\t#include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n\t\t\t\t\t#include <fog_fragment>\n\t\t\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t\t\t}\n\t\t\t`,\n      clipping: true, // required for clipping support\n    })\n\n    this.isLineMaterial = true\n\n    this.onBeforeCompile = function () {\n      if (this.transparent) {\n        this.defines.USE_LINE_COLOR_ALPHA = '1'\n      } else {\n        delete this.defines.USE_LINE_COLOR_ALPHA\n      }\n    }\n\n    Object.defineProperties(this, {\n      color: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.diffuse.value\n        },\n\n        set: function (value) {\n          this.uniforms.diffuse.value = value\n        },\n      },\n\n      worldUnits: {\n        enumerable: true,\n\n        get: function () {\n          return 'WORLD_UNITS' in this.defines\n        },\n\n        set: function (value) {\n          if (value === true) {\n            this.defines.WORLD_UNITS = ''\n          } else {\n            delete this.defines.WORLD_UNITS\n          }\n        },\n      },\n\n      linewidth: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.linewidth.value\n        },\n\n        set: function (value) {\n          this.uniforms.linewidth.value = value\n        },\n      },\n\n      dashed: {\n        enumerable: true,\n\n        get: function () {\n          return Boolean('USE_DASH' in this.defines)\n        },\n\n        set(value) {\n          if (Boolean(value) !== Boolean('USE_DASH' in this.defines)) {\n            this.needsUpdate = true\n          }\n\n          if (value === true) {\n            this.defines.USE_DASH = ''\n          } else {\n            delete this.defines.USE_DASH\n          }\n        },\n      },\n\n      dashScale: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.dashScale.value\n        },\n\n        set: function (value) {\n          this.uniforms.dashScale.value = value\n        },\n      },\n\n      dashSize: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.dashSize.value\n        },\n\n        set: function (value) {\n          this.uniforms.dashSize.value = value\n        },\n      },\n\n      dashOffset: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.dashOffset.value\n        },\n\n        set: function (value) {\n          this.uniforms.dashOffset.value = value\n        },\n      },\n\n      gapSize: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.gapSize.value\n        },\n\n        set: function (value) {\n          this.uniforms.gapSize.value = value\n        },\n      },\n\n      opacity: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.opacity.value\n        },\n\n        set: function (value) {\n          this.uniforms.opacity.value = value\n        },\n      },\n\n      resolution: {\n        enumerable: true,\n\n        get: function () {\n          return this.uniforms.resolution.value\n        },\n\n        set: function (value) {\n          this.uniforms.resolution.value.copy(value)\n        },\n      },\n\n      alphaToCoverage: {\n        enumerable: true,\n\n        get: function () {\n          return Boolean('USE_ALPHA_TO_COVERAGE' in this.defines)\n        },\n\n        set: function (value) {\n          if (Boolean(value) !== Boolean('USE_ALPHA_TO_COVERAGE' in this.defines)) {\n            this.needsUpdate = true\n          }\n\n          if (value === true) {\n            this.defines.USE_ALPHA_TO_COVERAGE = ''\n            this.extensions.derivatives = true\n          } else {\n            delete this.defines.USE_ALPHA_TO_COVERAGE\n            this.extensions.derivatives = false\n          }\n        },\n      },\n    })\n\n    this.setValues(parameters)\n  }\n}\n\nexport { LineMaterial }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5792, "column": 0}, "map": {"version":3,"file":"uv1.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/uv1.ts"],"sourcesContent":["import { version } from \"./constants\";\n\n/** uv2 renamed to uv1 in r125\n * \n * https://github.com/mrdoob/three.js/pull/25943\n*/\nexport const UV1 = version >= 125 ? 'uv1' : 'uv2'"],"names":[],"mappings":";;;;;AAMa,MAAA,gKAAM,UAAA,IAAW,MAAM,QAAQ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5806, "column": 0}, "map": {"version":3,"file":"LineSegments2.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/lines/LineSegments2.js"],"sourcesContent":["import {\n  Box3,\n  InstancedInterleavedBuffer,\n  InterleavedBufferAttribute,\n  Line3,\n  MathUtils,\n  Matrix4,\n  Mesh,\n  Sphere,\n  Vector3,\n  Vector4,\n} from 'three'\nimport { LineSegmentsGeometry } from '../lines/LineSegmentsGeometry'\nimport { LineMaterial } from '../lines/LineMaterial'\nimport { UV1 } from '../_polyfill/uv1'\n\nconst _viewport = /* @__PURE__ */ new Vector4()\n\nconst _start = /* @__PURE__ */ new Vector3()\nconst _end = /* @__PURE__ */ new Vector3()\n\nconst _start4 = /* @__PURE__ */ new Vector4()\nconst _end4 = /* @__PURE__ */ new Vector4()\n\nconst _ssOrigin = /* @__PURE__ */ new Vector4()\nconst _ssOrigin3 = /* @__PURE__ */ new Vector3()\nconst _mvMatrix = /* @__PURE__ */ new Matrix4()\nconst _line = /* @__PURE__ */ new Line3()\nconst _closestPoint = /* @__PURE__ */ new Vector3()\n\nconst _box = /* @__PURE__ */ new Box3()\nconst _sphere = /* @__PURE__ */ new Sphere()\nconst _clipToWorldVector = /* @__PURE__ */ new Vector4()\n\nlet _ray, _lineWidth\n\n// Returns the margin required to expand by in world space given the distance from the camera,\n// line width, resolution, and camera projection\nfunction getWorldSpaceHalfWidth(camera, distance, resolution) {\n  // transform into clip space, adjust the x and y values by the pixel width offset, then\n  // transform back into world space to get world offset. Note clip space is [-1, 1] so full\n  // width does not need to be halved.\n  _clipToWorldVector.set(0, 0, -distance, 1.0).applyMatrix4(camera.projectionMatrix)\n  _clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w)\n  _clipToWorldVector.x = _lineWidth / resolution.width\n  _clipToWorldVector.y = _lineWidth / resolution.height\n  _clipToWorldVector.applyMatrix4(camera.projectionMatrixInverse)\n  _clipToWorldVector.multiplyScalar(1.0 / _clipToWorldVector.w)\n\n  return Math.abs(Math.max(_clipToWorldVector.x, _clipToWorldVector.y))\n}\n\nfunction raycastWorldUnits(lineSegments, intersects) {\n  const matrixWorld = lineSegments.matrixWorld\n  const geometry = lineSegments.geometry\n  const instanceStart = geometry.attributes.instanceStart\n  const instanceEnd = geometry.attributes.instanceEnd\n  const segmentCount = Math.min(geometry.instanceCount, instanceStart.count)\n\n  for (let i = 0, l = segmentCount; i < l; i++) {\n    _line.start.fromBufferAttribute(instanceStart, i)\n    _line.end.fromBufferAttribute(instanceEnd, i)\n\n    _line.applyMatrix4(matrixWorld)\n\n    const pointOnLine = new Vector3()\n    const point = new Vector3()\n\n    _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine)\n    const isInside = point.distanceTo(pointOnLine) < _lineWidth * 0.5\n\n    if (isInside) {\n      intersects.push({\n        point,\n        pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        [UV1]: null,\n      })\n    }\n  }\n}\n\nfunction raycastScreenSpace(lineSegments, camera, intersects) {\n  const projectionMatrix = camera.projectionMatrix\n  const material = lineSegments.material\n  const resolution = material.resolution\n  const matrixWorld = lineSegments.matrixWorld\n\n  const geometry = lineSegments.geometry\n  const instanceStart = geometry.attributes.instanceStart\n  const instanceEnd = geometry.attributes.instanceEnd\n  const segmentCount = Math.min(geometry.instanceCount, instanceStart.count)\n\n  const near = -camera.near\n\n  //\n\n  // pick a point 1 unit out along the ray to avoid the ray origin\n  // sitting at the camera origin which will cause \"w\" to be 0 when\n  // applying the projection matrix.\n  _ray.at(1, _ssOrigin)\n\n  // ndc space [ - 1.0, 1.0 ]\n  _ssOrigin.w = 1\n  _ssOrigin.applyMatrix4(camera.matrixWorldInverse)\n  _ssOrigin.applyMatrix4(projectionMatrix)\n  _ssOrigin.multiplyScalar(1 / _ssOrigin.w)\n\n  // screen space\n  _ssOrigin.x *= resolution.x / 2\n  _ssOrigin.y *= resolution.y / 2\n  _ssOrigin.z = 0\n\n  _ssOrigin3.copy(_ssOrigin)\n\n  _mvMatrix.multiplyMatrices(camera.matrixWorldInverse, matrixWorld)\n\n  for (let i = 0, l = segmentCount; i < l; i++) {\n    _start4.fromBufferAttribute(instanceStart, i)\n    _end4.fromBufferAttribute(instanceEnd, i)\n\n    _start4.w = 1\n    _end4.w = 1\n\n    // camera space\n    _start4.applyMatrix4(_mvMatrix)\n    _end4.applyMatrix4(_mvMatrix)\n\n    // skip the segment if it's entirely behind the camera\n    const isBehindCameraNear = _start4.z > near && _end4.z > near\n    if (isBehindCameraNear) {\n      continue\n    }\n\n    // trim the segment if it extends behind camera near\n    if (_start4.z > near) {\n      const deltaDist = _start4.z - _end4.z\n      const t = (_start4.z - near) / deltaDist\n      _start4.lerp(_end4, t)\n    } else if (_end4.z > near) {\n      const deltaDist = _end4.z - _start4.z\n      const t = (_end4.z - near) / deltaDist\n      _end4.lerp(_start4, t)\n    }\n\n    // clip space\n    _start4.applyMatrix4(projectionMatrix)\n    _end4.applyMatrix4(projectionMatrix)\n\n    // ndc space [ - 1.0, 1.0 ]\n    _start4.multiplyScalar(1 / _start4.w)\n    _end4.multiplyScalar(1 / _end4.w)\n\n    // screen space\n    _start4.x *= resolution.x / 2\n    _start4.y *= resolution.y / 2\n\n    _end4.x *= resolution.x / 2\n    _end4.y *= resolution.y / 2\n\n    // create 2d segment\n    _line.start.copy(_start4)\n    _line.start.z = 0\n\n    _line.end.copy(_end4)\n    _line.end.z = 0\n\n    // get closest point on ray to segment\n    const param = _line.closestPointToPointParameter(_ssOrigin3, true)\n    _line.at(param, _closestPoint)\n\n    // check if the intersection point is within clip space\n    const zPos = MathUtils.lerp(_start4.z, _end4.z, param)\n    const isInClipSpace = zPos >= -1 && zPos <= 1\n\n    const isInside = _ssOrigin3.distanceTo(_closestPoint) < _lineWidth * 0.5\n\n    if (isInClipSpace && isInside) {\n      _line.start.fromBufferAttribute(instanceStart, i)\n      _line.end.fromBufferAttribute(instanceEnd, i)\n\n      _line.start.applyMatrix4(matrixWorld)\n      _line.end.applyMatrix4(matrixWorld)\n\n      const pointOnLine = new Vector3()\n      const point = new Vector3()\n\n      _ray.distanceSqToSegment(_line.start, _line.end, point, pointOnLine)\n\n      intersects.push({\n        point: point,\n        pointOnLine: pointOnLine,\n        distance: _ray.origin.distanceTo(point),\n        object: lineSegments,\n        face: null,\n        faceIndex: i,\n        uv: null,\n        [UV1]: null,\n      })\n    }\n  }\n}\n\nclass LineSegments2 extends Mesh {\n  constructor(geometry = new LineSegmentsGeometry(), material = new LineMaterial({ color: Math.random() * 0xffffff })) {\n    super(geometry, material)\n\n    this.isLineSegments2 = true\n\n    this.type = 'LineSegments2'\n  }\n\n  // for backwards-compatibility, but could be a method of LineSegmentsGeometry...\n\n  computeLineDistances() {\n    const geometry = this.geometry\n\n    const instanceStart = geometry.attributes.instanceStart\n    const instanceEnd = geometry.attributes.instanceEnd\n    const lineDistances = new Float32Array(2 * instanceStart.count)\n\n    for (let i = 0, j = 0, l = instanceStart.count; i < l; i++, j += 2) {\n      _start.fromBufferAttribute(instanceStart, i)\n      _end.fromBufferAttribute(instanceEnd, i)\n\n      lineDistances[j] = j === 0 ? 0 : lineDistances[j - 1]\n      lineDistances[j + 1] = lineDistances[j] + _start.distanceTo(_end)\n    }\n\n    const instanceDistanceBuffer = new InstancedInterleavedBuffer(lineDistances, 2, 1) // d0, d1\n\n    geometry.setAttribute('instanceDistanceStart', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 0)) // d0\n    geometry.setAttribute('instanceDistanceEnd', new InterleavedBufferAttribute(instanceDistanceBuffer, 1, 1)) // d1\n\n    return this\n  }\n\n  raycast(raycaster, intersects) {\n    const worldUnits = this.material.worldUnits\n    const camera = raycaster.camera\n\n    if (camera === null && !worldUnits) {\n      console.error(\n        'LineSegments2: \"Raycaster.camera\" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.',\n      )\n    }\n\n    const threshold = raycaster.params.Line2 !== undefined ? raycaster.params.Line2.threshold || 0 : 0\n\n    _ray = raycaster.ray\n\n    const matrixWorld = this.matrixWorld\n    const geometry = this.geometry\n    const material = this.material\n\n    _lineWidth = material.linewidth + threshold\n\n    // check if we intersect the sphere bounds\n    if (geometry.boundingSphere === null) {\n      geometry.computeBoundingSphere()\n    }\n\n    _sphere.copy(geometry.boundingSphere).applyMatrix4(matrixWorld)\n\n    // increase the sphere bounds by the worst case line screen space width\n    let sphereMargin\n    if (worldUnits) {\n      sphereMargin = _lineWidth * 0.5\n    } else {\n      const distanceToSphere = Math.max(camera.near, _sphere.distanceToPoint(_ray.origin))\n      sphereMargin = getWorldSpaceHalfWidth(camera, distanceToSphere, material.resolution)\n    }\n\n    _sphere.radius += sphereMargin\n\n    if (_ray.intersectsSphere(_sphere) === false) {\n      return\n    }\n\n    // check if we intersect the box bounds\n    if (geometry.boundingBox === null) {\n      geometry.computeBoundingBox()\n    }\n\n    _box.copy(geometry.boundingBox).applyMatrix4(matrixWorld)\n\n    // increase the box bounds by the worst case line width\n    let boxMargin\n    if (worldUnits) {\n      boxMargin = _lineWidth * 0.5\n    } else {\n      const distanceToBox = Math.max(camera.near, _box.distanceToPoint(_ray.origin))\n      boxMargin = getWorldSpaceHalfWidth(camera, distanceToBox, material.resolution)\n    }\n\n    _box.expandByScalar(boxMargin)\n\n    if (_ray.intersectsBox(_box) === false) {\n      return\n    }\n\n    if (worldUnits) {\n      raycastWorldUnits(this, intersects)\n    } else {\n      raycastScreenSpace(this, camera, intersects)\n    }\n  }\n\n  onBeforeRender(renderer) {\n    const uniforms = this.material.uniforms\n\n    if (uniforms && uniforms.resolution) {\n      renderer.getViewport(_viewport)\n      this.material.uniforms.resolution.value.set(_viewport.z, _viewport.w)\n    }\n  }\n}\n\nexport { LineSegments2 }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6035, "column": 0}, "map": {"version":3,"file":"LineGeometry.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/lines/LineGeometry.js"],"sourcesContent":["import { LineSegmentsGeometry } from '../lines/LineSegmentsGeometry'\n\nclass LineGeometry extends LineSegmentsGeometry {\n  constructor() {\n    super()\n\n    this.isLineGeometry = true\n\n    this.type = 'LineGeometry'\n  }\n\n  setPositions(array) {\n    // converts [ x1, y1, z1,  x2, y2, z2, ... ] to pairs format\n\n    const length = array.length - 3\n    const points = new Float32Array(2 * length)\n\n    for (let i = 0; i < length; i += 3) {\n      points[2 * i] = array[i]\n      points[2 * i + 1] = array[i + 1]\n      points[2 * i + 2] = array[i + 2]\n\n      points[2 * i + 3] = array[i + 3]\n      points[2 * i + 4] = array[i + 4]\n      points[2 * i + 5] = array[i + 5]\n    }\n\n    super.setPositions(points)\n\n    return this\n  }\n\n  setColors(array, itemSize = 3) {\n    // converts [ r1, g1, b1, (a1),  r2, g2, b2, (a2), ... ] to pairs format\n\n    const length = array.length - itemSize\n    const colors = new Float32Array(2 * length)\n\n    if (itemSize === 3) {\n      for (let i = 0; i < length; i += itemSize) {\n        colors[2 * i] = array[i]\n        colors[2 * i + 1] = array[i + 1]\n        colors[2 * i + 2] = array[i + 2]\n\n        colors[2 * i + 3] = array[i + 3]\n        colors[2 * i + 4] = array[i + 4]\n        colors[2 * i + 5] = array[i + 5]\n      }\n    } else {\n      for (let i = 0; i < length; i += itemSize) {\n        colors[2 * i] = array[i]\n        colors[2 * i + 1] = array[i + 1]\n        colors[2 * i + 2] = array[i + 2]\n        colors[2 * i + 3] = array[i + 3]\n\n        colors[2 * i + 4] = array[i + 4]\n        colors[2 * i + 5] = array[i + 5]\n        colors[2 * i + 6] = array[i + 6]\n        colors[2 * i + 7] = array[i + 7]\n      }\n    }\n\n    super.setColors(colors, itemSize)\n\n    return this\n  }\n\n  fromLine(line) {\n    const geometry = line.geometry\n\n    this.setPositions(geometry.attributes.position.array) // assumes non-indexed\n\n    // set colors, maybe\n\n    return this\n  }\n}\n\nexport { LineGeometry }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6101, "column": 0}, "map": {"version":3,"file":"Line2.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/lines/Line2.js"],"sourcesContent":["import { LineSegments2 } from '../lines/LineSegments2'\nimport { LineGeometry } from '../lines/LineGeometry'\nimport { LineMaterial } from '../lines/LineMaterial'\n\nclass Line2 extends LineSegments2 {\n  constructor(geometry = new LineGeometry(), material = new LineMaterial({ color: Math.random() * 0xffffff })) {\n    super(geometry, material)\n\n    this.isLine2 = true\n\n    this.type = 'Line2'\n  }\n}\n\nexport { Line2 }\n"],"names":[],"mappings":";;;;;;;;;AAIA,MAAM,wKAAc,gBAAA,CAAc;IAChC,YAAY,WAAW,6JAAI,eAAA,CAAc,CAAA,EAAE,WAAW,6JAAI,eAAA,CAAa;QAAE,OAAO,KAAK,MAAA,KAAW;IAAU,CAAA,CAAA,CAAG;QAC3G,KAAA,CAAM,UAAU,QAAQ;QAExB,IAAA,CAAK,OAAA,GAAU;QAEf,IAAA,CAAK,IAAA,GAAO;IACb;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6127, "column": 0}, "map": {"version":3,"file":"TextGeometry.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/geometries/TextGeometry.ts"],"sourcesContent":["import { ExtrudeGeometry } from 'three'\n\nimport type { Font } from '../loaders/FontLoader'\n\nexport type TextGeometryParameters = {\n  bevelEnabled?: boolean\n  bevelOffset?: number\n  bevelSize?: number\n  bevelThickness?: number\n  curveSegments?: number\n  font: Font\n  height?: number\n  size?: number\n  lineHeight?: number\n  letterSpacing?: number\n}\n\nexport class TextGeometry extends ExtrudeGeometry {\n  constructor(text: string, parameters: TextGeometryParameters = {} as TextGeometryParameters) {\n    const {\n      bevelEnabled = false,\n      bevelSize = 8,\n      bevelThickness = 10,\n      font,\n      height = 50,\n      size = 100,\n      lineHeight = 1,\n      letterSpacing = 0,\n      ...rest\n    } = parameters\n\n    if (font === undefined) {\n      // @ts-ignore\n      super() // generate default extrude geometry\n    } else {\n      const shapes = font.generateShapes(text, size, { lineHeight, letterSpacing })\n      super(shapes, { ...rest, bevelEnabled, bevelSize, bevelThickness, depth: height })\n    }\n    // @ts-ignore\n    this.type = 'TextGeometry'\n  }\n}\n\nexport { TextGeometry as TextBufferGeometry }\n"],"names":[],"mappings":";;;;;;AAiBO,MAAM,qKAAqB,kBAAA,CAAgB;IAChD,YAAY,IAAA,EAAc,aAAqC,CAAA,CAAA,CAA8B;QACrF,MAAA,EACJ,eAAe,KAAA,EACf,YAAY,CAAA,EACZ,iBAAiB,EAAA,EACjB,IAAA,EACA,SAAS,EAAA,EACT,OAAO,GAAA,EACP,aAAa,CAAA,EACb,gBAAgB,CAAA,EAChB,GAAG,MACD,GAAA;QAEJ,IAAI,SAAS,KAAA,GAAW;YAEhB,KAAA;QAAA,OACD;YACC,MAAA,SAAS,KAAK,cAAA,CAAe,MAAM,MAAM;gBAAE;gBAAY;YAAA,CAAe;YACtE,KAAA,CAAA,QAAQ;gBAAE,GAAG,IAAA;gBAAM;gBAAc;gBAAW;gBAAgB,OAAO;YAAA,CAAQ;QACnF;QAEA,IAAA,CAAK,IAAA,GAAO;IACd;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6162, "column": 0}, "map": {"version":3,"file":"FontLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/FontLoader.ts"],"sourcesContent":["import { Loader, FileLoader, ShapePath } from 'three'\n\nimport type { LoadingManager, Shape } from 'three'\n\ntype Options = {\n  lineHeight: number\n  letterSpacing: number\n}\n\nexport class FontLoader extends Loader {\n  constructor(manager?: LoadingManager) {\n    super(manager)\n  }\n\n  public load(\n    url: string,\n    onLoad?: (responseFont: Font) => void,\n    onProgress?: (event: ProgressEvent) => void,\n    onError?: (event: ErrorEvent) => void,\n  ): void {\n    const loader = new FileLoader(this.manager)\n\n    loader.setPath(this.path)\n    loader.setRequestHeader(this.requestHeader)\n    loader.setWithCredentials(this.withCredentials)\n\n    loader.load(\n      url,\n      (response) => {\n        if (typeof response !== 'string') throw new Error('unsupported data type')\n\n        const json = JSON.parse(response)\n\n        const font = this.parse(json)\n\n        if (onLoad) onLoad(font)\n      },\n      onProgress,\n      onError as (event: unknown) => void,\n    )\n  }\n\n  loadAsync(url: string, onProgress?: (event: ProgressEvent) => void): Promise<Font> {\n    // @ts-ignore\n    return super.loadAsync(url, onProgress)\n  }\n\n  public parse(json: FontData): Font {\n    return new Font(json)\n  }\n}\n\ntype Glyph = {\n  _cachedOutline: string[]\n  ha: number\n  o: string\n}\n\ntype FontData = {\n  boundingBox: { yMax: number; yMin: number }\n  familyName: string\n  glyphs: { [k: string]: Glyph }\n  resolution: number\n  underlineThickness: number\n}\n\nexport class Font {\n  public data: FontData\n  public isFont = true\n  public type = 'Font'\n\n  constructor(data: FontData) {\n    this.data = data\n  }\n\n  public generateShapes(text: string, size = 100, _options?: Partial<Options>): Shape[] {\n    const shapes: Shape[] = []\n    const options = { letterSpacing: 0, lineHeight: 1, ..._options }\n    const paths = createPaths(text, size, this.data, options)\n    for (let p = 0, pl = paths.length; p < pl; p++) {\n      Array.prototype.push.apply(shapes, paths[p].toShapes(false))\n    }\n    return shapes\n  }\n}\n\nfunction createPaths(text: string, size: number, data: FontData, options: Options): ShapePath[] {\n  const chars = Array.from(text)\n  const scale = size / data.resolution\n  const line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale\n\n  const paths: ShapePath[] = []\n\n  let offsetX = 0,\n    offsetY = 0\n\n  for (let i = 0; i < chars.length; i++) {\n    const char = chars[i]\n\n    if (char === '\\n') {\n      offsetX = 0\n      offsetY -= line_height * options.lineHeight\n    } else {\n      const ret = createPath(char, scale, offsetX, offsetY, data)\n      if (ret) {\n        offsetX += ret.offsetX + options.letterSpacing\n        paths.push(ret.path)\n      }\n    }\n  }\n\n  return paths\n}\n\nfunction createPath(\n  char: string,\n  scale: number,\n  offsetX: number,\n  offsetY: number,\n  data: FontData,\n): { offsetX: number; path: ShapePath } | undefined {\n  const glyph = data.glyphs[char] || data.glyphs['?']\n\n  if (!glyph) {\n    console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.')\n    return\n  }\n\n  const path = new ShapePath()\n\n  let x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2\n\n  if (glyph.o) {\n    const outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '))\n\n    for (let i = 0, l = outline.length; i < l; ) {\n      const action = outline[i++]\n\n      switch (action) {\n        case 'm': // moveTo\n          x = parseInt(outline[i++]) * scale + offsetX\n          y = parseInt(outline[i++]) * scale + offsetY\n\n          path.moveTo(x, y)\n\n          break\n\n        case 'l': // lineTo\n          x = parseInt(outline[i++]) * scale + offsetX\n          y = parseInt(outline[i++]) * scale + offsetY\n\n          path.lineTo(x, y)\n\n          break\n\n        case 'q': // quadraticCurveTo\n          cpx = parseInt(outline[i++]) * scale + offsetX\n          cpy = parseInt(outline[i++]) * scale + offsetY\n          cpx1 = parseInt(outline[i++]) * scale + offsetX\n          cpy1 = parseInt(outline[i++]) * scale + offsetY\n\n          path.quadraticCurveTo(cpx1, cpy1, cpx, cpy)\n\n          break\n\n        case 'b': // bezierCurveTo\n          cpx = parseInt(outline[i++]) * scale + offsetX\n          cpy = parseInt(outline[i++]) * scale + offsetY\n          cpx1 = parseInt(outline[i++]) * scale + offsetX\n          cpy1 = parseInt(outline[i++]) * scale + offsetY\n          cpx2 = parseInt(outline[i++]) * scale + offsetX\n          cpy2 = parseInt(outline[i++]) * scale + offsetY\n\n          path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy)\n\n          break\n      }\n    }\n  }\n\n  return { offsetX: glyph.ha * scale, path }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6299, "column": 0}, "map": {"version":3,"file":"CopyShader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/shaders/CopyShader.ts"],"sourcesContent":["/**\n * Full-screen textured quad shader\n */\n\nimport type { IUniform, Texture } from 'three'\nimport type { IShader } from './types'\n\nexport type CopyShaderUniforms = {\n  opacity: IUniform<number>\n  tDiffuse: IUniform<Texture | null>\n}\n\nexport interface ICopyShader extends IShader<CopyShaderUniforms> {}\n\nexport const CopyShader: ICopyShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    opacity: { value: 1.0 },\n  },\n\n  vertexShader: /* glsl */ `\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `,\n\n  fragmentShader: /* glsl */ `\n    uniform float opacity;\n\n    uniform sampler2D tDiffuse;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 texel = texture2D( tDiffuse, vUv );\n    \tgl_FragColor = opacity * texel;\n\n    }\n  `,\n}\n"],"names":[],"mappings":";;;AAcO,MAAM,aAA0B;IACrC,UAAU;QACR,UAAU;YAAE,OAAO;QAAK;QACxB,SAAS;YAAE,OAAO;QAAI;IACxB;IAEA,cAAA,QAAA,GAAyB,CAAA;;;;;;;;;EAAA,CAAA;IAWzB,gBAAA,QAAA,GAA2B,CAAA;;;;;;;;;;;;;EAAA,CAAA;AAc7B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6344, "column": 0}, "map": {"version":3,"file":"Pass.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/postprocessing/Pass.ts"],"sourcesContent":["import { OrthographicCamera, PlaneGeometry, Mesh, Material, WebGLRenderer, WebGLRenderTarget } from 'three'\n\nclass Pass {\n  // if set to true, the pass is processed by the composer\n  public enabled = true\n\n  // if set to true, the pass indicates to swap read and write buffer after rendering\n  public needsSwap = true\n\n  // if set to true, the pass clears its buffer before rendering\n  public clear = false\n\n  // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n  public renderToScreen = false\n\n  public setSize(width: number, height: number): void {}\n\n  public render(\n    renderer: WebGLRenderer,\n    writeBuffer: WebGLRenderTarget,\n    readBuffer: WebGLRenderTarget,\n    deltaTime: number,\n    maskActive?: unknown,\n  ): void {\n    console.error('THREE.Pass: .render() must be implemented in derived pass.')\n  }\n\n  public dispose() {}\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\nclass FullScreenQuad<TMaterial extends Material = Material> {\n  public camera = new OrthographicCamera(-1, 1, 1, -1, 0, 1)\n  public geometry = new PlaneGeometry(2, 2)\n  private mesh: Mesh<PlaneGeometry, TMaterial>\n\n  constructor(material: TMaterial) {\n    this.mesh = new Mesh(this.geometry, material)\n  }\n\n  public get material(): TMaterial {\n    return this.mesh.material\n  }\n\n  public set material(value: TMaterial) {\n    this.mesh.material = value\n  }\n\n  public dispose(): void {\n    this.mesh.geometry.dispose()\n  }\n\n  public render(renderer: WebGLRenderer): void {\n    renderer.render(this.mesh, this.camera)\n  }\n}\n\nexport { Pass, FullScreenQuad }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA,MAAM,KAAK;IAAX,aAAA;QAES,wDAAA;QAAA,cAAA,IAAA,EAAA,WAAU;QAGV,mFAAA;QAAA,cAAA,IAAA,EAAA,aAAY;QAGZ,8DAAA;QAAA,cAAA,IAAA,EAAA,SAAQ;QAGR,6GAAA;QAAA,cAAA,IAAA,EAAA,kBAAiB;IAAA;IAEjB,QAAQ,KAAA,EAAe,MAAA,EAAsB,CAAC;IAE9C,OACL,QAAA,EACA,WAAA,EACA,UAAA,EACA,SAAA,EACA,UAAA,EACM;QACN,QAAQ,KAAA,CAAM,4DAA4D;IAC5E;IAEO,UAAU,CAAC;AACpB;AAGA,MAAM,eAAsD;IAK1D,YAAY,QAAA,CAAqB;QAJ1B,cAAA,IAAA,EAAA,UAAS,IAAI,qKAAA,CAAmB,CAAA,GAAI,GAAG,GAAG,CAAA,GAAI,GAAG,CAAC;QAClD,cAAA,IAAA,EAAA,YAAW,oJAAI,gBAAA,CAAc,GAAG,CAAC;QAChC,cAAA,IAAA,EAAA;QAGN,IAAA,CAAK,IAAA,GAAO,oJAAI,OAAA,CAAK,IAAA,CAAK,QAAA,EAAU,QAAQ;IAC9C;IAEA,IAAW,WAAsB;QAC/B,OAAO,IAAA,CAAK,IAAA,CAAK,QAAA;IACnB;IAEA,IAAW,SAAS,KAAA,EAAkB;QACpC,IAAA,CAAK,IAAA,CAAK,QAAA,GAAW;IACvB;IAEO,UAAgB;QAChB,IAAA,CAAA,IAAA,CAAK,QAAA,CAAS,OAAA;IACrB;IAEO,OAAO,QAAA,EAA+B;QAC3C,SAAS,MAAA,CAAO,IAAA,CAAK,IAAA,EAAM,IAAA,CAAK,MAAM;IACxC;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6406, "column": 0}, "map": {"version":3,"file":"ShaderPass.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/postprocessing/ShaderPass.ts"],"sourcesContent":["import { ShaderMaterial, UniformsUtils, WebGLRenderer, WebGLRenderTarget } from 'three'\nimport { Pass, FullScreenQuad } from './Pass'\nimport { Defines, IShader, Uniforms } from '../shaders/types'\n\nclass ShaderPass extends Pass {\n  public textureID: string\n  public uniforms: Uniforms\n  public material: ShaderMaterial\n  public fsQuad: FullScreenQuad\n\n  constructor(shader: ShaderMaterial | IShader<Uniforms, Defines | undefined>, textureID = 'tDiffuse') {\n    super()\n\n    this.textureID = textureID\n\n    if (shader instanceof ShaderMaterial) {\n      this.uniforms = shader.uniforms\n\n      this.material = shader\n    } else {\n      this.uniforms = UniformsUtils.clone(shader.uniforms)\n\n      this.material = new ShaderMaterial({\n        defines: Object.assign({}, shader.defines),\n        uniforms: this.uniforms,\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader,\n      })\n    }\n\n    this.fsQuad = new FullScreenQuad(this.material)\n  }\n\n  public render(\n    renderer: WebGLRenderer,\n    writeBuffer: WebGLRenderTarget,\n    readBuffer: WebGLRenderTarget /*, deltaTime, maskActive */,\n  ): void {\n    if (this.uniforms[this.textureID]) {\n      this.uniforms[this.textureID].value = readBuffer.texture\n    }\n\n    this.fsQuad.material = this.material\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null)\n      this.fsQuad.render(renderer)\n    } else {\n      renderer.setRenderTarget(writeBuffer)\n      // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n      if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil)\n      this.fsQuad.render(renderer)\n    }\n  }\n\n  public dispose() {\n    this.fsQuad.dispose()\n    this.material.dispose()\n  }\n}\n\nexport { ShaderPass }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAIA,MAAM,6KAAmB,OAAA,CAAK;IAM5B,YAAY,MAAA,EAAiE,YAAY,UAAA,CAAY;QAC7F,KAAA;QAND,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAKL,IAAA,CAAK,SAAA,GAAY;QAEjB,IAAI,kBAAkB,iKAAA,EAAgB;YACpC,IAAA,CAAK,QAAA,GAAW,OAAO,QAAA;YAEvB,IAAA,CAAK,QAAA,GAAW;QAAA,OACX;YACL,IAAA,CAAK,QAAA,mJAAW,gBAAA,CAAc,KAAA,CAAM,OAAO,QAAQ;YAE9C,IAAA,CAAA,QAAA,GAAW,oJAAI,iBAAA,CAAe;gBACjC,SAAS,OAAO,MAAA,CAAO,CAAA,GAAI,OAAO,OAAO;gBACzC,UAAU,IAAA,CAAK,QAAA;gBACf,cAAc,OAAO,YAAA;gBACrB,gBAAgB,OAAO,cAAA;YAAA,CACxB;QACH;QAEA,IAAA,CAAK,MAAA,GAAS,8JAAI,iBAAA,CAAe,IAAA,CAAK,QAAQ;IAChD;IAEO,OACL,QAAA,EACA,WAAA,EACA,UAAA,EACM;QACN,IAAI,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,SAAS,CAAA,EAAG;YACjC,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,SAAS,CAAA,CAAE,KAAA,GAAQ,WAAW,OAAA;QACnD;QAEK,IAAA,CAAA,MAAA,CAAO,QAAA,GAAW,IAAA,CAAK,QAAA;QAE5B,IAAI,IAAA,CAAK,cAAA,EAAgB;YACvB,SAAS,eAAA,CAAgB,IAAI;YACxB,IAAA,CAAA,MAAA,CAAO,MAAA,CAAO,QAAQ;QAAA,OACtB;YACL,SAAS,eAAA,CAAgB,WAAW;YAEpC,IAAI,IAAA,CAAK,KAAA,EAAO,SAAS,KAAA,CAAM,SAAS,cAAA,EAAgB,SAAS,cAAA,EAAgB,SAAS,gBAAgB;YACrG,IAAA,CAAA,MAAA,CAAO,MAAA,CAAO,QAAQ;QAC7B;IACF;IAEO,UAAU;QACf,IAAA,CAAK,MAAA,CAAO,OAAA;QACZ,IAAA,CAAK,QAAA,CAAS,OAAA;IAChB;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6473, "column": 0}, "map": {"version":3,"file":"MaskPass.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/postprocessing/MaskPass.ts"],"sourcesContent":["import { Camera, Scene, WebGLRenderer, WebGLRenderTarget } from 'three'\nimport { Pass } from './Pass'\n\nclass MaskPass extends Pass {\n  public scene: Scene\n  public camera: Camera\n  public inverse: boolean\n\n  constructor(scene: Scene, camera: Camera) {\n    super()\n\n    this.scene = scene\n    this.camera = camera\n\n    this.clear = true\n    this.needsSwap = false\n\n    this.inverse = false\n  }\n\n  public render(\n    renderer: WebGLRenderer,\n    writeBuffer: WebGLRenderTarget,\n    readBuffer: WebGLRenderTarget /*, deltaTime, maskActive */,\n  ): void {\n    const context = renderer.getContext()\n    const state = renderer.state\n\n    // don't update color or depth\n\n    state.buffers.color.setMask(false)\n    state.buffers.depth.setMask(false)\n\n    // lock buffers\n\n    state.buffers.color.setLocked(true)\n    state.buffers.depth.setLocked(true)\n\n    // set up stencil\n\n    let writeValue, clearValue\n\n    if (this.inverse) {\n      writeValue = 0\n      clearValue = 1\n    } else {\n      writeValue = 1\n      clearValue = 0\n    }\n\n    state.buffers.stencil.setTest(true)\n    state.buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE)\n    state.buffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff)\n    state.buffers.stencil.setClear(clearValue)\n    state.buffers.stencil.setLocked(true)\n\n    // draw into the stencil buffer\n\n    renderer.setRenderTarget(readBuffer)\n    if (this.clear) renderer.clear()\n    renderer.render(this.scene, this.camera)\n\n    renderer.setRenderTarget(writeBuffer)\n    if (this.clear) renderer.clear()\n    renderer.render(this.scene, this.camera)\n\n    // unlock color and depth buffer for subsequent rendering\n\n    state.buffers.color.setLocked(false)\n    state.buffers.depth.setLocked(false)\n\n    // only render where stencil is set to 1\n\n    state.buffers.stencil.setLocked(false)\n    state.buffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff) // draw if == 1\n    state.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP)\n    state.buffers.stencil.setLocked(true)\n  }\n}\n\nclass ClearMaskPass extends Pass {\n  constructor() {\n    super()\n    this.needsSwap = false\n  }\n\n  public render(renderer: WebGLRenderer /*, writeBuffer, readBuffer, deltaTime, maskActive */): void {\n    renderer.state.buffers.stencil.setLocked(false)\n    renderer.state.buffers.stencil.setTest(false)\n  }\n}\n\nexport { MaskPass, ClearMaskPass }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAGA,MAAM,2KAAiB,OAAA,CAAK;IAK1B,YAAY,KAAA,EAAc,MAAA,CAAgB;QAClC,KAAA;QALD,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAKL,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,MAAA,GAAS;QAEd,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,SAAA,GAAY;QAEjB,IAAA,CAAK,OAAA,GAAU;IACjB;IAEO,OACL,QAAA,EACA,WAAA,EACA,UAAA,EACM;QACA,MAAA,UAAU,SAAS,UAAA;QACzB,MAAM,QAAQ,SAAS,KAAA;QAIjB,MAAA,OAAA,CAAQ,KAAA,CAAM,OAAA,CAAQ,KAAK;QAC3B,MAAA,OAAA,CAAQ,KAAA,CAAM,OAAA,CAAQ,KAAK;QAI3B,MAAA,OAAA,CAAQ,KAAA,CAAM,SAAA,CAAU,IAAI;QAC5B,MAAA,OAAA,CAAQ,KAAA,CAAM,SAAA,CAAU,IAAI;QAIlC,IAAI,YAAY;QAEhB,IAAI,IAAA,CAAK,OAAA,EAAS;YACH,aAAA;YACA,aAAA;QAAA,OACR;YACQ,aAAA;YACA,aAAA;QACf;QAEM,MAAA,OAAA,CAAQ,OAAA,CAAQ,OAAA,CAAQ,IAAI;QAC5B,MAAA,OAAA,CAAQ,OAAA,CAAQ,KAAA,CAAM,QAAQ,OAAA,EAAS,QAAQ,OAAA,EAAS,QAAQ,OAAO;QAC7E,MAAM,OAAA,CAAQ,OAAA,CAAQ,OAAA,CAAQ,QAAQ,MAAA,EAAQ,YAAY,UAAU;QAC9D,MAAA,OAAA,CAAQ,OAAA,CAAQ,QAAA,CAAS,UAAU;QACnC,MAAA,OAAA,CAAQ,OAAA,CAAQ,SAAA,CAAU,IAAI;QAIpC,SAAS,eAAA,CAAgB,UAAU;QACnC,IAAI,IAAA,CAAK,KAAA,EAAO,SAAS,KAAA,CAAM;QAC/B,SAAS,MAAA,CAAO,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,MAAM;QAEvC,SAAS,eAAA,CAAgB,WAAW;QACpC,IAAI,IAAA,CAAK,KAAA,EAAO,SAAS,KAAA,CAAM;QAC/B,SAAS,MAAA,CAAO,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,MAAM;QAIjC,MAAA,OAAA,CAAQ,KAAA,CAAM,SAAA,CAAU,KAAK;QAC7B,MAAA,OAAA,CAAQ,KAAA,CAAM,SAAA,CAAU,KAAK;QAI7B,MAAA,OAAA,CAAQ,OAAA,CAAQ,SAAA,CAAU,KAAK;QACrC,MAAM,OAAA,CAAQ,OAAA,CAAQ,OAAA,CAAQ,QAAQ,KAAA,EAAO,GAAG,UAAU;QACpD,MAAA,OAAA,CAAQ,OAAA,CAAQ,KAAA,CAAM,QAAQ,IAAA,EAAM,QAAQ,IAAA,EAAM,QAAQ,IAAI;QAC9D,MAAA,OAAA,CAAQ,OAAA,CAAQ,SAAA,CAAU,IAAI;IACtC;AACF;AAEA,MAAM,gLAAsB,OAAA,CAAK;IAC/B,aAAc;QACN,KAAA;QACN,IAAA,CAAK,SAAA,GAAY;IACnB;IAEO,OAAO,QAAA,EAAqF;QACjG,SAAS,KAAA,CAAM,OAAA,CAAQ,OAAA,CAAQ,SAAA,CAAU,KAAK;QAC9C,SAAS,KAAA,CAAM,OAAA,CAAQ,OAAA,CAAQ,OAAA,CAAQ,KAAK;IAC9C;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6554, "column": 0}, "map": {"version":3,"file":"EffectComposer.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/postprocessing/EffectComposer.ts"],"sourcesContent":["import { Clock, LinearFilter, RGBAFormat, NoBlending, Vector2, WebGLRenderer, WebGLRenderTarget } from 'three'\nimport { CopyShader } from '../shaders/CopyShader'\nimport { ShaderPass } from './ShaderPass'\nimport { MaskPass, ClearMaskPass } from './MaskPass'\nimport { Pass } from './Pass'\n\nclass EffectComposer<TRenderTarget extends WebGLRenderTarget = WebGLRenderTarget> {\n  public renderer: WebGLRenderer\n  private _pixelRatio: number\n  private _width: number\n  private _height: number\n  public renderTarget1: WebGLRenderTarget\n  public renderTarget2: WebGLRenderTarget\n  public writeBuffer: WebGLRenderTarget\n  public readBuffer: WebGLRenderTarget\n  public renderToScreen: boolean\n  public passes: Pass[] = []\n  public copyPass: Pass\n  public clock: Clock\n\n  constructor(renderer: WebGLRenderer, renderTarget?: TRenderTarget) {\n    this.renderer = renderer\n\n    if (renderTarget === undefined) {\n      const parameters = {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n      }\n\n      const size = renderer.getSize(new Vector2())\n      this._pixelRatio = renderer.getPixelRatio()\n      this._width = size.width\n      this._height = size.height\n\n      renderTarget = new WebGLRenderTarget(\n        this._width * this._pixelRatio,\n        this._height * this._pixelRatio,\n        parameters,\n      ) as TRenderTarget\n      renderTarget.texture.name = 'EffectComposer.rt1'\n    } else {\n      this._pixelRatio = 1\n      this._width = renderTarget.width\n      this._height = renderTarget.height\n    }\n\n    this.renderTarget1 = renderTarget\n    this.renderTarget2 = renderTarget.clone()\n    this.renderTarget2.texture.name = 'EffectComposer.rt2'\n\n    this.writeBuffer = this.renderTarget1\n    this.readBuffer = this.renderTarget2\n\n    this.renderToScreen = true\n\n    // dependencies\n\n    if (CopyShader === undefined) {\n      console.error('THREE.EffectComposer relies on CopyShader')\n    }\n\n    if (ShaderPass === undefined) {\n      console.error('THREE.EffectComposer relies on ShaderPass')\n    }\n\n    this.copyPass = new ShaderPass(CopyShader)\n    // @ts-ignore\n    this.copyPass.material.blending = NoBlending\n\n    this.clock = new Clock()\n  }\n\n  public swapBuffers(): void {\n    const tmp = this.readBuffer\n    this.readBuffer = this.writeBuffer\n    this.writeBuffer = tmp\n  }\n\n  public addPass(pass: Pass): void {\n    this.passes.push(pass)\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)\n  }\n\n  public insertPass(pass: Pass, index: number): void {\n    this.passes.splice(index, 0, pass)\n    pass.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)\n  }\n\n  public removePass(pass: Pass): void {\n    const index = this.passes.indexOf(pass)\n\n    if (index !== -1) {\n      this.passes.splice(index, 1)\n    }\n  }\n\n  public isLastEnabledPass(passIndex: number): boolean {\n    for (let i = passIndex + 1; i < this.passes.length; i++) {\n      if (this.passes[i].enabled) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  public render(deltaTime?: number): void {\n    // deltaTime value is in seconds\n\n    if (deltaTime === undefined) {\n      deltaTime = this.clock.getDelta()\n    }\n\n    const currentRenderTarget = this.renderer.getRenderTarget()\n\n    let maskActive = false\n\n    const il = this.passes.length\n\n    for (let i = 0; i < il; i++) {\n      const pass = this.passes[i]\n\n      if (pass.enabled === false) continue\n\n      pass.renderToScreen = this.renderToScreen && this.isLastEnabledPass(i)\n      pass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive)\n\n      if (pass.needsSwap) {\n        if (maskActive) {\n          const context = this.renderer.getContext()\n          const stencil = this.renderer.state.buffers.stencil\n\n          //context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n          stencil.setFunc(context.NOTEQUAL, 1, 0xffffffff)\n\n          this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, deltaTime)\n\n          //context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n          stencil.setFunc(context.EQUAL, 1, 0xffffffff)\n        }\n\n        this.swapBuffers()\n      }\n\n      if (MaskPass !== undefined) {\n        if (pass instanceof MaskPass) {\n          maskActive = true\n        } else if (pass instanceof ClearMaskPass) {\n          maskActive = false\n        }\n      }\n    }\n\n    this.renderer.setRenderTarget(currentRenderTarget)\n  }\n\n  public reset(renderTarget: WebGLRenderTarget): void {\n    if (renderTarget === undefined) {\n      const size = this.renderer.getSize(new Vector2())\n      this._pixelRatio = this.renderer.getPixelRatio()\n      this._width = size.width\n      this._height = size.height\n\n      renderTarget = this.renderTarget1.clone()\n      renderTarget.setSize(this._width * this._pixelRatio, this._height * this._pixelRatio)\n    }\n\n    this.renderTarget1.dispose()\n    this.renderTarget2.dispose()\n    this.renderTarget1 = renderTarget\n    this.renderTarget2 = renderTarget.clone()\n\n    this.writeBuffer = this.renderTarget1\n    this.readBuffer = this.renderTarget2\n  }\n\n  public setSize(width: number, height: number): void {\n    this._width = width\n    this._height = height\n\n    const effectiveWidth = this._width * this._pixelRatio\n    const effectiveHeight = this._height * this._pixelRatio\n\n    this.renderTarget1.setSize(effectiveWidth, effectiveHeight)\n    this.renderTarget2.setSize(effectiveWidth, effectiveHeight)\n\n    for (let i = 0; i < this.passes.length; i++) {\n      this.passes[i].setSize(effectiveWidth, effectiveHeight)\n    }\n  }\n\n  public setPixelRatio(pixelRatio: number): void {\n    this._pixelRatio = pixelRatio\n\n    this.setSize(this._width, this._height)\n  }\n\n  public dispose() {\n    this.renderTarget1.dispose()\n    this.renderTarget2.dispose()\n\n    this.copyPass.dispose()\n  }\n}\n\nexport { EffectComposer }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6728, "column": 0}, "map": {"version":3,"file":"RenderPass.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/postprocessing/RenderPass.ts"],"sourcesContent":["import { Camera, Color, Material, Scene, WebGLRenderTarget, WebGLRenderer } from 'three'\nimport { Pass } from './Pass'\n\nclass RenderPass extends Pass {\n  public scene: Scene\n  public camera: Camera\n  public overrideMaterial: Material | undefined\n  public clearColor: Color | undefined\n  public clearAlpha: number\n  public clearDepth = false\n  private _oldClearColor = new Color()\n\n  constructor(scene: Scene, camera: Camera, overrideMaterial?: Material, clearColor?: Color, clearAlpha = 0) {\n    super()\n\n    this.scene = scene\n    this.camera = camera\n\n    this.overrideMaterial = overrideMaterial\n\n    this.clearColor = clearColor\n    this.clearAlpha = clearAlpha\n\n    this.clear = true\n    this.needsSwap = false\n  }\n\n  public render(\n    renderer: WebGLRenderer,\n    writeBuffer: WebGLRenderTarget,\n    readBuffer: WebGLRenderTarget /*, deltaTime, maskActive */,\n  ): void {\n    let oldAutoClear = renderer.autoClear\n    renderer.autoClear = false\n\n    let oldClearAlpha\n    let oldOverrideMaterial: Material | null = null\n\n    if (this.overrideMaterial !== undefined) {\n      oldOverrideMaterial = this.scene.overrideMaterial\n\n      this.scene.overrideMaterial = this.overrideMaterial\n    }\n\n    if (this.clearColor) {\n      renderer.getClearColor(this._oldClearColor)\n      oldClearAlpha = renderer.getClearAlpha()\n\n      renderer.setClearColor(this.clearColor, this.clearAlpha)\n    }\n\n    if (this.clearDepth) {\n      renderer.clearDepth()\n    }\n\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer)\n\n    // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n    if (this.clear) renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil)\n    renderer.render(this.scene, this.camera)\n\n    if (this.clearColor) {\n      renderer.setClearColor(this._oldClearColor, oldClearAlpha)\n    }\n\n    if (this.overrideMaterial !== undefined) {\n      this.scene.overrideMaterial = oldOverrideMaterial\n    }\n\n    renderer.autoClear = oldAutoClear\n  }\n}\n\nexport { RenderPass }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAGA,MAAM,mBAAmB,iKAAA,CAAK;IAS5B,YAAY,KAAA,EAAc,MAAA,EAAgB,gBAAA,EAA6B,UAAA,EAAoB,aAAa,CAAA,CAAG;QACnG,KAAA;QATD,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA,cAAa;QACZ,cAAA,IAAA,EAAA,kBAAiB,oJAAI,QAAA;QAK3B,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,MAAA,GAAS;QAEd,IAAA,CAAK,gBAAA,GAAmB;QAExB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,UAAA,GAAa;QAElB,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,SAAA,GAAY;IACnB;IAEO,OACL,QAAA,EACA,WAAA,EACA,UAAA,EACM;QACN,IAAI,eAAe,SAAS,SAAA;QAC5B,SAAS,SAAA,GAAY;QAEjB,IAAA;QACJ,IAAI,sBAAuC;QAEvC,IAAA,IAAA,CAAK,gBAAA,KAAqB,KAAA,GAAW;YACvC,sBAAsB,IAAA,CAAK,KAAA,CAAM,gBAAA;YAE5B,IAAA,CAAA,KAAA,CAAM,gBAAA,GAAmB,IAAA,CAAK,gBAAA;QACrC;QAEA,IAAI,IAAA,CAAK,UAAA,EAAY;YACV,SAAA,aAAA,CAAc,IAAA,CAAK,cAAc;YAC1C,gBAAgB,SAAS,aAAA;YAEzB,SAAS,aAAA,CAAc,IAAA,CAAK,UAAA,EAAY,IAAA,CAAK,UAAU;QACzD;QAEA,IAAI,IAAA,CAAK,UAAA,EAAY;YACnB,SAAS,UAAA,CAAW;QACtB;QAEA,SAAS,eAAA,CAAgB,IAAA,CAAK,cAAA,GAAiB,OAAO,UAAU;QAGhE,IAAI,IAAA,CAAK,KAAA,EAAO,SAAS,KAAA,CAAM,SAAS,cAAA,EAAgB,SAAS,cAAA,EAAgB,SAAS,gBAAgB;QAC1G,SAAS,MAAA,CAAO,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,MAAM;QAEvC,IAAI,IAAA,CAAK,UAAA,EAAY;YACV,SAAA,aAAA,CAAc,IAAA,CAAK,cAAA,EAAgB,aAAa;QAC3D;QAEI,IAAA,IAAA,CAAK,gBAAA,KAAqB,KAAA,GAAW;YACvC,IAAA,CAAK,KAAA,CAAM,gBAAA,GAAmB;QAChC;QAEA,SAAS,SAAA,GAAY;IACvB;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6801, "column": 0}, "map": {"version":3,"file":"GammaCorrectionShader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/shaders/GammaCorrectionShader.ts"],"sourcesContent":["/**\n * Gamma Correction Shader\n * http://en.wikipedia.org/wiki/gamma_correction\n */\n\nimport type { IUniform, Texture } from 'three'\nimport type { IShader } from './types'\n\nexport type GammaCorrectionShaderUniforms = {\n  tDiffuse: IUniform<Texture | null>\n}\n\nexport interface IGammaCorrectionShader extends IShader<GammaCorrectionShaderUniforms> {}\n\nexport const GammaCorrectionShader: IGammaCorrectionShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n  },\n\n  vertexShader: /* glsl */ `\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvUv = uv;\n    \tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `,\n\n  fragmentShader: /* glsl */ `\n    uniform sampler2D tDiffuse;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 tex = texture2D( tDiffuse, vUv );\n\n    \t#ifdef LinearTosRGB\n    \t\tgl_FragColor = LinearTosRGB( tex );\n    \t#else\n    \t\tgl_FragColor = sRGBTransferOETF( tex );\n    \t#endif\n\n    }\n  `,\n}\n"],"names":[],"mappings":";;;AAcO,MAAM,wBAAgD;IAC3D,UAAU;QACR,UAAU;YAAE,OAAO;QAAK;IAC1B;IAEA,cAAA,QAAA,GAAyB,CAAA;;;;;;;;;EAAA,CAAA;IAWzB,gBAAA,QAAA,GAA2B,CAAA;;;;;;;;;;;;;;;;EAAA,CAAA;AAiB7B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6846, "column": 0}, "map": {"version":3,"file":"MeshSurfaceSampler.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/math/MeshSurfaceSampler.js"],"sourcesContent":["import { Triangle, Vector3 } from 'three'\n\n/**\n * Utility class for sampling weighted random points on the surface of a mesh.\n *\n * Building the sampler is a one-time O(n) operation. Once built, any number of\n * random samples may be selected in O(logn) time. Memory usage is O(n).\n *\n * References:\n * - http://www.joesfer.com/?p=84\n * - https://stackoverflow.com/a/4322940/1314762\n */\n\nconst _face = /* @__PURE__ */ new Triangle()\nconst _color = /* @__PURE__ */ new Vector3()\n\nclass MeshSurfaceSampler {\n  constructor(mesh) {\n    let geometry = mesh.geometry\n\n    if (geometry.index) {\n      console.warn('THREE.MeshSurfaceSampler: Converting geometry to non-indexed BufferGeometry.')\n\n      geometry = geometry.toNonIndexed()\n    }\n\n    this.geometry = geometry\n    this.randomFunction = Math.random\n\n    this.positionAttribute = this.geometry.getAttribute('position')\n    this.colorAttribute = this.geometry.getAttribute('color')\n    this.weightAttribute = null\n\n    this.distribution = null\n  }\n\n  setWeightAttribute(name) {\n    this.weightAttribute = name ? this.geometry.getAttribute(name) : null\n\n    return this\n  }\n\n  build() {\n    const positionAttribute = this.positionAttribute\n    const weightAttribute = this.weightAttribute\n\n    const faceWeights = new Float32Array(positionAttribute.count / 3)\n\n    // Accumulate weights for each mesh face.\n\n    for (let i = 0; i < positionAttribute.count; i += 3) {\n      let faceWeight = 1\n\n      if (weightAttribute) {\n        faceWeight = weightAttribute.getX(i) + weightAttribute.getX(i + 1) + weightAttribute.getX(i + 2)\n      }\n\n      _face.a.fromBufferAttribute(positionAttribute, i)\n      _face.b.fromBufferAttribute(positionAttribute, i + 1)\n      _face.c.fromBufferAttribute(positionAttribute, i + 2)\n      faceWeight *= _face.getArea()\n\n      faceWeights[i / 3] = faceWeight\n    }\n\n    // Store cumulative total face weights in an array, where weight index\n    // corresponds to face index.\n\n    this.distribution = new Float32Array(positionAttribute.count / 3)\n\n    let cumulativeTotal = 0\n\n    for (let i = 0; i < faceWeights.length; i++) {\n      cumulativeTotal += faceWeights[i]\n\n      this.distribution[i] = cumulativeTotal\n    }\n\n    return this\n  }\n\n  setRandomGenerator(randomFunction) {\n    this.randomFunction = randomFunction\n    return this\n  }\n\n  sample(targetPosition, targetNormal, targetColor) {\n    const faceIndex = this.sampleFaceIndex()\n    return this.sampleFace(faceIndex, targetPosition, targetNormal, targetColor)\n  }\n\n  sampleFaceIndex() {\n    const cumulativeTotal = this.distribution[this.distribution.length - 1]\n    return this.binarySearch(this.randomFunction() * cumulativeTotal)\n  }\n\n  binarySearch(x) {\n    const dist = this.distribution\n    let start = 0\n    let end = dist.length - 1\n\n    let index = -1\n\n    while (start <= end) {\n      const mid = Math.ceil((start + end) / 2)\n\n      if (mid === 0 || (dist[mid - 1] <= x && dist[mid] > x)) {\n        index = mid\n\n        break\n      } else if (x < dist[mid]) {\n        end = mid - 1\n      } else {\n        start = mid + 1\n      }\n    }\n\n    return index\n  }\n\n  sampleFace(faceIndex, targetPosition, targetNormal, targetColor) {\n    let u = this.randomFunction()\n    let v = this.randomFunction()\n\n    if (u + v > 1) {\n      u = 1 - u\n      v = 1 - v\n    }\n\n    _face.a.fromBufferAttribute(this.positionAttribute, faceIndex * 3)\n    _face.b.fromBufferAttribute(this.positionAttribute, faceIndex * 3 + 1)\n    _face.c.fromBufferAttribute(this.positionAttribute, faceIndex * 3 + 2)\n\n    targetPosition\n      .set(0, 0, 0)\n      .addScaledVector(_face.a, u)\n      .addScaledVector(_face.b, v)\n      .addScaledVector(_face.c, 1 - (u + v))\n\n    if (targetNormal !== undefined) {\n      _face.getNormal(targetNormal)\n    }\n\n    if (targetColor !== undefined && this.colorAttribute !== undefined) {\n      _face.a.fromBufferAttribute(this.colorAttribute, faceIndex * 3)\n      _face.b.fromBufferAttribute(this.colorAttribute, faceIndex * 3 + 1)\n      _face.c.fromBufferAttribute(this.colorAttribute, faceIndex * 3 + 2)\n\n      _color\n        .set(0, 0, 0)\n        .addScaledVector(_face.a, u)\n        .addScaledVector(_face.b, v)\n        .addScaledVector(_face.c, 1 - (u + v))\n\n      targetColor.r = _color.x\n      targetColor.g = _color.y\n      targetColor.b = _color.z\n    }\n\n    return this\n  }\n}\n\nexport { MeshSurfaceSampler }\n"],"names":[],"mappings":";;;;;AAaA,MAAM,QAAwB,aAAA,GAAA,oJAAI,WAAA,CAAU;AAC5C,MAAM,SAAyB,aAAA,GAAA,oJAAI,UAAA,CAAS;AAE5C,MAAM,mBAAmB;IACvB,YAAY,IAAA,CAAM;QAChB,IAAI,WAAW,KAAK,QAAA;QAEpB,IAAI,SAAS,KAAA,EAAO;YAClB,QAAQ,IAAA,CAAK,8EAA8E;YAE3F,WAAW,SAAS,YAAA,CAAc;QACnC;QAED,IAAA,CAAK,QAAA,GAAW;QAChB,IAAA,CAAK,cAAA,GAAiB,KAAK,MAAA;QAE3B,IAAA,CAAK,iBAAA,GAAoB,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,UAAU;QAC9D,IAAA,CAAK,cAAA,GAAiB,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,OAAO;QACxD,IAAA,CAAK,eAAA,GAAkB;QAEvB,IAAA,CAAK,YAAA,GAAe;IACrB;IAED,mBAAmB,IAAA,EAAM;QACvB,IAAA,CAAK,eAAA,GAAkB,OAAO,IAAA,CAAK,QAAA,CAAS,YAAA,CAAa,IAAI,IAAI;QAEjE,OAAO,IAAA;IACR;IAED,QAAQ;QACN,MAAM,oBAAoB,IAAA,CAAK,iBAAA;QAC/B,MAAM,kBAAkB,IAAA,CAAK,eAAA;QAE7B,MAAM,cAAc,IAAI,aAAa,kBAAkB,KAAA,GAAQ,CAAC;QAIhE,IAAA,IAAS,IAAI,GAAG,IAAI,kBAAkB,KAAA,EAAO,KAAK,EAAG;YACnD,IAAI,aAAa;YAEjB,IAAI,iBAAiB;gBACnB,aAAa,gBAAgB,IAAA,CAAK,CAAC,IAAI,gBAAgB,IAAA,CAAK,IAAI,CAAC,IAAI,gBAAgB,IAAA,CAAK,IAAI,CAAC;YAChG;YAED,MAAM,CAAA,CAAE,mBAAA,CAAoB,mBAAmB,CAAC;YAChD,MAAM,CAAA,CAAE,mBAAA,CAAoB,mBAAmB,IAAI,CAAC;YACpD,MAAM,CAAA,CAAE,mBAAA,CAAoB,mBAAmB,IAAI,CAAC;YACpD,cAAc,MAAM,OAAA,CAAS;YAE7B,WAAA,CAAY,IAAI,CAAC,CAAA,GAAI;QACtB;QAKD,IAAA,CAAK,YAAA,GAAe,IAAI,aAAa,kBAAkB,KAAA,GAAQ,CAAC;QAEhE,IAAI,kBAAkB;QAEtB,IAAA,IAAS,IAAI,GAAG,IAAI,YAAY,MAAA,EAAQ,IAAK;YAC3C,mBAAmB,WAAA,CAAY,CAAC,CAAA;YAEhC,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA,GAAI;QACxB;QAED,OAAO,IAAA;IACR;IAED,mBAAmB,cAAA,EAAgB;QACjC,IAAA,CAAK,cAAA,GAAiB;QACtB,OAAO,IAAA;IACR;IAED,OAAO,cAAA,EAAgB,YAAA,EAAc,WAAA,EAAa;QAChD,MAAM,YAAY,IAAA,CAAK,eAAA,CAAiB;QACxC,OAAO,IAAA,CAAK,UAAA,CAAW,WAAW,gBAAgB,cAAc,WAAW;IAC5E;IAED,kBAAkB;QAChB,MAAM,kBAAkB,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,YAAA,CAAa,MAAA,GAAS,CAAC,CAAA;QACtE,OAAO,IAAA,CAAK,YAAA,CAAa,IAAA,CAAK,cAAA,CAAc,IAAK,eAAe;IACjE;IAED,aAAa,CAAA,EAAG;QACd,MAAM,OAAO,IAAA,CAAK,YAAA;QAClB,IAAI,QAAQ;QACZ,IAAI,MAAM,KAAK,MAAA,GAAS;QAExB,IAAI,QAAQ,CAAA;QAEZ,MAAO,SAAS,IAAK;YACnB,MAAM,MAAM,KAAK,IAAA,CAAA,CAAM,QAAQ,GAAA,IAAO,CAAC;YAEvC,IAAI,QAAQ,KAAM,IAAA,CAAK,MAAM,CAAC,CAAA,IAAK,KAAK,IAAA,CAAK,GAAG,CAAA,GAAI,GAAI;gBACtD,QAAQ;gBAER;YACD,OAAA,IAAU,IAAI,IAAA,CAAK,GAAG,CAAA,EAAG;gBACxB,MAAM,MAAM;YACpB,OAAa;gBACL,QAAQ,MAAM;YACf;QACF;QAED,OAAO;IACR;IAED,WAAW,SAAA,EAAW,cAAA,EAAgB,YAAA,EAAc,WAAA,EAAa;QAC/D,IAAI,IAAI,IAAA,CAAK,cAAA,CAAgB;QAC7B,IAAI,IAAI,IAAA,CAAK,cAAA,CAAgB;QAE7B,IAAI,IAAI,IAAI,GAAG;YACb,IAAI,IAAI;YACR,IAAI,IAAI;QACT;QAED,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,iBAAA,EAAmB,YAAY,CAAC;QACjE,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,iBAAA,EAAmB,YAAY,IAAI,CAAC;QACrE,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,iBAAA,EAAmB,YAAY,IAAI,CAAC;QAErE,eACG,GAAA,CAAI,GAAG,GAAG,CAAC,EACX,eAAA,CAAgB,MAAM,CAAA,EAAG,CAAC,EAC1B,eAAA,CAAgB,MAAM,CAAA,EAAG,CAAC,EAC1B,eAAA,CAAgB,MAAM,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,CAAE;QAEvC,IAAI,iBAAiB,KAAA,GAAW;YAC9B,MAAM,SAAA,CAAU,YAAY;QAC7B;QAED,IAAI,gBAAgB,KAAA,KAAa,IAAA,CAAK,cAAA,KAAmB,KAAA,GAAW;YAClE,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,cAAA,EAAgB,YAAY,CAAC;YAC9D,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,cAAA,EAAgB,YAAY,IAAI,CAAC;YAClE,MAAM,CAAA,CAAE,mBAAA,CAAoB,IAAA,CAAK,cAAA,EAAgB,YAAY,IAAI,CAAC;YAElE,OACG,GAAA,CAAI,GAAG,GAAG,CAAC,EACX,eAAA,CAAgB,MAAM,CAAA,EAAG,CAAC,EAC1B,eAAA,CAAgB,MAAM,CAAA,EAAG,CAAC,EAC1B,eAAA,CAAgB,MAAM,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,CAAE;YAEvC,YAAY,CAAA,GAAI,OAAO,CAAA;YACvB,YAAY,CAAA,GAAI,OAAO,CAAA;YACvB,YAAY,CAAA,GAAI,OAAO,CAAA;QACxB;QAED,OAAO,IAAA;IACR;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6958, "column": 0}, "map": {"version":3,"file":"MarchingCubes.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/objects/MarchingCubes.js"],"sourcesContent":["import { BufferAttribute, BufferGeometry, Color, DynamicDrawUsage, Mesh, Sphere, Vector3 } from 'three'\n\n/**\n * Port of http://webglsamples.org/blob/blob.html\n */\n\nclass MarchingCubes extends Mesh {\n  constructor(resolution, material, enableUvs = false, enableColors = false, maxPolyCount = 10000) {\n    const geometry = new BufferGeometry()\n\n    super(geometry, material)\n\n    this.isMarchingCubes = true\n\n    const scope = this\n\n    // temp buffers used in polygonize\n\n    const vlist = new Float32Array(12 * 3)\n    const nlist = new Float32Array(12 * 3)\n    const clist = new Float32Array(12 * 3)\n\n    this.enableUvs = enableUvs\n    this.enableColors = enableColors\n\n    // functions have to be object properties\n    // prototype functions kill performance\n    // (tested and it was 4x slower !!!)\n\n    this.init = function (resolution) {\n      this.resolution = resolution\n\n      // parameters\n\n      this.isolation = 80.0\n\n      // size of field, 32 is pushing it in Javascript :)\n\n      this.size = resolution\n      this.size2 = this.size * this.size\n      this.size3 = this.size2 * this.size\n      this.halfsize = this.size / 2.0\n\n      // deltas\n\n      this.delta = 2.0 / this.size\n      this.yd = this.size\n      this.zd = this.size2\n\n      this.field = new Float32Array(this.size3)\n      this.normal_cache = new Float32Array(this.size3 * 3)\n      this.palette = new Float32Array(this.size3 * 3)\n\n      //\n\n      this.count = 0\n\n      const maxVertexCount = maxPolyCount * 3\n\n      this.positionArray = new Float32Array(maxVertexCount * 3)\n      const positionAttribute = new BufferAttribute(this.positionArray, 3)\n      positionAttribute.setUsage(DynamicDrawUsage)\n      geometry.setAttribute('position', positionAttribute)\n\n      this.normalArray = new Float32Array(maxVertexCount * 3)\n      const normalAttribute = new BufferAttribute(this.normalArray, 3)\n      normalAttribute.setUsage(DynamicDrawUsage)\n      geometry.setAttribute('normal', normalAttribute)\n\n      if (this.enableUvs) {\n        this.uvArray = new Float32Array(maxVertexCount * 2)\n        const uvAttribute = new BufferAttribute(this.uvArray, 2)\n        uvAttribute.setUsage(DynamicDrawUsage)\n        geometry.setAttribute('uv', uvAttribute)\n      }\n\n      if (this.enableColors) {\n        this.colorArray = new Float32Array(maxVertexCount * 3)\n        const colorAttribute = new BufferAttribute(this.colorArray, 3)\n        colorAttribute.setUsage(DynamicDrawUsage)\n        geometry.setAttribute('color', colorAttribute)\n      }\n\n      geometry.boundingSphere = new Sphere(new Vector3(), 1)\n    }\n\n    ///////////////////////\n    // Polygonization\n    ///////////////////////\n\n    function lerp(a, b, t) {\n      return a + (b - a) * t\n    }\n\n    function VIntX(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1),\n        nc = scope.normal_cache\n\n      vlist[offset + 0] = x + mu * scope.delta\n      vlist[offset + 1] = y\n      vlist[offset + 2] = z\n\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q + 3], mu)\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q + 4], mu)\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q + 5], mu)\n\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu)\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu)\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu)\n    }\n\n    function VIntY(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1),\n        nc = scope.normal_cache\n\n      vlist[offset + 0] = x\n      vlist[offset + 1] = y + mu * scope.delta\n      vlist[offset + 2] = z\n\n      const q2 = q + scope.yd * 3\n\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q2 + 0], mu)\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q2 + 1], mu)\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q2 + 2], mu)\n\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu)\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu)\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu)\n    }\n\n    function VIntZ(q, offset, isol, x, y, z, valp1, valp2, c_offset1, c_offset2) {\n      const mu = (isol - valp1) / (valp2 - valp1),\n        nc = scope.normal_cache\n\n      vlist[offset + 0] = x\n      vlist[offset + 1] = y\n      vlist[offset + 2] = z + mu * scope.delta\n\n      const q2 = q + scope.zd * 3\n\n      nlist[offset + 0] = lerp(nc[q + 0], nc[q2 + 0], mu)\n      nlist[offset + 1] = lerp(nc[q + 1], nc[q2 + 1], mu)\n      nlist[offset + 2] = lerp(nc[q + 2], nc[q2 + 2], mu)\n\n      clist[offset + 0] = lerp(scope.palette[c_offset1 * 3 + 0], scope.palette[c_offset2 * 3 + 0], mu)\n      clist[offset + 1] = lerp(scope.palette[c_offset1 * 3 + 1], scope.palette[c_offset2 * 3 + 1], mu)\n      clist[offset + 2] = lerp(scope.palette[c_offset1 * 3 + 2], scope.palette[c_offset2 * 3 + 2], mu)\n    }\n\n    function compNorm(q) {\n      const q3 = q * 3\n\n      if (scope.normal_cache[q3] === 0.0) {\n        scope.normal_cache[q3 + 0] = scope.field[q - 1] - scope.field[q + 1]\n        scope.normal_cache[q3 + 1] = scope.field[q - scope.yd] - scope.field[q + scope.yd]\n        scope.normal_cache[q3 + 2] = scope.field[q - scope.zd] - scope.field[q + scope.zd]\n      }\n    }\n\n    // Returns total number of triangles. Fills triangles.\n    // (this is where most of time is spent - it's inner work of O(n3) loop )\n\n    function polygonize(fx, fy, fz, q, isol) {\n      // cache indices\n      const q1 = q + 1,\n        qy = q + scope.yd,\n        qz = q + scope.zd,\n        q1y = q1 + scope.yd,\n        q1z = q1 + scope.zd,\n        qyz = q + scope.yd + scope.zd,\n        q1yz = q1 + scope.yd + scope.zd\n\n      let cubeindex = 0\n      const field0 = scope.field[q],\n        field1 = scope.field[q1],\n        field2 = scope.field[qy],\n        field3 = scope.field[q1y],\n        field4 = scope.field[qz],\n        field5 = scope.field[q1z],\n        field6 = scope.field[qyz],\n        field7 = scope.field[q1yz]\n\n      if (field0 < isol) cubeindex |= 1\n      if (field1 < isol) cubeindex |= 2\n      if (field2 < isol) cubeindex |= 8\n      if (field3 < isol) cubeindex |= 4\n      if (field4 < isol) cubeindex |= 16\n      if (field5 < isol) cubeindex |= 32\n      if (field6 < isol) cubeindex |= 128\n      if (field7 < isol) cubeindex |= 64\n\n      // if cube is entirely in/out of the surface - bail, nothing to draw\n\n      const bits = edgeTable[cubeindex]\n      if (bits === 0) return 0\n\n      const d = scope.delta,\n        fx2 = fx + d,\n        fy2 = fy + d,\n        fz2 = fz + d\n\n      // top of the cube\n\n      if (bits & 1) {\n        compNorm(q)\n        compNorm(q1)\n        VIntX(q * 3, 0, isol, fx, fy, fz, field0, field1, q, q1)\n      }\n\n      if (bits & 2) {\n        compNorm(q1)\n        compNorm(q1y)\n        VIntY(q1 * 3, 3, isol, fx2, fy, fz, field1, field3, q1, q1y)\n      }\n\n      if (bits & 4) {\n        compNorm(qy)\n        compNorm(q1y)\n        VIntX(qy * 3, 6, isol, fx, fy2, fz, field2, field3, qy, q1y)\n      }\n\n      if (bits & 8) {\n        compNorm(q)\n        compNorm(qy)\n        VIntY(q * 3, 9, isol, fx, fy, fz, field0, field2, q, qy)\n      }\n\n      // bottom of the cube\n\n      if (bits & 16) {\n        compNorm(qz)\n        compNorm(q1z)\n        VIntX(qz * 3, 12, isol, fx, fy, fz2, field4, field5, qz, q1z)\n      }\n\n      if (bits & 32) {\n        compNorm(q1z)\n        compNorm(q1yz)\n        VIntY(q1z * 3, 15, isol, fx2, fy, fz2, field5, field7, q1z, q1yz)\n      }\n\n      if (bits & 64) {\n        compNorm(qyz)\n        compNorm(q1yz)\n        VIntX(qyz * 3, 18, isol, fx, fy2, fz2, field6, field7, qyz, q1yz)\n      }\n\n      if (bits & 128) {\n        compNorm(qz)\n        compNorm(qyz)\n        VIntY(qz * 3, 21, isol, fx, fy, fz2, field4, field6, qz, qyz)\n      }\n\n      // vertical lines of the cube\n      if (bits & 256) {\n        compNorm(q)\n        compNorm(qz)\n        VIntZ(q * 3, 24, isol, fx, fy, fz, field0, field4, q, qz)\n      }\n\n      if (bits & 512) {\n        compNorm(q1)\n        compNorm(q1z)\n        VIntZ(q1 * 3, 27, isol, fx2, fy, fz, field1, field5, q1, q1z)\n      }\n\n      if (bits & 1024) {\n        compNorm(q1y)\n        compNorm(q1yz)\n        VIntZ(q1y * 3, 30, isol, fx2, fy2, fz, field3, field7, q1y, q1yz)\n      }\n\n      if (bits & 2048) {\n        compNorm(qy)\n        compNorm(qyz)\n        VIntZ(qy * 3, 33, isol, fx, fy2, fz, field2, field6, qy, qyz)\n      }\n\n      cubeindex <<= 4 // re-purpose cubeindex into an offset into triTable\n\n      let o1,\n        o2,\n        o3,\n        numtris = 0,\n        i = 0\n\n      // here is where triangles are created\n\n      while (triTable[cubeindex + i] != -1) {\n        o1 = cubeindex + i\n        o2 = o1 + 1\n        o3 = o1 + 2\n\n        posnormtriv(vlist, nlist, clist, 3 * triTable[o1], 3 * triTable[o2], 3 * triTable[o3])\n\n        i += 3\n        numtris++\n      }\n\n      return numtris\n    }\n\n    function posnormtriv(pos, norm, colors, o1, o2, o3) {\n      const c = scope.count * 3\n\n      // positions\n\n      scope.positionArray[c + 0] = pos[o1]\n      scope.positionArray[c + 1] = pos[o1 + 1]\n      scope.positionArray[c + 2] = pos[o1 + 2]\n\n      scope.positionArray[c + 3] = pos[o2]\n      scope.positionArray[c + 4] = pos[o2 + 1]\n      scope.positionArray[c + 5] = pos[o2 + 2]\n\n      scope.positionArray[c + 6] = pos[o3]\n      scope.positionArray[c + 7] = pos[o3 + 1]\n      scope.positionArray[c + 8] = pos[o3 + 2]\n\n      // normals\n\n      if (scope.material.flatShading === true) {\n        const nx = (norm[o1 + 0] + norm[o2 + 0] + norm[o3 + 0]) / 3\n        const ny = (norm[o1 + 1] + norm[o2 + 1] + norm[o3 + 1]) / 3\n        const nz = (norm[o1 + 2] + norm[o2 + 2] + norm[o3 + 2]) / 3\n\n        scope.normalArray[c + 0] = nx\n        scope.normalArray[c + 1] = ny\n        scope.normalArray[c + 2] = nz\n\n        scope.normalArray[c + 3] = nx\n        scope.normalArray[c + 4] = ny\n        scope.normalArray[c + 5] = nz\n\n        scope.normalArray[c + 6] = nx\n        scope.normalArray[c + 7] = ny\n        scope.normalArray[c + 8] = nz\n      } else {\n        scope.normalArray[c + 0] = norm[o1 + 0]\n        scope.normalArray[c + 1] = norm[o1 + 1]\n        scope.normalArray[c + 2] = norm[o1 + 2]\n\n        scope.normalArray[c + 3] = norm[o2 + 0]\n        scope.normalArray[c + 4] = norm[o2 + 1]\n        scope.normalArray[c + 5] = norm[o2 + 2]\n\n        scope.normalArray[c + 6] = norm[o3 + 0]\n        scope.normalArray[c + 7] = norm[o3 + 1]\n        scope.normalArray[c + 8] = norm[o3 + 2]\n      }\n\n      // uvs\n\n      if (scope.enableUvs) {\n        const d = scope.count * 2\n\n        scope.uvArray[d + 0] = pos[o1 + 0]\n        scope.uvArray[d + 1] = pos[o1 + 2]\n\n        scope.uvArray[d + 2] = pos[o2 + 0]\n        scope.uvArray[d + 3] = pos[o2 + 2]\n\n        scope.uvArray[d + 4] = pos[o3 + 0]\n        scope.uvArray[d + 5] = pos[o3 + 2]\n      }\n\n      // colors\n\n      if (scope.enableColors) {\n        scope.colorArray[c + 0] = colors[o1 + 0]\n        scope.colorArray[c + 1] = colors[o1 + 1]\n        scope.colorArray[c + 2] = colors[o1 + 2]\n\n        scope.colorArray[c + 3] = colors[o2 + 0]\n        scope.colorArray[c + 4] = colors[o2 + 1]\n        scope.colorArray[c + 5] = colors[o2 + 2]\n\n        scope.colorArray[c + 6] = colors[o3 + 0]\n        scope.colorArray[c + 7] = colors[o3 + 1]\n        scope.colorArray[c + 8] = colors[o3 + 2]\n      }\n\n      scope.count += 3\n    }\n\n    /////////////////////////////////////\n    // Metaballs\n    /////////////////////////////////////\n\n    // Adds a reciprocal ball (nice and blobby) that, to be fast, fades to zero after\n    // a fixed distance, determined by strength and subtract.\n\n    this.addBall = function (ballx, bally, ballz, strength, subtract, colors) {\n      const sign = Math.sign(strength)\n      strength = Math.abs(strength)\n      const userDefineColor = !(colors === undefined || colors === null)\n      let ballColor = new Color(ballx, bally, ballz)\n\n      if (userDefineColor) {\n        try {\n          ballColor =\n            colors instanceof Color\n              ? colors\n              : Array.isArray(colors)\n              ? new Color(\n                  Math.min(Math.abs(colors[0]), 1),\n                  Math.min(Math.abs(colors[1]), 1),\n                  Math.min(Math.abs(colors[2]), 1),\n                )\n              : new Color(colors)\n        } catch (err) {\n          ballColor = new Color(ballx, bally, ballz)\n        }\n      }\n\n      // Let's solve the equation to find the radius:\n      // 1.0 / (0.000001 + radius^2) * strength - subtract = 0\n      // strength / (radius^2) = subtract\n      // strength = subtract * radius^2\n      // radius^2 = strength / subtract\n      // radius = sqrt(strength / subtract)\n\n      const radius = this.size * Math.sqrt(strength / subtract),\n        zs = ballz * this.size,\n        ys = bally * this.size,\n        xs = ballx * this.size\n\n      let min_z = Math.floor(zs - radius)\n      if (min_z < 1) min_z = 1\n      let max_z = Math.floor(zs + radius)\n      if (max_z > this.size - 1) max_z = this.size - 1\n      let min_y = Math.floor(ys - radius)\n      if (min_y < 1) min_y = 1\n      let max_y = Math.floor(ys + radius)\n      if (max_y > this.size - 1) max_y = this.size - 1\n      let min_x = Math.floor(xs - radius)\n      if (min_x < 1) min_x = 1\n      let max_x = Math.floor(xs + radius)\n      if (max_x > this.size - 1) max_x = this.size - 1\n\n      // Don't polygonize in the outer layer because normals aren't\n      // well-defined there.\n\n      let x, y, z, y_offset, z_offset, fx, fy, fz, fz2, fy2, val\n\n      for (z = min_z; z < max_z; z++) {\n        z_offset = this.size2 * z\n        fz = z / this.size - ballz\n        fz2 = fz * fz\n\n        for (y = min_y; y < max_y; y++) {\n          y_offset = z_offset + this.size * y\n          fy = y / this.size - bally\n          fy2 = fy * fy\n\n          for (x = min_x; x < max_x; x++) {\n            fx = x / this.size - ballx\n            val = strength / (0.000001 + fx * fx + fy2 + fz2) - subtract\n            if (val > 0.0) {\n              this.field[y_offset + x] += val * sign\n\n              // optimization\n              // http://www.geisswerks.com/ryan/BLOBS/blobs.html\n              const ratio = Math.sqrt((x - xs) * (x - xs) + (y - ys) * (y - ys) + (z - zs) * (z - zs)) / radius\n              const contrib = 1 - ratio * ratio * ratio * (ratio * (ratio * 6 - 15) + 10)\n              this.palette[(y_offset + x) * 3 + 0] += ballColor.r * contrib\n              this.palette[(y_offset + x) * 3 + 1] += ballColor.g * contrib\n              this.palette[(y_offset + x) * 3 + 2] += ballColor.b * contrib\n            }\n          }\n        }\n      }\n    }\n\n    this.addPlaneX = function (strength, subtract) {\n      // cache attribute lookups\n      const size = this.size,\n        yd = this.yd,\n        zd = this.zd,\n        field = this.field\n\n      let x,\n        y,\n        z,\n        xx,\n        val,\n        xdiv,\n        cxy,\n        dist = size * Math.sqrt(strength / subtract)\n\n      if (dist > size) dist = size\n\n      for (x = 0; x < dist; x++) {\n        xdiv = x / size\n        xx = xdiv * xdiv\n        val = strength / (0.0001 + xx) - subtract\n\n        if (val > 0.0) {\n          for (y = 0; y < size; y++) {\n            cxy = x + y * yd\n\n            for (z = 0; z < size; z++) {\n              field[zd * z + cxy] += val\n            }\n          }\n        }\n      }\n    }\n\n    this.addPlaneY = function (strength, subtract) {\n      // cache attribute lookups\n      const size = this.size,\n        yd = this.yd,\n        zd = this.zd,\n        field = this.field\n\n      let x,\n        y,\n        z,\n        yy,\n        val,\n        ydiv,\n        cy,\n        cxy,\n        dist = size * Math.sqrt(strength / subtract)\n\n      if (dist > size) dist = size\n\n      for (y = 0; y < dist; y++) {\n        ydiv = y / size\n        yy = ydiv * ydiv\n        val = strength / (0.0001 + yy) - subtract\n\n        if (val > 0.0) {\n          cy = y * yd\n\n          for (x = 0; x < size; x++) {\n            cxy = cy + x\n\n            for (z = 0; z < size; z++) field[zd * z + cxy] += val\n          }\n        }\n      }\n    }\n\n    this.addPlaneZ = function (strength, subtract) {\n      // cache attribute lookups\n\n      const size = this.size,\n        yd = this.yd,\n        zd = this.zd,\n        field = this.field\n\n      let x,\n        y,\n        z,\n        zz,\n        val,\n        zdiv,\n        cz,\n        cyz,\n        dist = size * Math.sqrt(strength / subtract)\n\n      if (dist > size) dist = size\n\n      for (z = 0; z < dist; z++) {\n        zdiv = z / size\n        zz = zdiv * zdiv\n        val = strength / (0.0001 + zz) - subtract\n        if (val > 0.0) {\n          cz = zd * z\n\n          for (y = 0; y < size; y++) {\n            cyz = cz + y * yd\n\n            for (x = 0; x < size; x++) field[cyz + x] += val\n          }\n        }\n      }\n    }\n\n    /////////////////////////////////////\n    // Updates\n    /////////////////////////////////////\n\n    this.setCell = function (x, y, z, value) {\n      const index = this.size2 * z + this.size * y + x\n      this.field[index] = value\n    }\n\n    this.getCell = function (x, y, z) {\n      const index = this.size2 * z + this.size * y + x\n      return this.field[index]\n    }\n\n    this.blur = function (intensity = 1) {\n      const field = this.field\n      const fieldCopy = field.slice()\n      const size = this.size\n      const size2 = this.size2\n      for (let x = 0; x < size; x++) {\n        for (let y = 0; y < size; y++) {\n          for (let z = 0; z < size; z++) {\n            const index = size2 * z + size * y + x\n            let val = fieldCopy[index]\n            let count = 1\n\n            for (let x2 = -1; x2 <= 1; x2 += 2) {\n              const x3 = x2 + x\n              if (x3 < 0 || x3 >= size) continue\n\n              for (let y2 = -1; y2 <= 1; y2 += 2) {\n                const y3 = y2 + y\n                if (y3 < 0 || y3 >= size) continue\n\n                for (let z2 = -1; z2 <= 1; z2 += 2) {\n                  const z3 = z2 + z\n                  if (z3 < 0 || z3 >= size) continue\n\n                  const index2 = size2 * z3 + size * y3 + x3\n                  const val2 = fieldCopy[index2]\n\n                  count++\n                  val += (intensity * (val2 - val)) / count\n                }\n              }\n            }\n\n            field[index] = val\n          }\n        }\n      }\n    }\n\n    this.reset = function () {\n      // wipe the normal cache\n\n      for (let i = 0; i < this.size3; i++) {\n        this.normal_cache[i * 3] = 0.0\n        this.field[i] = 0.0\n        this.palette[i * 3] = this.palette[i * 3 + 1] = this.palette[i * 3 + 2] = 0.0\n      }\n    }\n\n    this.update = function () {\n      this.count = 0\n\n      // Triangulate. Yeah, this is slow.\n\n      const smin2 = this.size - 2\n\n      for (let z = 1; z < smin2; z++) {\n        const z_offset = this.size2 * z\n        const fz = (z - this.halfsize) / this.halfsize //+ 1\n\n        for (let y = 1; y < smin2; y++) {\n          const y_offset = z_offset + this.size * y\n          const fy = (y - this.halfsize) / this.halfsize //+ 1\n\n          for (let x = 1; x < smin2; x++) {\n            const fx = (x - this.halfsize) / this.halfsize //+ 1\n            const q = y_offset + x\n\n            polygonize(fx, fy, fz, q, this.isolation)\n          }\n        }\n      }\n\n      // set the draw range to only the processed triangles\n\n      this.geometry.setDrawRange(0, this.count)\n\n      // update geometry data\n\n      geometry.getAttribute('position').needsUpdate = true\n      geometry.getAttribute('normal').needsUpdate = true\n\n      if (this.enableUvs) geometry.getAttribute('uv').needsUpdate = true\n      if (this.enableColors) geometry.getAttribute('color').needsUpdate = true\n\n      // safety check\n\n      if (this.count / 3 > maxPolyCount)\n        console.warn(\n          'THREE.MarchingCubes: Geometry buffers too small for rendering. Please create an instance with a higher poly count.',\n        )\n    }\n\n    this.init(resolution)\n  }\n}\n\n/////////////////////////////////////\n// Marching cubes lookup tables\n/////////////////////////////////////\n\n// These tables are straight from Paul Bourke's page:\n// http://paulbourke.net/geometry/polygonise/\n// who in turn got them from Cory Gene Bloyd.\n\n// prettier-ignore\nconst edgeTable = new Int32Array( [\n\t0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c,\n\t0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00,\n\t0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c,\n\t0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90,\n\t0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c,\n\t0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30,\n\t0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac,\n\t0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0,\n\t0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c,\n\t0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60,\n\t0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc,\n\t0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0,\n\t0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c,\n\t0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950,\n\t0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc,\n\t0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0,\n\t0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc,\n\t0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0,\n\t0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c,\n\t0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650,\n\t0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc,\n\t0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0,\n\t0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c,\n\t0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460,\n\t0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac,\n\t0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0,\n\t0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c,\n\t0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230,\n\t0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c,\n\t0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190,\n\t0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c,\n\t0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0 ] );\n\n// prettier-ignore\nconst triTable = new Int32Array( [\n\t- 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 1, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 8, 3, 9, 8, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, 1, 2, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 2, 10, 0, 2, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 8, 3, 2, 10, 8, 10, 9, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 11, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 11, 2, 8, 11, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 9, 0, 2, 3, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 11, 2, 1, 9, 11, 9, 8, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 10, 1, 11, 10, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 10, 1, 0, 8, 10, 8, 11, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 9, 0, 3, 11, 9, 11, 10, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 8, 10, 10, 8, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 7, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 3, 0, 7, 3, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 1, 9, 8, 4, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 1, 9, 4, 7, 1, 7, 3, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, 8, 4, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 4, 7, 3, 0, 4, 1, 2, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 2, 10, 9, 0, 2, 8, 4, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, - 1, - 1, - 1, - 1,\n\t8, 4, 7, 3, 11, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 4, 7, 11, 2, 4, 2, 0, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 0, 1, 8, 4, 7, 2, 3, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, - 1, - 1, - 1, - 1,\n\t3, 10, 1, 3, 11, 10, 7, 8, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, - 1, - 1, - 1, - 1,\n\t4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, - 1, - 1, - 1, - 1,\n\t4, 7, 11, 4, 11, 9, 9, 11, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 5, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 5, 4, 0, 8, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 5, 4, 1, 5, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 5, 4, 8, 3, 5, 3, 1, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, 9, 5, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 0, 8, 1, 2, 10, 4, 9, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 2, 10, 5, 4, 2, 4, 0, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, - 1, - 1, - 1, - 1,\n\t9, 5, 4, 2, 3, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 11, 2, 0, 8, 11, 4, 9, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 5, 4, 0, 1, 5, 2, 3, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, - 1, - 1, - 1, - 1,\n\t10, 3, 11, 10, 1, 3, 9, 5, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, - 1, - 1, - 1, - 1,\n\t5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, - 1, - 1, - 1, - 1,\n\t5, 4, 8, 5, 8, 10, 10, 8, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 7, 8, 5, 7, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 3, 0, 9, 5, 3, 5, 7, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 7, 8, 0, 1, 7, 1, 5, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 5, 3, 3, 5, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 7, 8, 9, 5, 7, 10, 1, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, - 1, - 1, - 1, - 1,\n\t8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, - 1, - 1, - 1, - 1,\n\t2, 10, 5, 2, 5, 3, 3, 5, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 9, 5, 7, 8, 9, 3, 11, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, - 1, - 1, - 1, - 1,\n\t2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, - 1, - 1, - 1, - 1,\n\t11, 2, 1, 11, 1, 7, 7, 1, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, - 1, - 1, - 1, - 1,\n\t5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, - 1,\n\t11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, - 1,\n\t11, 10, 5, 7, 11, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 6, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, 5, 10, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 0, 1, 5, 10, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 8, 3, 1, 9, 8, 5, 10, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 6, 5, 2, 6, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 6, 5, 1, 2, 6, 3, 0, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 6, 5, 9, 0, 6, 0, 2, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, - 1, - 1, - 1, - 1,\n\t2, 3, 11, 10, 6, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 0, 8, 11, 2, 0, 10, 6, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 1, 9, 2, 3, 11, 5, 10, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, - 1, - 1, - 1, - 1,\n\t6, 3, 11, 6, 5, 3, 5, 1, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, - 1, - 1, - 1, - 1,\n\t3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, - 1, - 1, - 1, - 1,\n\t6, 5, 9, 6, 9, 11, 11, 9, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 10, 6, 4, 7, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 3, 0, 4, 7, 3, 6, 5, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 9, 0, 5, 10, 6, 8, 4, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, - 1, - 1, - 1, - 1,\n\t6, 1, 2, 6, 5, 1, 4, 7, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, - 1, - 1, - 1, - 1,\n\t8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, - 1, - 1, - 1, - 1,\n\t7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, - 1,\n\t3, 11, 2, 7, 8, 4, 10, 6, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, - 1, - 1, - 1, - 1,\n\t0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, - 1, - 1, - 1, - 1,\n\t9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, - 1,\n\t8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, - 1, - 1, - 1, - 1,\n\t5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, - 1,\n\t0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, - 1,\n\t6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, - 1, - 1, - 1, - 1,\n\t10, 4, 9, 6, 4, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 10, 6, 4, 9, 10, 0, 8, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 0, 1, 10, 6, 0, 6, 4, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, - 1, - 1, - 1, - 1,\n\t1, 4, 9, 1, 2, 4, 2, 6, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, - 1, - 1, - 1, - 1,\n\t0, 2, 4, 4, 2, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 3, 2, 8, 2, 4, 4, 2, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 4, 9, 10, 6, 4, 11, 2, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, - 1, - 1, - 1, - 1,\n\t3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, - 1, - 1, - 1, - 1,\n\t6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, - 1,\n\t9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, - 1, - 1, - 1, - 1,\n\t8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, - 1,\n\t3, 11, 6, 3, 6, 0, 0, 6, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t6, 4, 8, 11, 6, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 10, 6, 7, 8, 10, 8, 9, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, - 1, - 1, - 1, - 1,\n\t10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, - 1, - 1, - 1, - 1,\n\t10, 6, 7, 10, 7, 1, 1, 7, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, - 1, - 1, - 1, - 1,\n\t2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, - 1,\n\t7, 8, 0, 7, 0, 6, 6, 0, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 3, 2, 6, 7, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, - 1, - 1, - 1, - 1,\n\t2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, - 1,\n\t1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, - 1,\n\t11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, - 1, - 1, - 1, - 1,\n\t8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, - 1,\n\t0, 9, 1, 11, 6, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, - 1, - 1, - 1, - 1,\n\t7, 11, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 6, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 0, 8, 11, 7, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 1, 9, 11, 7, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 1, 9, 8, 3, 1, 11, 7, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 1, 2, 6, 11, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, 3, 0, 8, 6, 11, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 9, 0, 2, 10, 9, 6, 11, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, - 1, - 1, - 1, - 1,\n\t7, 2, 3, 6, 2, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t7, 0, 8, 7, 6, 0, 6, 2, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 7, 6, 2, 3, 7, 0, 1, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, - 1, - 1, - 1, - 1,\n\t10, 7, 6, 10, 1, 7, 1, 3, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, - 1, - 1, - 1, - 1,\n\t0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, - 1, - 1, - 1, - 1,\n\t7, 6, 10, 7, 10, 8, 8, 10, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t6, 8, 4, 11, 8, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 6, 11, 3, 0, 6, 0, 4, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 6, 11, 8, 4, 6, 9, 0, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, - 1, - 1, - 1, - 1,\n\t6, 8, 4, 6, 11, 8, 2, 10, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, - 1, - 1, - 1, - 1,\n\t4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, - 1, - 1, - 1, - 1,\n\t10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, - 1,\n\t8, 2, 3, 8, 4, 2, 4, 6, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 4, 2, 4, 6, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, - 1, - 1, - 1, - 1,\n\t1, 9, 4, 1, 4, 2, 2, 4, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, - 1, - 1, - 1, - 1,\n\t10, 1, 0, 10, 0, 6, 6, 0, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, - 1,\n\t10, 9, 4, 6, 10, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 9, 5, 7, 6, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, 4, 9, 5, 11, 7, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 0, 1, 5, 4, 0, 7, 6, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, - 1, - 1, - 1, - 1,\n\t9, 5, 4, 10, 1, 2, 7, 6, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, - 1, - 1, - 1, - 1,\n\t7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, - 1, - 1, - 1, - 1,\n\t3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, - 1,\n\t7, 2, 3, 7, 6, 2, 5, 4, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, - 1, - 1, - 1, - 1,\n\t3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, - 1, - 1, - 1, - 1,\n\t6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, - 1,\n\t9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, - 1, - 1, - 1, - 1,\n\t1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, - 1,\n\t4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, - 1,\n\t7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, - 1, - 1, - 1, - 1,\n\t6, 9, 5, 6, 11, 9, 11, 8, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, - 1, - 1, - 1, - 1,\n\t0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, - 1, - 1, - 1, - 1,\n\t6, 11, 3, 6, 3, 5, 5, 3, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, - 1, - 1, - 1, - 1,\n\t0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, - 1,\n\t11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, - 1,\n\t6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, - 1, - 1, - 1, - 1,\n\t5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, - 1, - 1, - 1, - 1,\n\t9, 5, 6, 9, 6, 0, 0, 6, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, - 1,\n\t1, 5, 6, 2, 1, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, - 1,\n\t10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, - 1, - 1, - 1, - 1,\n\t0, 3, 8, 5, 6, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 5, 6, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 5, 10, 7, 5, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 5, 10, 11, 7, 5, 8, 3, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 11, 7, 5, 10, 11, 1, 9, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, - 1, - 1, - 1, - 1,\n\t11, 1, 2, 11, 7, 1, 7, 5, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, - 1, - 1, - 1, - 1,\n\t9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, - 1, - 1, - 1, - 1,\n\t7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, - 1,\n\t2, 5, 10, 2, 3, 5, 3, 7, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, - 1, - 1, - 1, - 1,\n\t9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, - 1, - 1, - 1, - 1,\n\t9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, - 1,\n\t1, 3, 5, 3, 7, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 7, 0, 7, 1, 1, 7, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 0, 3, 9, 3, 5, 5, 3, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 8, 7, 5, 9, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 8, 4, 5, 10, 8, 10, 11, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, - 1, - 1, - 1, - 1,\n\t0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, - 1, - 1, - 1, - 1,\n\t10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, - 1,\n\t2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, - 1, - 1, - 1, - 1,\n\t0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, - 1,\n\t0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, - 1,\n\t9, 4, 5, 2, 11, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, - 1, - 1, - 1, - 1,\n\t5, 10, 2, 5, 2, 4, 4, 2, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, - 1,\n\t5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, - 1, - 1, - 1, - 1,\n\t8, 4, 5, 8, 5, 3, 3, 5, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 4, 5, 1, 0, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, - 1, - 1, - 1, - 1,\n\t9, 4, 5, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 11, 7, 4, 9, 11, 9, 10, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, - 1, - 1, - 1, - 1,\n\t1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, - 1, - 1, - 1, - 1,\n\t3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, - 1,\n\t4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, - 1, - 1, - 1, - 1,\n\t9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, - 1,\n\t11, 7, 4, 11, 4, 2, 2, 4, 0, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, - 1, - 1, - 1, - 1,\n\t2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, - 1, - 1, - 1, - 1,\n\t9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, - 1,\n\t3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, - 1,\n\t1, 10, 2, 8, 7, 4, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 9, 1, 4, 1, 7, 7, 1, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, - 1, - 1, - 1, - 1,\n\t4, 0, 3, 7, 4, 3, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t4, 8, 7, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 10, 8, 10, 11, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 0, 9, 3, 9, 11, 11, 9, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 1, 10, 0, 10, 8, 8, 10, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 1, 10, 11, 3, 10, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 2, 11, 1, 11, 9, 9, 11, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, - 1, - 1, - 1, - 1,\n\t0, 2, 11, 8, 0, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t3, 2, 11, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 3, 8, 2, 8, 10, 10, 8, 9, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t9, 10, 2, 0, 9, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, - 1, - 1, - 1, - 1,\n\t1, 10, 2, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t1, 3, 8, 9, 1, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 9, 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t0, 3, 8, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1,\n\t- 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1, - 1 ] );\n\nexport { MarchingCubes, edgeTable, triTable }\n"],"names":["resolution"],"mappings":"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AAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAM;IAAO;IAAO;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAM;IAAO;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAM;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAM;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAM;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAM;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAM;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAM;IAAO;IAAO;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAM;IAAO;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAM;IAAO;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAM;IAAO;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAM;IAAO;IAChD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IACjD;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAM;IAChD;IAAO;IAAO;IAAO;IAAO;IA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AAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAI;IAAI;IAAG,CAAA;IACjD;IAAI;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IACjD;IAAI;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAClE;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACjE;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC7C;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IACjD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI,CAAA;IAClD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACjE;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG,CAAA;IAChD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC/C;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC7C;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG,CAAA;IAChD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAChD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACjE;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAChD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAC/C;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACjE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAC/C;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC7C;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI,CAAA;IAClD;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAChD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAChD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC7C;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAClE;IAAI;IAAG;IAAI;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAI;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAI;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC9C;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAI;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAI;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAI;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IACjD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI,CAAA;IAClD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG,CAAA;IAC/C;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC1D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC/C;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrE;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC7D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAI;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACvD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAI;IAAI;IAAG,CAAA;IACjD;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtD;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAChD;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAI;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACpD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAC/C;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAG;IAAI,CAAA;IAClD;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACzD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACnD;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrE;IAAG;IAAI;IAAG;IAAI;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAClE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAI;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC7D;IAAG;IAAG;IAAI;IAAI;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAClE;IAAG;IAAG;IAAI;IAAG;IAAI;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC5D;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAG;IAAI;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACjE;IAAG;IAAG;IAAI,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAI;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC3D;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAChE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG;IAAG;IAAG;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrD;IAAG;IAAI;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACtE;IAAG;IAAG;IAAG;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAC/D;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrE;IAAG;IAAG;IAAG,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IACrE,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;IAAK,CAAA;CAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11744, "column": 0}, "map": {"version":3,"file":"DecalGeometry.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/geometries/DecalGeometry.js"],"sourcesContent":["import { BufferGeometry, Float32BufferAttribute, Matrix4, Vector3 } from 'three'\n\n/**\n * You can use this geometry to create a decal mesh, that serves different kinds of purposes.\n * e.g. adding unique details to models, performing dynamic visual environmental changes or covering seams.\n *\n * Constructor parameter:\n *\n * mesh  Any mesh object\n * position  Position of the decal projector\n * orientation  Orientation of the decal projector\n * size  Size of the decal projector\n *\n * reference: http://blog.wolfire.com/2009/06/how-to-project-decals/\n *\n */\n\nclass DecalGeometry extends BufferGeometry {\n  constructor(mesh, position, orientation, size) {\n    super()\n\n    // buffers\n\n    const vertices = []\n    const normals = []\n    const uvs = []\n\n    // helpers\n\n    const plane = new Vector3()\n\n    // this matrix represents the transformation of the decal projector\n\n    const projectorMatrix = new Matrix4()\n    projectorMatrix.makeRotationFromEuler(orientation)\n    projectorMatrix.setPosition(position)\n\n    const projectorMatrixInverse = new Matrix4()\n    projectorMatrixInverse.copy(projectorMatrix).invert()\n\n    // generate buffers\n\n    generate()\n\n    // build geometry\n\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3))\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3))\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2))\n\n    function generate() {\n      let i\n\n      let decalVertices = []\n\n      const vertex = new Vector3()\n      const normal = new Vector3()\n\n      // handle different geometry types\n\n      if (mesh.geometry.isGeometry === true) {\n        console.error('THREE.DecalGeometry no longer supports THREE.Geometry. Use BufferGeometry instead.')\n        return\n      }\n\n      const geometry = mesh.geometry\n\n      const positionAttribute = geometry.attributes.position\n      const normalAttribute = geometry.attributes.normal\n\n      // first, create an array of 'DecalVertex' objects\n      // three consecutive 'DecalVertex' objects represent a single face\n      //\n      // this data structure will be later used to perform the clipping\n\n      if (geometry.index !== null) {\n        // indexed BufferGeometry\n\n        const index = geometry.index\n\n        for (i = 0; i < index.count; i++) {\n          vertex.fromBufferAttribute(positionAttribute, index.getX(i))\n          normal.fromBufferAttribute(normalAttribute, index.getX(i))\n\n          pushDecalVertex(decalVertices, vertex, normal)\n        }\n      } else {\n        // non-indexed BufferGeometry\n\n        for (i = 0; i < positionAttribute.count; i++) {\n          vertex.fromBufferAttribute(positionAttribute, i)\n          normal.fromBufferAttribute(normalAttribute, i)\n\n          pushDecalVertex(decalVertices, vertex, normal)\n        }\n      }\n\n      // second, clip the geometry so that it doesn't extend out from the projector\n\n      decalVertices = clipGeometry(decalVertices, plane.set(1, 0, 0))\n      decalVertices = clipGeometry(decalVertices, plane.set(-1, 0, 0))\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 1, 0))\n      decalVertices = clipGeometry(decalVertices, plane.set(0, -1, 0))\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 0, 1))\n      decalVertices = clipGeometry(decalVertices, plane.set(0, 0, -1))\n\n      // third, generate final vertices, normals and uvs\n\n      for (i = 0; i < decalVertices.length; i++) {\n        const decalVertex = decalVertices[i]\n\n        // create texture coordinates (we are still in projector space)\n\n        uvs.push(0.5 + decalVertex.position.x / size.x, 0.5 + decalVertex.position.y / size.y)\n\n        // transform the vertex back to world space\n\n        decalVertex.position.applyMatrix4(projectorMatrix)\n\n        // now create vertex and normal buffer data\n\n        vertices.push(decalVertex.position.x, decalVertex.position.y, decalVertex.position.z)\n        normals.push(decalVertex.normal.x, decalVertex.normal.y, decalVertex.normal.z)\n      }\n    }\n\n    function pushDecalVertex(decalVertices, vertex, normal) {\n      // transform the vertex to world space, then to projector space\n\n      vertex.applyMatrix4(mesh.matrixWorld)\n      vertex.applyMatrix4(projectorMatrixInverse)\n\n      normal.transformDirection(mesh.matrixWorld)\n\n      decalVertices.push(new DecalVertex(vertex.clone(), normal.clone()))\n    }\n\n    function clipGeometry(inVertices, plane) {\n      const outVertices = []\n\n      const s = 0.5 * Math.abs(size.dot(plane))\n\n      // a single iteration clips one face,\n      // which consists of three consecutive 'DecalVertex' objects\n\n      for (let i = 0; i < inVertices.length; i += 3) {\n        let v1Out,\n          v2Out,\n          v3Out,\n          total = 0\n        let nV1, nV2, nV3, nV4\n\n        const d1 = inVertices[i + 0].position.dot(plane) - s\n        const d2 = inVertices[i + 1].position.dot(plane) - s\n        const d3 = inVertices[i + 2].position.dot(plane) - s\n\n        v1Out = d1 > 0\n        v2Out = d2 > 0\n        v3Out = d3 > 0\n\n        // calculate, how many vertices of the face lie outside of the clipping plane\n\n        total = (v1Out ? 1 : 0) + (v2Out ? 1 : 0) + (v3Out ? 1 : 0)\n\n        switch (total) {\n          case 0: {\n            // the entire face lies inside of the plane, no clipping needed\n\n            outVertices.push(inVertices[i])\n            outVertices.push(inVertices[i + 1])\n            outVertices.push(inVertices[i + 2])\n            break\n          }\n\n          case 1: {\n            // one vertex lies outside of the plane, perform clipping\n\n            if (v1Out) {\n              nV1 = inVertices[i + 1]\n              nV2 = inVertices[i + 2]\n              nV3 = clip(inVertices[i], nV1, plane, s)\n              nV4 = clip(inVertices[i], nV2, plane, s)\n            }\n\n            if (v2Out) {\n              nV1 = inVertices[i]\n              nV2 = inVertices[i + 2]\n              nV3 = clip(inVertices[i + 1], nV1, plane, s)\n              nV4 = clip(inVertices[i + 1], nV2, plane, s)\n\n              outVertices.push(nV3)\n              outVertices.push(nV2.clone())\n              outVertices.push(nV1.clone())\n\n              outVertices.push(nV2.clone())\n              outVertices.push(nV3.clone())\n              outVertices.push(nV4)\n              break\n            }\n\n            if (v3Out) {\n              nV1 = inVertices[i]\n              nV2 = inVertices[i + 1]\n              nV3 = clip(inVertices[i + 2], nV1, plane, s)\n              nV4 = clip(inVertices[i + 2], nV2, plane, s)\n            }\n\n            outVertices.push(nV1.clone())\n            outVertices.push(nV2.clone())\n            outVertices.push(nV3)\n\n            outVertices.push(nV4)\n            outVertices.push(nV3.clone())\n            outVertices.push(nV2.clone())\n\n            break\n          }\n\n          case 2: {\n            // two vertices lies outside of the plane, perform clipping\n\n            if (!v1Out) {\n              nV1 = inVertices[i].clone()\n              nV2 = clip(nV1, inVertices[i + 1], plane, s)\n              nV3 = clip(nV1, inVertices[i + 2], plane, s)\n              outVertices.push(nV1)\n              outVertices.push(nV2)\n              outVertices.push(nV3)\n            }\n\n            if (!v2Out) {\n              nV1 = inVertices[i + 1].clone()\n              nV2 = clip(nV1, inVertices[i + 2], plane, s)\n              nV3 = clip(nV1, inVertices[i], plane, s)\n              outVertices.push(nV1)\n              outVertices.push(nV2)\n              outVertices.push(nV3)\n            }\n\n            if (!v3Out) {\n              nV1 = inVertices[i + 2].clone()\n              nV2 = clip(nV1, inVertices[i], plane, s)\n              nV3 = clip(nV1, inVertices[i + 1], plane, s)\n              outVertices.push(nV1)\n              outVertices.push(nV2)\n              outVertices.push(nV3)\n            }\n\n            break\n          }\n\n          case 3: {\n            // the entire face lies outside of the plane, so let's discard the corresponding vertices\n\n            break\n          }\n        }\n      }\n\n      return outVertices\n    }\n\n    function clip(v0, v1, p, s) {\n      const d0 = v0.position.dot(p) - s\n      const d1 = v1.position.dot(p) - s\n\n      const s0 = d0 / (d0 - d1)\n\n      const v = new DecalVertex(\n        new Vector3(\n          v0.position.x + s0 * (v1.position.x - v0.position.x),\n          v0.position.y + s0 * (v1.position.y - v0.position.y),\n          v0.position.z + s0 * (v1.position.z - v0.position.z),\n        ),\n        new Vector3(\n          v0.normal.x + s0 * (v1.normal.x - v0.normal.x),\n          v0.normal.y + s0 * (v1.normal.y - v0.normal.y),\n          v0.normal.z + s0 * (v1.normal.z - v0.normal.z),\n        ),\n      )\n\n      // need to clip more values (texture coordinates)? do it this way:\n      // intersectpoint.value = a.value + s * ( b.value - a.value );\n\n      return v\n    }\n  }\n}\n\n// helper\n\nclass DecalVertex {\n  constructor(position, normal) {\n    this.position = position\n    this.normal = normal\n  }\n\n  clone() {\n    return new this.constructor(this.position.clone(), this.normal.clone())\n  }\n}\n\nexport { DecalGeometry, DecalVertex }\n"],"names":["plane"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11926, "column": 0}, "map": {"version":3,"file":"SVGLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/SVGLoader.js"],"sourcesContent":["import {\n  Box2,\n  BufferGeometry,\n  FileLoader,\n  Float32BufferAttribute,\n  Loader,\n  Matrix3,\n  Path,\n  Shape,\n  ShapePath,\n  ShapeUtils,\n  Vector2,\n  Vector3,\n} from 'three'\n\nconst COLOR_SPACE_SVG = 'srgb'\n\nconst SVGLoader = /* @__PURE__ */ (() => {\n  class SVGLoader extends Loader {\n    constructor(manager) {\n      super(manager)\n\n      // Default dots per inch\n      this.defaultDPI = 90\n\n      // Accepted units: 'mm', 'cm', 'in', 'pt', 'pc', 'px'\n      this.defaultUnit = 'px'\n    }\n\n    load(url, onLoad, onProgress, onError) {\n      const scope = this\n\n      const loader = new FileLoader(scope.manager)\n      loader.setPath(scope.path)\n      loader.setRequestHeader(scope.requestHeader)\n      loader.setWithCredentials(scope.withCredentials)\n      loader.load(\n        url,\n        function (text) {\n          try {\n            onLoad(scope.parse(text))\n          } catch (e) {\n            if (onError) {\n              onError(e)\n            } else {\n              console.error(e)\n            }\n\n            scope.manager.itemError(url)\n          }\n        },\n        onProgress,\n        onError,\n      )\n    }\n\n    parse(text) {\n      const scope = this\n\n      function parseNode(node, style) {\n        if (node.nodeType !== 1) return\n\n        const transform = getNodeTransform(node)\n\n        let isDefsNode = false\n\n        let path = null\n\n        switch (node.nodeName) {\n          case 'svg':\n            style = parseStyle(node, style)\n            break\n\n          case 'style':\n            parseCSSStylesheet(node)\n            break\n\n          case 'g':\n            style = parseStyle(node, style)\n            break\n\n          case 'path':\n            style = parseStyle(node, style)\n            if (node.hasAttribute('d')) path = parsePathNode(node)\n            break\n\n          case 'rect':\n            style = parseStyle(node, style)\n            path = parseRectNode(node)\n            break\n\n          case 'polygon':\n            style = parseStyle(node, style)\n            path = parsePolygonNode(node)\n            break\n\n          case 'polyline':\n            style = parseStyle(node, style)\n            path = parsePolylineNode(node)\n            break\n\n          case 'circle':\n            style = parseStyle(node, style)\n            path = parseCircleNode(node)\n            break\n\n          case 'ellipse':\n            style = parseStyle(node, style)\n            path = parseEllipseNode(node)\n            break\n\n          case 'line':\n            style = parseStyle(node, style)\n            path = parseLineNode(node)\n            break\n\n          case 'defs':\n            isDefsNode = true\n            break\n\n          case 'use':\n            style = parseStyle(node, style)\n\n            const href = node.getAttributeNS('http://www.w3.org/1999/xlink', 'href') || ''\n            const usedNodeId = href.substring(1)\n            const usedNode = node.viewportElement.getElementById(usedNodeId)\n            if (usedNode) {\n              parseNode(usedNode, style)\n            } else {\n              console.warn(\"SVGLoader: 'use node' references non-existent node id: \" + usedNodeId)\n            }\n\n            break\n\n          default:\n          // console.log( node );\n        }\n\n        if (path) {\n          if (style.fill !== undefined && style.fill !== 'none') {\n            path.color.setStyle(style.fill, COLOR_SPACE_SVG)\n          }\n\n          transformPath(path, currentTransform)\n\n          paths.push(path)\n\n          path.userData = { node: node, style: style }\n        }\n\n        const childNodes = node.childNodes\n\n        for (let i = 0; i < childNodes.length; i++) {\n          const node = childNodes[i]\n\n          if (isDefsNode && node.nodeName !== 'style' && node.nodeName !== 'defs') {\n            // Ignore everything in defs except CSS style definitions\n            // and nested defs, because it is OK by the standard to have\n            // <style/> there.\n            continue\n          }\n\n          parseNode(node, style)\n        }\n\n        if (transform) {\n          transformStack.pop()\n\n          if (transformStack.length > 0) {\n            currentTransform.copy(transformStack[transformStack.length - 1])\n          } else {\n            currentTransform.identity()\n          }\n        }\n      }\n\n      function parsePathNode(node) {\n        const path = new ShapePath()\n\n        const point = new Vector2()\n        const control = new Vector2()\n\n        const firstPoint = new Vector2()\n        let isFirstPoint = true\n        let doSetFirstPoint = false\n\n        const d = node.getAttribute('d')\n\n        if (d === '' || d === 'none') return null\n\n        // console.log( d );\n\n        const commands = d.match(/[a-df-z][^a-df-z]*/gi)\n\n        for (let i = 0, l = commands.length; i < l; i++) {\n          const command = commands[i]\n\n          const type = command.charAt(0)\n          const data = command.slice(1).trim()\n\n          if (isFirstPoint === true) {\n            doSetFirstPoint = true\n            isFirstPoint = false\n          }\n\n          let numbers\n\n          switch (type) {\n            case 'M':\n              numbers = parseFloats(data)\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                point.x = numbers[j + 0]\n                point.y = numbers[j + 1]\n                control.x = point.x\n                control.y = point.y\n\n                if (j === 0) {\n                  path.moveTo(point.x, point.y)\n                } else {\n                  path.lineTo(point.x, point.y)\n                }\n\n                if (j === 0) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'H':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j++) {\n                point.x = numbers[j]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'V':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j++) {\n                point.y = numbers[j]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'L':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                point.x = numbers[j + 0]\n                point.y = numbers[j + 1]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'C':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 6) {\n                path.bezierCurveTo(\n                  numbers[j + 0],\n                  numbers[j + 1],\n                  numbers[j + 2],\n                  numbers[j + 3],\n                  numbers[j + 4],\n                  numbers[j + 5],\n                )\n                control.x = numbers[j + 2]\n                control.y = numbers[j + 3]\n                point.x = numbers[j + 4]\n                point.y = numbers[j + 5]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'S':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n                path.bezierCurveTo(\n                  getReflection(point.x, control.x),\n                  getReflection(point.y, control.y),\n                  numbers[j + 0],\n                  numbers[j + 1],\n                  numbers[j + 2],\n                  numbers[j + 3],\n                )\n                control.x = numbers[j + 0]\n                control.y = numbers[j + 1]\n                point.x = numbers[j + 2]\n                point.y = numbers[j + 3]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'Q':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n                path.quadraticCurveTo(numbers[j + 0], numbers[j + 1], numbers[j + 2], numbers[j + 3])\n                control.x = numbers[j + 0]\n                control.y = numbers[j + 1]\n                point.x = numbers[j + 2]\n                point.y = numbers[j + 3]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'T':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                const rx = getReflection(point.x, control.x)\n                const ry = getReflection(point.y, control.y)\n                path.quadraticCurveTo(rx, ry, numbers[j + 0], numbers[j + 1])\n                control.x = rx\n                control.y = ry\n                point.x = numbers[j + 0]\n                point.y = numbers[j + 1]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'A':\n              numbers = parseFloats(data, [3, 4], 7)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 7) {\n                // skip command if start point == end point\n                if (numbers[j + 5] == point.x && numbers[j + 6] == point.y) continue\n\n                const start = point.clone()\n                point.x = numbers[j + 5]\n                point.y = numbers[j + 6]\n                control.x = point.x\n                control.y = point.y\n                parseArcCommand(\n                  path,\n                  numbers[j],\n                  numbers[j + 1],\n                  numbers[j + 2],\n                  numbers[j + 3],\n                  numbers[j + 4],\n                  start,\n                  point,\n                )\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'm':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                point.x += numbers[j + 0]\n                point.y += numbers[j + 1]\n                control.x = point.x\n                control.y = point.y\n\n                if (j === 0) {\n                  path.moveTo(point.x, point.y)\n                } else {\n                  path.lineTo(point.x, point.y)\n                }\n\n                if (j === 0) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'h':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j++) {\n                point.x += numbers[j]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'v':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j++) {\n                point.y += numbers[j]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'l':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                point.x += numbers[j + 0]\n                point.y += numbers[j + 1]\n                control.x = point.x\n                control.y = point.y\n                path.lineTo(point.x, point.y)\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'c':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 6) {\n                path.bezierCurveTo(\n                  point.x + numbers[j + 0],\n                  point.y + numbers[j + 1],\n                  point.x + numbers[j + 2],\n                  point.y + numbers[j + 3],\n                  point.x + numbers[j + 4],\n                  point.y + numbers[j + 5],\n                )\n                control.x = point.x + numbers[j + 2]\n                control.y = point.y + numbers[j + 3]\n                point.x += numbers[j + 4]\n                point.y += numbers[j + 5]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 's':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n                path.bezierCurveTo(\n                  getReflection(point.x, control.x),\n                  getReflection(point.y, control.y),\n                  point.x + numbers[j + 0],\n                  point.y + numbers[j + 1],\n                  point.x + numbers[j + 2],\n                  point.y + numbers[j + 3],\n                )\n                control.x = point.x + numbers[j + 0]\n                control.y = point.y + numbers[j + 1]\n                point.x += numbers[j + 2]\n                point.y += numbers[j + 3]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'q':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 4) {\n                path.quadraticCurveTo(\n                  point.x + numbers[j + 0],\n                  point.y + numbers[j + 1],\n                  point.x + numbers[j + 2],\n                  point.y + numbers[j + 3],\n                )\n                control.x = point.x + numbers[j + 0]\n                control.y = point.y + numbers[j + 1]\n                point.x += numbers[j + 2]\n                point.y += numbers[j + 3]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 't':\n              numbers = parseFloats(data)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 2) {\n                const rx = getReflection(point.x, control.x)\n                const ry = getReflection(point.y, control.y)\n                path.quadraticCurveTo(rx, ry, point.x + numbers[j + 0], point.y + numbers[j + 1])\n                control.x = rx\n                control.y = ry\n                point.x = point.x + numbers[j + 0]\n                point.y = point.y + numbers[j + 1]\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'a':\n              numbers = parseFloats(data, [3, 4], 7)\n\n              for (let j = 0, jl = numbers.length; j < jl; j += 7) {\n                // skip command if no displacement\n                if (numbers[j + 5] == 0 && numbers[j + 6] == 0) continue\n\n                const start = point.clone()\n                point.x += numbers[j + 5]\n                point.y += numbers[j + 6]\n                control.x = point.x\n                control.y = point.y\n                parseArcCommand(\n                  path,\n                  numbers[j],\n                  numbers[j + 1],\n                  numbers[j + 2],\n                  numbers[j + 3],\n                  numbers[j + 4],\n                  start,\n                  point,\n                )\n\n                if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\n              }\n\n              break\n\n            case 'Z':\n            case 'z':\n              path.currentPath.autoClose = true\n\n              if (path.currentPath.curves.length > 0) {\n                // Reset point to beginning of Path\n                point.copy(firstPoint)\n                path.currentPath.currentPoint.copy(point)\n                isFirstPoint = true\n              }\n\n              break\n\n            default:\n              console.warn(command)\n          }\n\n          // console.log( type, parseFloats( data ), parseFloats( data ).length  )\n\n          doSetFirstPoint = false\n        }\n\n        return path\n      }\n\n      function parseCSSStylesheet(node) {\n        if (!node.sheet || !node.sheet.cssRules || !node.sheet.cssRules.length) return\n\n        for (let i = 0; i < node.sheet.cssRules.length; i++) {\n          const stylesheet = node.sheet.cssRules[i]\n\n          if (stylesheet.type !== 1) continue\n\n          const selectorList = stylesheet.selectorText\n            .split(/,/gm)\n            .filter(Boolean)\n            .map((i) => i.trim())\n\n          for (let j = 0; j < selectorList.length; j++) {\n            // Remove empty rules\n            const definitions = Object.fromEntries(Object.entries(stylesheet.style).filter(([, v]) => v !== ''))\n\n            stylesheets[selectorList[j]] = Object.assign(stylesheets[selectorList[j]] || {}, definitions)\n          }\n        }\n      }\n\n      /**\n       * https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n       * https://mortoray.com/2017/02/16/rendering-an-svg-elliptical-arc-as-bezier-curves/ Appendix: Endpoint to center arc conversion\n       * From\n       * rx ry x-axis-rotation large-arc-flag sweep-flag x y\n       * To\n       * aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation\n       */\n\n      function parseArcCommand(path, rx, ry, x_axis_rotation, large_arc_flag, sweep_flag, start, end) {\n        if (rx == 0 || ry == 0) {\n          // draw a line if either of the radii == 0\n          path.lineTo(end.x, end.y)\n          return\n        }\n\n        x_axis_rotation = (x_axis_rotation * Math.PI) / 180\n\n        // Ensure radii are positive\n        rx = Math.abs(rx)\n        ry = Math.abs(ry)\n\n        // Compute (x1', y1')\n        const dx2 = (start.x - end.x) / 2.0\n        const dy2 = (start.y - end.y) / 2.0\n        const x1p = Math.cos(x_axis_rotation) * dx2 + Math.sin(x_axis_rotation) * dy2\n        const y1p = -Math.sin(x_axis_rotation) * dx2 + Math.cos(x_axis_rotation) * dy2\n\n        // Compute (cx', cy')\n        let rxs = rx * rx\n        let rys = ry * ry\n        const x1ps = x1p * x1p\n        const y1ps = y1p * y1p\n\n        // Ensure radii are large enough\n        const cr = x1ps / rxs + y1ps / rys\n\n        if (cr > 1) {\n          // scale up rx,ry equally so cr == 1\n          const s = Math.sqrt(cr)\n          rx = s * rx\n          ry = s * ry\n          rxs = rx * rx\n          rys = ry * ry\n        }\n\n        const dq = rxs * y1ps + rys * x1ps\n        const pq = (rxs * rys - dq) / dq\n        let q = Math.sqrt(Math.max(0, pq))\n        if (large_arc_flag === sweep_flag) q = -q\n        const cxp = (q * rx * y1p) / ry\n        const cyp = (-q * ry * x1p) / rx\n\n        // Step 3: Compute (cx, cy) from (cx', cy')\n        const cx = Math.cos(x_axis_rotation) * cxp - Math.sin(x_axis_rotation) * cyp + (start.x + end.x) / 2\n        const cy = Math.sin(x_axis_rotation) * cxp + Math.cos(x_axis_rotation) * cyp + (start.y + end.y) / 2\n\n        // Step 4: Compute 1 and \n        const theta = svgAngle(1, 0, (x1p - cxp) / rx, (y1p - cyp) / ry)\n        const delta = svgAngle((x1p - cxp) / rx, (y1p - cyp) / ry, (-x1p - cxp) / rx, (-y1p - cyp) / ry) % (Math.PI * 2)\n\n        path.currentPath.absellipse(cx, cy, rx, ry, theta, theta + delta, sweep_flag === 0, x_axis_rotation)\n      }\n\n      function svgAngle(ux, uy, vx, vy) {\n        const dot = ux * vx + uy * vy\n        const len = Math.sqrt(ux * ux + uy * uy) * Math.sqrt(vx * vx + vy * vy)\n        let ang = Math.acos(Math.max(-1, Math.min(1, dot / len))) // floating point precision, slightly over values appear\n        if (ux * vy - uy * vx < 0) ang = -ang\n        return ang\n      }\n\n      /*\n       * According to https://www.w3.org/TR/SVG/shapes.html#RectElementRXAttribute\n       * rounded corner should be rendered to elliptical arc, but bezier curve does the job well enough\n       */\n      function parseRectNode(node) {\n        const x = parseFloatWithUnits(node.getAttribute('x') || 0)\n        const y = parseFloatWithUnits(node.getAttribute('y') || 0)\n        const rx = parseFloatWithUnits(node.getAttribute('rx') || node.getAttribute('ry') || 0)\n        const ry = parseFloatWithUnits(node.getAttribute('ry') || node.getAttribute('rx') || 0)\n        const w = parseFloatWithUnits(node.getAttribute('width'))\n        const h = parseFloatWithUnits(node.getAttribute('height'))\n\n        // Ellipse arc to Bezier approximation Coefficient (Inversed). See:\n        // https://spencermortensen.com/articles/bezier-circle/\n        const bci = 1 - 0.551915024494\n\n        const path = new ShapePath()\n\n        // top left\n        path.moveTo(x + rx, y)\n\n        // top right\n        path.lineTo(x + w - rx, y)\n        if (rx !== 0 || ry !== 0) {\n          path.bezierCurveTo(x + w - rx * bci, y, x + w, y + ry * bci, x + w, y + ry)\n        }\n\n        // bottom right\n        path.lineTo(x + w, y + h - ry)\n        if (rx !== 0 || ry !== 0) {\n          path.bezierCurveTo(x + w, y + h - ry * bci, x + w - rx * bci, y + h, x + w - rx, y + h)\n        }\n\n        // bottom left\n        path.lineTo(x + rx, y + h)\n        if (rx !== 0 || ry !== 0) {\n          path.bezierCurveTo(x + rx * bci, y + h, x, y + h - ry * bci, x, y + h - ry)\n        }\n\n        // back to top left\n        path.lineTo(x, y + ry)\n        if (rx !== 0 || ry !== 0) {\n          path.bezierCurveTo(x, y + ry * bci, x + rx * bci, y, x + rx, y)\n        }\n\n        return path\n      }\n\n      function parsePolygonNode(node) {\n        function iterator(match, a, b) {\n          const x = parseFloatWithUnits(a)\n          const y = parseFloatWithUnits(b)\n\n          if (index === 0) {\n            path.moveTo(x, y)\n          } else {\n            path.lineTo(x, y)\n          }\n\n          index++\n        }\n\n        const regex = /([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)(?:,|\\s)([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)/g\n\n        const path = new ShapePath()\n\n        let index = 0\n\n        node.getAttribute('points').replace(regex, iterator)\n\n        path.currentPath.autoClose = true\n\n        return path\n      }\n\n      function parsePolylineNode(node) {\n        function iterator(match, a, b) {\n          const x = parseFloatWithUnits(a)\n          const y = parseFloatWithUnits(b)\n\n          if (index === 0) {\n            path.moveTo(x, y)\n          } else {\n            path.lineTo(x, y)\n          }\n\n          index++\n        }\n\n        const regex = /([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)(?:,|\\s)([+-]?\\d*\\.?\\d+(?:e[+-]?\\d+)?)/g\n\n        const path = new ShapePath()\n\n        let index = 0\n\n        node.getAttribute('points').replace(regex, iterator)\n\n        path.currentPath.autoClose = false\n\n        return path\n      }\n\n      function parseCircleNode(node) {\n        const x = parseFloatWithUnits(node.getAttribute('cx') || 0)\n        const y = parseFloatWithUnits(node.getAttribute('cy') || 0)\n        const r = parseFloatWithUnits(node.getAttribute('r') || 0)\n\n        const subpath = new Path()\n        subpath.absarc(x, y, r, 0, Math.PI * 2)\n\n        const path = new ShapePath()\n        path.subPaths.push(subpath)\n\n        return path\n      }\n\n      function parseEllipseNode(node) {\n        const x = parseFloatWithUnits(node.getAttribute('cx') || 0)\n        const y = parseFloatWithUnits(node.getAttribute('cy') || 0)\n        const rx = parseFloatWithUnits(node.getAttribute('rx') || 0)\n        const ry = parseFloatWithUnits(node.getAttribute('ry') || 0)\n\n        const subpath = new Path()\n        subpath.absellipse(x, y, rx, ry, 0, Math.PI * 2)\n\n        const path = new ShapePath()\n        path.subPaths.push(subpath)\n\n        return path\n      }\n\n      function parseLineNode(node) {\n        const x1 = parseFloatWithUnits(node.getAttribute('x1') || 0)\n        const y1 = parseFloatWithUnits(node.getAttribute('y1') || 0)\n        const x2 = parseFloatWithUnits(node.getAttribute('x2') || 0)\n        const y2 = parseFloatWithUnits(node.getAttribute('y2') || 0)\n\n        const path = new ShapePath()\n        path.moveTo(x1, y1)\n        path.lineTo(x2, y2)\n        path.currentPath.autoClose = false\n\n        return path\n      }\n\n      //\n\n      function parseStyle(node, style) {\n        style = Object.assign({}, style) // clone style\n\n        let stylesheetStyles = {}\n\n        if (node.hasAttribute('class')) {\n          const classSelectors = node\n            .getAttribute('class')\n            .split(/\\s/)\n            .filter(Boolean)\n            .map((i) => i.trim())\n\n          for (let i = 0; i < classSelectors.length; i++) {\n            stylesheetStyles = Object.assign(stylesheetStyles, stylesheets['.' + classSelectors[i]])\n          }\n        }\n\n        if (node.hasAttribute('id')) {\n          stylesheetStyles = Object.assign(stylesheetStyles, stylesheets['#' + node.getAttribute('id')])\n        }\n\n        function addStyle(svgName, jsName, adjustFunction) {\n          if (adjustFunction === undefined)\n            adjustFunction = function copy(v) {\n              if (v.startsWith('url')) console.warn('SVGLoader: url access in attributes is not implemented.')\n\n              return v\n            }\n\n          if (node.hasAttribute(svgName)) style[jsName] = adjustFunction(node.getAttribute(svgName))\n          if (stylesheetStyles[svgName]) style[jsName] = adjustFunction(stylesheetStyles[svgName])\n          if (node.style && node.style[svgName] !== '') style[jsName] = adjustFunction(node.style[svgName])\n        }\n\n        function clamp(v) {\n          return Math.max(0, Math.min(1, parseFloatWithUnits(v)))\n        }\n\n        function positive(v) {\n          return Math.max(0, parseFloatWithUnits(v))\n        }\n\n        addStyle('fill', 'fill')\n        addStyle('fill-opacity', 'fillOpacity', clamp)\n        addStyle('fill-rule', 'fillRule')\n        addStyle('opacity', 'opacity', clamp)\n        addStyle('stroke', 'stroke')\n        addStyle('stroke-opacity', 'strokeOpacity', clamp)\n        addStyle('stroke-width', 'strokeWidth', positive)\n        addStyle('stroke-linejoin', 'strokeLineJoin')\n        addStyle('stroke-linecap', 'strokeLineCap')\n        addStyle('stroke-miterlimit', 'strokeMiterLimit', positive)\n        addStyle('visibility', 'visibility')\n\n        return style\n      }\n\n      // http://www.w3.org/TR/SVG11/implnote.html#PathElementImplementationNotes\n\n      function getReflection(a, b) {\n        return a - (b - a)\n      }\n\n      // from https://github.com/ppvg/svg-numbers (MIT License)\n\n      function parseFloats(input, flags, stride) {\n        if (typeof input !== 'string') {\n          throw new TypeError('Invalid input: ' + typeof input)\n        }\n\n        // Character groups\n        const RE = {\n          SEPARATOR: /[ \\t\\r\\n\\,.\\-+]/,\n          WHITESPACE: /[ \\t\\r\\n]/,\n          DIGIT: /[\\d]/,\n          SIGN: /[-+]/,\n          POINT: /\\./,\n          COMMA: /,/,\n          EXP: /e/i,\n          FLAGS: /[01]/,\n        }\n\n        // States\n        const SEP = 0\n        const INT = 1\n        const FLOAT = 2\n        const EXP = 3\n\n        let state = SEP\n        let seenComma = true\n        let number = '',\n          exponent = ''\n        const result = []\n\n        function throwSyntaxError(current, i, partial) {\n          const error = new SyntaxError('Unexpected character \"' + current + '\" at index ' + i + '.')\n          error.partial = partial\n          throw error\n        }\n\n        function newNumber() {\n          if (number !== '') {\n            if (exponent === '') result.push(Number(number))\n            else result.push(Number(number) * Math.pow(10, Number(exponent)))\n          }\n\n          number = ''\n          exponent = ''\n        }\n\n        let current\n        const length = input.length\n\n        for (let i = 0; i < length; i++) {\n          current = input[i]\n\n          // check for flags\n          if (Array.isArray(flags) && flags.includes(result.length % stride) && RE.FLAGS.test(current)) {\n            state = INT\n            number = current\n            newNumber()\n            continue\n          }\n\n          // parse until next number\n          if (state === SEP) {\n            // eat whitespace\n            if (RE.WHITESPACE.test(current)) {\n              continue\n            }\n\n            // start new number\n            if (RE.DIGIT.test(current) || RE.SIGN.test(current)) {\n              state = INT\n              number = current\n              continue\n            }\n\n            if (RE.POINT.test(current)) {\n              state = FLOAT\n              number = current\n              continue\n            }\n\n            // throw on double commas (e.g. \"1, , 2\")\n            if (RE.COMMA.test(current)) {\n              if (seenComma) {\n                throwSyntaxError(current, i, result)\n              }\n\n              seenComma = true\n            }\n          }\n\n          // parse integer part\n          if (state === INT) {\n            if (RE.DIGIT.test(current)) {\n              number += current\n              continue\n            }\n\n            if (RE.POINT.test(current)) {\n              number += current\n              state = FLOAT\n              continue\n            }\n\n            if (RE.EXP.test(current)) {\n              state = EXP\n              continue\n            }\n\n            // throw on double signs (\"-+1\"), but not on sign as separator (\"-1-2\")\n            if (RE.SIGN.test(current) && number.length === 1 && RE.SIGN.test(number[0])) {\n              throwSyntaxError(current, i, result)\n            }\n          }\n\n          // parse decimal part\n          if (state === FLOAT) {\n            if (RE.DIGIT.test(current)) {\n              number += current\n              continue\n            }\n\n            if (RE.EXP.test(current)) {\n              state = EXP\n              continue\n            }\n\n            // throw on double decimal points (e.g. \"1..2\")\n            if (RE.POINT.test(current) && number[number.length - 1] === '.') {\n              throwSyntaxError(current, i, result)\n            }\n          }\n\n          // parse exponent part\n          if (state === EXP) {\n            if (RE.DIGIT.test(current)) {\n              exponent += current\n              continue\n            }\n\n            if (RE.SIGN.test(current)) {\n              if (exponent === '') {\n                exponent += current\n                continue\n              }\n\n              if (exponent.length === 1 && RE.SIGN.test(exponent)) {\n                throwSyntaxError(current, i, result)\n              }\n            }\n          }\n\n          // end of number\n          if (RE.WHITESPACE.test(current)) {\n            newNumber()\n            state = SEP\n            seenComma = false\n          } else if (RE.COMMA.test(current)) {\n            newNumber()\n            state = SEP\n            seenComma = true\n          } else if (RE.SIGN.test(current)) {\n            newNumber()\n            state = INT\n            number = current\n          } else if (RE.POINT.test(current)) {\n            newNumber()\n            state = FLOAT\n            number = current\n          } else {\n            throwSyntaxError(current, i, result)\n          }\n        }\n\n        // add the last number found (if any)\n        newNumber()\n\n        return result\n      }\n\n      // Units\n\n      const units = ['mm', 'cm', 'in', 'pt', 'pc', 'px']\n\n      // Conversion: [ fromUnit ][ toUnit ] (-1 means dpi dependent)\n      const unitConversion = {\n        mm: {\n          mm: 1,\n          cm: 0.1,\n          in: 1 / 25.4,\n          pt: 72 / 25.4,\n          pc: 6 / 25.4,\n          px: -1,\n        },\n        cm: {\n          mm: 10,\n          cm: 1,\n          in: 1 / 2.54,\n          pt: 72 / 2.54,\n          pc: 6 / 2.54,\n          px: -1,\n        },\n        in: {\n          mm: 25.4,\n          cm: 2.54,\n          in: 1,\n          pt: 72,\n          pc: 6,\n          px: -1,\n        },\n        pt: {\n          mm: 25.4 / 72,\n          cm: 2.54 / 72,\n          in: 1 / 72,\n          pt: 1,\n          pc: 6 / 72,\n          px: -1,\n        },\n        pc: {\n          mm: 25.4 / 6,\n          cm: 2.54 / 6,\n          in: 1 / 6,\n          pt: 72 / 6,\n          pc: 1,\n          px: -1,\n        },\n        px: {\n          px: 1,\n        },\n      }\n\n      function parseFloatWithUnits(string) {\n        let theUnit = 'px'\n\n        if (typeof string === 'string' || string instanceof String) {\n          for (let i = 0, n = units.length; i < n; i++) {\n            const u = units[i]\n\n            if (string.endsWith(u)) {\n              theUnit = u\n              string = string.substring(0, string.length - u.length)\n              break\n            }\n          }\n        }\n\n        let scale = undefined\n\n        if (theUnit === 'px' && scope.defaultUnit !== 'px') {\n          // Conversion scale from  pixels to inches, then to default units\n\n          scale = unitConversion['in'][scope.defaultUnit] / scope.defaultDPI\n        } else {\n          scale = unitConversion[theUnit][scope.defaultUnit]\n\n          if (scale < 0) {\n            // Conversion scale to pixels\n\n            scale = unitConversion[theUnit]['in'] * scope.defaultDPI\n          }\n        }\n\n        return scale * parseFloat(string)\n      }\n\n      // Transforms\n\n      function getNodeTransform(node) {\n        if (\n          !(\n            node.hasAttribute('transform') ||\n            (node.nodeName === 'use' && (node.hasAttribute('x') || node.hasAttribute('y')))\n          )\n        ) {\n          return null\n        }\n\n        const transform = parseNodeTransform(node)\n\n        if (transformStack.length > 0) {\n          transform.premultiply(transformStack[transformStack.length - 1])\n        }\n\n        currentTransform.copy(transform)\n        transformStack.push(transform)\n\n        return transform\n      }\n\n      function parseNodeTransform(node) {\n        const transform = new Matrix3()\n        const currentTransform = tempTransform0\n\n        if (node.nodeName === 'use' && (node.hasAttribute('x') || node.hasAttribute('y'))) {\n          const tx = parseFloatWithUnits(node.getAttribute('x'))\n          const ty = parseFloatWithUnits(node.getAttribute('y'))\n\n          transform.translate(tx, ty)\n        }\n\n        if (node.hasAttribute('transform')) {\n          const transformsTexts = node.getAttribute('transform').split(')')\n\n          for (let tIndex = transformsTexts.length - 1; tIndex >= 0; tIndex--) {\n            const transformText = transformsTexts[tIndex].trim()\n\n            if (transformText === '') continue\n\n            const openParPos = transformText.indexOf('(')\n            const closeParPos = transformText.length\n\n            if (openParPos > 0 && openParPos < closeParPos) {\n              const transformType = transformText.slice(0, openParPos)\n\n              const array = parseFloats(transformText.slice(openParPos + 1))\n\n              currentTransform.identity()\n\n              switch (transformType) {\n                case 'translate':\n                  if (array.length >= 1) {\n                    const tx = array[0]\n                    let ty = 0\n\n                    if (array.length >= 2) {\n                      ty = array[1]\n                    }\n\n                    currentTransform.translate(tx, ty)\n                  }\n\n                  break\n\n                case 'rotate':\n                  if (array.length >= 1) {\n                    let angle = 0\n                    let cx = 0\n                    let cy = 0\n\n                    // Angle\n                    angle = (array[0] * Math.PI) / 180\n\n                    if (array.length >= 3) {\n                      // Center x, y\n                      cx = array[1]\n                      cy = array[2]\n                    }\n\n                    // Rotate around center (cx, cy)\n                    tempTransform1.makeTranslation(-cx, -cy)\n                    tempTransform2.makeRotation(angle)\n                    tempTransform3.multiplyMatrices(tempTransform2, tempTransform1)\n                    tempTransform1.makeTranslation(cx, cy)\n                    currentTransform.multiplyMatrices(tempTransform1, tempTransform3)\n                  }\n\n                  break\n\n                case 'scale':\n                  if (array.length >= 1) {\n                    const scaleX = array[0]\n                    let scaleY = scaleX\n\n                    if (array.length >= 2) {\n                      scaleY = array[1]\n                    }\n\n                    currentTransform.scale(scaleX, scaleY)\n                  }\n\n                  break\n\n                case 'skewX':\n                  if (array.length === 1) {\n                    currentTransform.set(1, Math.tan((array[0] * Math.PI) / 180), 0, 0, 1, 0, 0, 0, 1)\n                  }\n\n                  break\n\n                case 'skewY':\n                  if (array.length === 1) {\n                    currentTransform.set(1, 0, 0, Math.tan((array[0] * Math.PI) / 180), 1, 0, 0, 0, 1)\n                  }\n\n                  break\n\n                case 'matrix':\n                  if (array.length === 6) {\n                    currentTransform.set(array[0], array[2], array[4], array[1], array[3], array[5], 0, 0, 1)\n                  }\n\n                  break\n              }\n            }\n\n            transform.premultiply(currentTransform)\n          }\n        }\n\n        return transform\n      }\n\n      function transformPath(path, m) {\n        function transfVec2(v2) {\n          tempV3.set(v2.x, v2.y, 1).applyMatrix3(m)\n\n          v2.set(tempV3.x, tempV3.y)\n        }\n\n        function transfEllipseGeneric(curve) {\n          // For math description see:\n          // https://math.stackexchange.com/questions/4544164\n\n          const a = curve.xRadius\n          const b = curve.yRadius\n\n          const cosTheta = Math.cos(curve.aRotation)\n          const sinTheta = Math.sin(curve.aRotation)\n\n          const v1 = new Vector3(a * cosTheta, a * sinTheta, 0)\n          const v2 = new Vector3(-b * sinTheta, b * cosTheta, 0)\n\n          const f1 = v1.applyMatrix3(m)\n          const f2 = v2.applyMatrix3(m)\n\n          const mF = tempTransform0.set(f1.x, f2.x, 0, f1.y, f2.y, 0, 0, 0, 1)\n\n          const mFInv = tempTransform1.copy(mF).invert()\n          const mFInvT = tempTransform2.copy(mFInv).transpose()\n          const mQ = mFInvT.multiply(mFInv)\n          const mQe = mQ.elements\n\n          const ed = eigenDecomposition(mQe[0], mQe[1], mQe[4])\n          const rt1sqrt = Math.sqrt(ed.rt1)\n          const rt2sqrt = Math.sqrt(ed.rt2)\n\n          curve.xRadius = 1 / rt1sqrt\n          curve.yRadius = 1 / rt2sqrt\n          curve.aRotation = Math.atan2(ed.sn, ed.cs)\n\n          const isFullEllipse = (curve.aEndAngle - curve.aStartAngle) % (2 * Math.PI) < Number.EPSILON\n\n          // Do not touch angles of a full ellipse because after transformation they\n          // would converge to a sinle value effectively removing the whole curve\n\n          if (!isFullEllipse) {\n            const mDsqrt = tempTransform1.set(rt1sqrt, 0, 0, 0, rt2sqrt, 0, 0, 0, 1)\n\n            const mRT = tempTransform2.set(ed.cs, ed.sn, 0, -ed.sn, ed.cs, 0, 0, 0, 1)\n\n            const mDRF = mDsqrt.multiply(mRT).multiply(mF)\n\n            const transformAngle = (phi) => {\n              const { x: cosR, y: sinR } = new Vector3(Math.cos(phi), Math.sin(phi), 0).applyMatrix3(mDRF)\n\n              return Math.atan2(sinR, cosR)\n            }\n\n            curve.aStartAngle = transformAngle(curve.aStartAngle)\n            curve.aEndAngle = transformAngle(curve.aEndAngle)\n\n            if (isTransformFlipped(m)) {\n              curve.aClockwise = !curve.aClockwise\n            }\n          }\n        }\n\n        function transfEllipseNoSkew(curve) {\n          // Faster shortcut if no skew is applied\n          // (e.g, a euclidean transform of a group containing the ellipse)\n\n          const sx = getTransformScaleX(m)\n          const sy = getTransformScaleY(m)\n\n          curve.xRadius *= sx\n          curve.yRadius *= sy\n\n          // Extract rotation angle from the matrix of form:\n          //\n          //  | cos sx   -sin sy |\n          //  | sin sx    cos sy |\n          //\n          // Remembering that tan = sin / cos; and that\n          // `sx`, `sy`, or both might be zero.\n          const theta =\n            sx > Number.EPSILON ? Math.atan2(m.elements[1], m.elements[0]) : Math.atan2(-m.elements[3], m.elements[4])\n\n          curve.aRotation += theta\n\n          if (isTransformFlipped(m)) {\n            curve.aStartAngle *= -1\n            curve.aEndAngle *= -1\n            curve.aClockwise = !curve.aClockwise\n          }\n        }\n\n        const subPaths = path.subPaths\n\n        for (let i = 0, n = subPaths.length; i < n; i++) {\n          const subPath = subPaths[i]\n          const curves = subPath.curves\n\n          for (let j = 0; j < curves.length; j++) {\n            const curve = curves[j]\n\n            if (curve.isLineCurve) {\n              transfVec2(curve.v1)\n              transfVec2(curve.v2)\n            } else if (curve.isCubicBezierCurve) {\n              transfVec2(curve.v0)\n              transfVec2(curve.v1)\n              transfVec2(curve.v2)\n              transfVec2(curve.v3)\n            } else if (curve.isQuadraticBezierCurve) {\n              transfVec2(curve.v0)\n              transfVec2(curve.v1)\n              transfVec2(curve.v2)\n            } else if (curve.isEllipseCurve) {\n              // Transform ellipse center point\n\n              tempV2.set(curve.aX, curve.aY)\n              transfVec2(tempV2)\n              curve.aX = tempV2.x\n              curve.aY = tempV2.y\n\n              // Transform ellipse shape parameters\n\n              if (isTransformSkewed(m)) {\n                transfEllipseGeneric(curve)\n              } else {\n                transfEllipseNoSkew(curve)\n              }\n            }\n          }\n        }\n      }\n\n      function isTransformFlipped(m) {\n        const te = m.elements\n        return te[0] * te[4] - te[1] * te[3] < 0\n      }\n\n      function isTransformSkewed(m) {\n        const te = m.elements\n        const basisDot = te[0] * te[3] + te[1] * te[4]\n\n        // Shortcut for trivial rotations and transformations\n        if (basisDot === 0) return false\n\n        const sx = getTransformScaleX(m)\n        const sy = getTransformScaleY(m)\n\n        return Math.abs(basisDot / (sx * sy)) > Number.EPSILON\n      }\n\n      function getTransformScaleX(m) {\n        const te = m.elements\n        return Math.sqrt(te[0] * te[0] + te[1] * te[1])\n      }\n\n      function getTransformScaleY(m) {\n        const te = m.elements\n        return Math.sqrt(te[3] * te[3] + te[4] * te[4])\n      }\n\n      // Calculates the eigensystem of a real symmetric 2x2 matrix\n      //    [ A  B ]\n      //    [ B  C ]\n      // in the form\n      //    [ A  B ]  =  [ cs  -sn ] [ rt1   0  ] [  cs  sn ]\n      //    [ B  C ]     [ sn   cs ] [  0   rt2 ] [ -sn  cs ]\n      // where rt1 >= rt2.\n      //\n      // Adapted from: https://www.mpi-hd.mpg.de/personalhomes/globes/3x3/index.html\n      // -> Algorithms for real symmetric matrices -> Analytical (2x2 symmetric)\n      function eigenDecomposition(A, B, C) {\n        let rt1, rt2, cs, sn, t\n        const sm = A + C\n        const df = A - C\n        const rt = Math.sqrt(df * df + 4 * B * B)\n\n        if (sm > 0) {\n          rt1 = 0.5 * (sm + rt)\n          t = 1 / rt1\n          rt2 = A * t * C - B * t * B\n        } else if (sm < 0) {\n          rt2 = 0.5 * (sm - rt)\n        } else {\n          // This case needs to be treated separately to avoid div by 0\n\n          rt1 = 0.5 * rt\n          rt2 = -0.5 * rt\n        }\n\n        // Calculate eigenvectors\n\n        if (df > 0) {\n          cs = df + rt\n        } else {\n          cs = df - rt\n        }\n\n        if (Math.abs(cs) > 2 * Math.abs(B)) {\n          t = (-2 * B) / cs\n          sn = 1 / Math.sqrt(1 + t * t)\n          cs = t * sn\n        } else if (Math.abs(B) === 0) {\n          cs = 1\n          sn = 0\n        } else {\n          t = (-0.5 * cs) / B\n          cs = 1 / Math.sqrt(1 + t * t)\n          sn = t * cs\n        }\n\n        if (df > 0) {\n          t = cs\n          cs = -sn\n          sn = t\n        }\n\n        return { rt1, rt2, cs, sn }\n      }\n\n      //\n\n      const paths = []\n      const stylesheets = {}\n\n      const transformStack = []\n\n      const tempTransform0 = new Matrix3()\n      const tempTransform1 = new Matrix3()\n      const tempTransform2 = new Matrix3()\n      const tempTransform3 = new Matrix3()\n      const tempV2 = new Vector2()\n      const tempV3 = new Vector3()\n\n      const currentTransform = new Matrix3()\n\n      const xml = new DOMParser().parseFromString(text, 'image/svg+xml') // application/xml\n\n      parseNode(xml.documentElement, {\n        fill: '#000',\n        fillOpacity: 1,\n        strokeOpacity: 1,\n        strokeWidth: 1,\n        strokeLineJoin: 'miter',\n        strokeLineCap: 'butt',\n        strokeMiterLimit: 4,\n      })\n\n      const data = { paths: paths, xml: xml.documentElement }\n\n      // console.log( paths );\n      return data\n    }\n\n    static createShapes(shapePath) {\n      // Param shapePath: a shapepath as returned by the parse function of this class\n      // Returns Shape object\n\n      const BIGNUMBER = 999999999\n\n      const IntersectionLocationType = {\n        ORIGIN: 0,\n        DESTINATION: 1,\n        BETWEEN: 2,\n        LEFT: 3,\n        RIGHT: 4,\n        BEHIND: 5,\n        BEYOND: 6,\n      }\n\n      const classifyResult = {\n        loc: IntersectionLocationType.ORIGIN,\n        t: 0,\n      }\n\n      function findEdgeIntersection(a0, a1, b0, b1) {\n        const x1 = a0.x\n        const x2 = a1.x\n        const x3 = b0.x\n        const x4 = b1.x\n        const y1 = a0.y\n        const y2 = a1.y\n        const y3 = b0.y\n        const y4 = b1.y\n        const nom1 = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)\n        const nom2 = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)\n        const denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1)\n        const t1 = nom1 / denom\n        const t2 = nom2 / denom\n\n        if ((denom === 0 && nom1 !== 0) || t1 <= 0 || t1 >= 1 || t2 < 0 || t2 > 1) {\n          //1. lines are parallel or edges don't intersect\n\n          return null\n        } else if (nom1 === 0 && denom === 0) {\n          //2. lines are colinear\n\n          //check if endpoints of edge2 (b0-b1) lies on edge1 (a0-a1)\n          for (let i = 0; i < 2; i++) {\n            classifyPoint(i === 0 ? b0 : b1, a0, a1)\n            //find position of this endpoints relatively to edge1\n            if (classifyResult.loc == IntersectionLocationType.ORIGIN) {\n              const point = i === 0 ? b0 : b1\n              return { x: point.x, y: point.y, t: classifyResult.t }\n            } else if (classifyResult.loc == IntersectionLocationType.BETWEEN) {\n              const x = +(x1 + classifyResult.t * (x2 - x1)).toPrecision(10)\n              const y = +(y1 + classifyResult.t * (y2 - y1)).toPrecision(10)\n              return { x: x, y: y, t: classifyResult.t }\n            }\n          }\n\n          return null\n        } else {\n          //3. edges intersect\n\n          for (let i = 0; i < 2; i++) {\n            classifyPoint(i === 0 ? b0 : b1, a0, a1)\n\n            if (classifyResult.loc == IntersectionLocationType.ORIGIN) {\n              const point = i === 0 ? b0 : b1\n              return { x: point.x, y: point.y, t: classifyResult.t }\n            }\n          }\n\n          const x = +(x1 + t1 * (x2 - x1)).toPrecision(10)\n          const y = +(y1 + t1 * (y2 - y1)).toPrecision(10)\n          return { x: x, y: y, t: t1 }\n        }\n      }\n\n      function classifyPoint(p, edgeStart, edgeEnd) {\n        const ax = edgeEnd.x - edgeStart.x\n        const ay = edgeEnd.y - edgeStart.y\n        const bx = p.x - edgeStart.x\n        const by = p.y - edgeStart.y\n        const sa = ax * by - bx * ay\n\n        if (p.x === edgeStart.x && p.y === edgeStart.y) {\n          classifyResult.loc = IntersectionLocationType.ORIGIN\n          classifyResult.t = 0\n          return\n        }\n\n        if (p.x === edgeEnd.x && p.y === edgeEnd.y) {\n          classifyResult.loc = IntersectionLocationType.DESTINATION\n          classifyResult.t = 1\n          return\n        }\n\n        if (sa < -Number.EPSILON) {\n          classifyResult.loc = IntersectionLocationType.LEFT\n          return\n        }\n\n        if (sa > Number.EPSILON) {\n          classifyResult.loc = IntersectionLocationType.RIGHT\n          return\n        }\n\n        if (ax * bx < 0 || ay * by < 0) {\n          classifyResult.loc = IntersectionLocationType.BEHIND\n          return\n        }\n\n        if (Math.sqrt(ax * ax + ay * ay) < Math.sqrt(bx * bx + by * by)) {\n          classifyResult.loc = IntersectionLocationType.BEYOND\n          return\n        }\n\n        let t\n\n        if (ax !== 0) {\n          t = bx / ax\n        } else {\n          t = by / ay\n        }\n\n        classifyResult.loc = IntersectionLocationType.BETWEEN\n        classifyResult.t = t\n      }\n\n      function getIntersections(path1, path2) {\n        const intersectionsRaw = []\n        const intersections = []\n\n        for (let index = 1; index < path1.length; index++) {\n          const path1EdgeStart = path1[index - 1]\n          const path1EdgeEnd = path1[index]\n\n          for (let index2 = 1; index2 < path2.length; index2++) {\n            const path2EdgeStart = path2[index2 - 1]\n            const path2EdgeEnd = path2[index2]\n\n            const intersection = findEdgeIntersection(path1EdgeStart, path1EdgeEnd, path2EdgeStart, path2EdgeEnd)\n\n            if (\n              intersection !== null &&\n              intersectionsRaw.find(\n                (i) => i.t <= intersection.t + Number.EPSILON && i.t >= intersection.t - Number.EPSILON,\n              ) === undefined\n            ) {\n              intersectionsRaw.push(intersection)\n              intersections.push(new Vector2(intersection.x, intersection.y))\n            }\n          }\n        }\n\n        return intersections\n      }\n\n      function getScanlineIntersections(scanline, boundingBox, paths) {\n        const center = new Vector2()\n        boundingBox.getCenter(center)\n\n        const allIntersections = []\n\n        paths.forEach((path) => {\n          // check if the center of the bounding box is in the bounding box of the paths.\n          // this is a pruning method to limit the search of intersections in paths that can't envelop of the current path.\n          // if a path envelops another path. The center of that oter path, has to be inside the bounding box of the enveloping path.\n          if (path.boundingBox.containsPoint(center)) {\n            const intersections = getIntersections(scanline, path.points)\n\n            intersections.forEach((p) => {\n              allIntersections.push({ identifier: path.identifier, isCW: path.isCW, point: p })\n            })\n          }\n        })\n\n        allIntersections.sort((i1, i2) => {\n          return i1.point.x - i2.point.x\n        })\n\n        return allIntersections\n      }\n\n      function isHoleTo(simplePath, allPaths, scanlineMinX, scanlineMaxX, _fillRule) {\n        if (_fillRule === null || _fillRule === undefined || _fillRule === '') {\n          _fillRule = 'nonzero'\n        }\n\n        const centerBoundingBox = new Vector2()\n        simplePath.boundingBox.getCenter(centerBoundingBox)\n\n        const scanline = [\n          new Vector2(scanlineMinX, centerBoundingBox.y),\n          new Vector2(scanlineMaxX, centerBoundingBox.y),\n        ]\n\n        const scanlineIntersections = getScanlineIntersections(scanline, simplePath.boundingBox, allPaths)\n\n        scanlineIntersections.sort((i1, i2) => {\n          return i1.point.x - i2.point.x\n        })\n\n        const baseIntersections = []\n        const otherIntersections = []\n\n        scanlineIntersections.forEach((i) => {\n          if (i.identifier === simplePath.identifier) {\n            baseIntersections.push(i)\n          } else {\n            otherIntersections.push(i)\n          }\n        })\n\n        const firstXOfPath = baseIntersections[0].point.x\n\n        // build up the path hierarchy\n        const stack = []\n        let i = 0\n\n        while (i < otherIntersections.length && otherIntersections[i].point.x < firstXOfPath) {\n          if (stack.length > 0 && stack[stack.length - 1] === otherIntersections[i].identifier) {\n            stack.pop()\n          } else {\n            stack.push(otherIntersections[i].identifier)\n          }\n\n          i++\n        }\n\n        stack.push(simplePath.identifier)\n\n        if (_fillRule === 'evenodd') {\n          const isHole = stack.length % 2 === 0 ? true : false\n          const isHoleFor = stack[stack.length - 2]\n\n          return { identifier: simplePath.identifier, isHole: isHole, for: isHoleFor }\n        } else if (_fillRule === 'nonzero') {\n          // check if path is a hole by counting the amount of paths with alternating rotations it has to cross.\n          let isHole = true\n          let isHoleFor = null\n          let lastCWValue = null\n\n          for (let i = 0; i < stack.length; i++) {\n            const identifier = stack[i]\n            if (isHole) {\n              lastCWValue = allPaths[identifier].isCW\n              isHole = false\n              isHoleFor = identifier\n            } else if (lastCWValue !== allPaths[identifier].isCW) {\n              lastCWValue = allPaths[identifier].isCW\n              isHole = true\n            }\n          }\n\n          return { identifier: simplePath.identifier, isHole: isHole, for: isHoleFor }\n        } else {\n          console.warn('fill-rule: \"' + _fillRule + '\" is currently not implemented.')\n        }\n      }\n\n      // check for self intersecting paths\n      // TODO\n\n      // check intersecting paths\n      // TODO\n\n      // prepare paths for hole detection\n      let scanlineMinX = BIGNUMBER\n      let scanlineMaxX = -BIGNUMBER\n\n      let simplePaths = shapePath.subPaths.map((p) => {\n        const points = p.getPoints()\n        let maxY = -BIGNUMBER\n        let minY = BIGNUMBER\n        let maxX = -BIGNUMBER\n        let minX = BIGNUMBER\n\n        //points.forEach(p => p.y *= -1);\n\n        for (let i = 0; i < points.length; i++) {\n          const p = points[i]\n\n          if (p.y > maxY) {\n            maxY = p.y\n          }\n\n          if (p.y < minY) {\n            minY = p.y\n          }\n\n          if (p.x > maxX) {\n            maxX = p.x\n          }\n\n          if (p.x < minX) {\n            minX = p.x\n          }\n        }\n\n        //\n        if (scanlineMaxX <= maxX) {\n          scanlineMaxX = maxX + 1\n        }\n\n        if (scanlineMinX >= minX) {\n          scanlineMinX = minX - 1\n        }\n\n        return {\n          curves: p.curves,\n          points: points,\n          isCW: ShapeUtils.isClockWise(points),\n          identifier: -1,\n          boundingBox: new Box2(new Vector2(minX, minY), new Vector2(maxX, maxY)),\n        }\n      })\n\n      simplePaths = simplePaths.filter((sp) => sp.points.length > 1)\n\n      for (let identifier = 0; identifier < simplePaths.length; identifier++) {\n        simplePaths[identifier].identifier = identifier\n      }\n\n      // check if path is solid or a hole\n      const isAHole = simplePaths.map((p) =>\n        isHoleTo(\n          p,\n          simplePaths,\n          scanlineMinX,\n          scanlineMaxX,\n          shapePath.userData ? shapePath.userData.style.fillRule : undefined,\n        ),\n      )\n\n      const shapesToReturn = []\n      simplePaths.forEach((p) => {\n        const amIAHole = isAHole[p.identifier]\n\n        if (!amIAHole.isHole) {\n          const shape = new Shape()\n          shape.curves = p.curves\n          const holes = isAHole.filter((h) => h.isHole && h.for === p.identifier)\n          holes.forEach((h) => {\n            const hole = simplePaths[h.identifier]\n            const path = new Path()\n            path.curves = hole.curves\n            shape.holes.push(path)\n          })\n          shapesToReturn.push(shape)\n        }\n      })\n\n      return shapesToReturn\n    }\n\n    static getStrokeStyle(width, color, lineJoin, lineCap, miterLimit) {\n      // Param width: Stroke width\n      // Param color: As returned by THREE.Color.getStyle()\n      // Param lineJoin: One of \"round\", \"bevel\", \"miter\" or \"miter-limit\"\n      // Param lineCap: One of \"round\", \"square\" or \"butt\"\n      // Param miterLimit: Maximum join length, in multiples of the \"width\" parameter (join is truncated if it exceeds that distance)\n      // Returns style object\n\n      width = width !== undefined ? width : 1\n      color = color !== undefined ? color : '#000'\n      lineJoin = lineJoin !== undefined ? lineJoin : 'miter'\n      lineCap = lineCap !== undefined ? lineCap : 'butt'\n      miterLimit = miterLimit !== undefined ? miterLimit : 4\n\n      return {\n        strokeColor: color,\n        strokeWidth: width,\n        strokeLineJoin: lineJoin,\n        strokeLineCap: lineCap,\n        strokeMiterLimit: miterLimit,\n      }\n    }\n\n    static pointsToStroke(points, style, arcDivisions, minDistance) {\n      // Generates a stroke with some width around the given path.\n      // The path can be open or closed (last point equals to first point)\n      // Param points: Array of Vector2D (the path). Minimum 2 points.\n      // Param style: Object with SVG properties as returned by SVGLoader.getStrokeStyle(), or SVGLoader.parse() in the path.userData.style object\n      // Params arcDivisions: Arc divisions for round joins and endcaps. (Optional)\n      // Param minDistance: Points closer to this distance will be merged. (Optional)\n      // Returns BufferGeometry with stroke triangles (In plane z = 0). UV coordinates are generated ('u' along path. 'v' across it, from left to right)\n\n      const vertices = []\n      const normals = []\n      const uvs = []\n\n      if (SVGLoader.pointsToStrokeWithBuffers(points, style, arcDivisions, minDistance, vertices, normals, uvs) === 0) {\n        return null\n      }\n\n      const geometry = new BufferGeometry()\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3))\n      geometry.setAttribute('normal', new Float32BufferAttribute(normals, 3))\n      geometry.setAttribute('uv', new Float32BufferAttribute(uvs, 2))\n\n      return geometry\n    }\n\n    static pointsToStrokeWithBuffers(points, style, arcDivisions, minDistance, vertices, normals, uvs, vertexOffset) {\n      // This function can be called to update existing arrays or buffers.\n      // Accepts same parameters as pointsToStroke, plus the buffers and optional offset.\n      // Param vertexOffset: Offset vertices to start writing in the buffers (3 elements/vertex for vertices and normals, and 2 elements/vertex for uvs)\n      // Returns number of written vertices / normals / uvs pairs\n      // if 'vertices' parameter is undefined no triangles will be generated, but the returned vertices count will still be valid (useful to preallocate the buffers)\n      // 'normals' and 'uvs' buffers are optional\n\n      const tempV2_1 = new Vector2()\n      const tempV2_2 = new Vector2()\n      const tempV2_3 = new Vector2()\n      const tempV2_4 = new Vector2()\n      const tempV2_5 = new Vector2()\n      const tempV2_6 = new Vector2()\n      const tempV2_7 = new Vector2()\n      const lastPointL = new Vector2()\n      const lastPointR = new Vector2()\n      const point0L = new Vector2()\n      const point0R = new Vector2()\n      const currentPointL = new Vector2()\n      const currentPointR = new Vector2()\n      const nextPointL = new Vector2()\n      const nextPointR = new Vector2()\n      const innerPoint = new Vector2()\n      const outerPoint = new Vector2()\n\n      arcDivisions = arcDivisions !== undefined ? arcDivisions : 12\n      minDistance = minDistance !== undefined ? minDistance : 0.001\n      vertexOffset = vertexOffset !== undefined ? vertexOffset : 0\n\n      // First ensure there are no duplicated points\n      points = removeDuplicatedPoints(points)\n\n      const numPoints = points.length\n\n      if (numPoints < 2) return 0\n\n      const isClosed = points[0].equals(points[numPoints - 1])\n\n      let currentPoint\n      let previousPoint = points[0]\n      let nextPoint\n\n      const strokeWidth2 = style.strokeWidth / 2\n\n      const deltaU = 1 / (numPoints - 1)\n      let u0 = 0,\n        u1\n\n      let innerSideModified\n      let joinIsOnLeftSide\n      let isMiter\n      let initialJoinIsOnLeftSide = false\n\n      let numVertices = 0\n      let currentCoordinate = vertexOffset * 3\n      let currentCoordinateUV = vertexOffset * 2\n\n      // Get initial left and right stroke points\n      getNormal(points[0], points[1], tempV2_1).multiplyScalar(strokeWidth2)\n      lastPointL.copy(points[0]).sub(tempV2_1)\n      lastPointR.copy(points[0]).add(tempV2_1)\n      point0L.copy(lastPointL)\n      point0R.copy(lastPointR)\n\n      for (let iPoint = 1; iPoint < numPoints; iPoint++) {\n        currentPoint = points[iPoint]\n\n        // Get next point\n        if (iPoint === numPoints - 1) {\n          if (isClosed) {\n            // Skip duplicated initial point\n            nextPoint = points[1]\n          } else nextPoint = undefined\n        } else {\n          nextPoint = points[iPoint + 1]\n        }\n\n        // Normal of previous segment in tempV2_1\n        const normal1 = tempV2_1\n        getNormal(previousPoint, currentPoint, normal1)\n\n        tempV2_3.copy(normal1).multiplyScalar(strokeWidth2)\n        currentPointL.copy(currentPoint).sub(tempV2_3)\n        currentPointR.copy(currentPoint).add(tempV2_3)\n\n        u1 = u0 + deltaU\n\n        innerSideModified = false\n\n        if (nextPoint !== undefined) {\n          // Normal of next segment in tempV2_2\n          getNormal(currentPoint, nextPoint, tempV2_2)\n\n          tempV2_3.copy(tempV2_2).multiplyScalar(strokeWidth2)\n          nextPointL.copy(currentPoint).sub(tempV2_3)\n          nextPointR.copy(currentPoint).add(tempV2_3)\n\n          joinIsOnLeftSide = true\n          tempV2_3.subVectors(nextPoint, previousPoint)\n          if (normal1.dot(tempV2_3) < 0) {\n            joinIsOnLeftSide = false\n          }\n\n          if (iPoint === 1) initialJoinIsOnLeftSide = joinIsOnLeftSide\n\n          tempV2_3.subVectors(nextPoint, currentPoint)\n          tempV2_3.normalize()\n          const dot = Math.abs(normal1.dot(tempV2_3))\n\n          // If path is straight, don't create join\n          if (dot > Number.EPSILON) {\n            // Compute inner and outer segment intersections\n            const miterSide = strokeWidth2 / dot\n            tempV2_3.multiplyScalar(-miterSide)\n            tempV2_4.subVectors(currentPoint, previousPoint)\n            tempV2_5.copy(tempV2_4).setLength(miterSide).add(tempV2_3)\n            innerPoint.copy(tempV2_5).negate()\n            const miterLength2 = tempV2_5.length()\n            const segmentLengthPrev = tempV2_4.length()\n            tempV2_4.divideScalar(segmentLengthPrev)\n            tempV2_6.subVectors(nextPoint, currentPoint)\n            const segmentLengthNext = tempV2_6.length()\n            tempV2_6.divideScalar(segmentLengthNext)\n            // Check that previous and next segments doesn't overlap with the innerPoint of intersection\n            if (tempV2_4.dot(innerPoint) < segmentLengthPrev && tempV2_6.dot(innerPoint) < segmentLengthNext) {\n              innerSideModified = true\n            }\n\n            outerPoint.copy(tempV2_5).add(currentPoint)\n            innerPoint.add(currentPoint)\n\n            isMiter = false\n\n            if (innerSideModified) {\n              if (joinIsOnLeftSide) {\n                nextPointR.copy(innerPoint)\n                currentPointR.copy(innerPoint)\n              } else {\n                nextPointL.copy(innerPoint)\n                currentPointL.copy(innerPoint)\n              }\n            } else {\n              // The segment triangles are generated here if there was overlapping\n\n              makeSegmentTriangles()\n            }\n\n            switch (style.strokeLineJoin) {\n              case 'bevel':\n                makeSegmentWithBevelJoin(joinIsOnLeftSide, innerSideModified, u1)\n\n                break\n\n              case 'round':\n                // Segment triangles\n\n                createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide, innerSideModified)\n\n                // Join triangles\n\n                if (joinIsOnLeftSide) {\n                  makeCircularSector(currentPoint, currentPointL, nextPointL, u1, 0)\n                } else {\n                  makeCircularSector(currentPoint, nextPointR, currentPointR, u1, 1)\n                }\n\n                break\n\n              case 'miter':\n              case 'miter-clip':\n              default:\n                const miterFraction = (strokeWidth2 * style.strokeMiterLimit) / miterLength2\n\n                if (miterFraction < 1) {\n                  // The join miter length exceeds the miter limit\n\n                  if (style.strokeLineJoin !== 'miter-clip') {\n                    makeSegmentWithBevelJoin(joinIsOnLeftSide, innerSideModified, u1)\n                    break\n                  } else {\n                    // Segment triangles\n\n                    createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide, innerSideModified)\n\n                    // Miter-clip join triangles\n\n                    if (joinIsOnLeftSide) {\n                      tempV2_6.subVectors(outerPoint, currentPointL).multiplyScalar(miterFraction).add(currentPointL)\n                      tempV2_7.subVectors(outerPoint, nextPointL).multiplyScalar(miterFraction).add(nextPointL)\n\n                      addVertex(currentPointL, u1, 0)\n                      addVertex(tempV2_6, u1, 0)\n                      addVertex(currentPoint, u1, 0.5)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(tempV2_6, u1, 0)\n                      addVertex(tempV2_7, u1, 0)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(tempV2_7, u1, 0)\n                      addVertex(nextPointL, u1, 0)\n                    } else {\n                      tempV2_6.subVectors(outerPoint, currentPointR).multiplyScalar(miterFraction).add(currentPointR)\n                      tempV2_7.subVectors(outerPoint, nextPointR).multiplyScalar(miterFraction).add(nextPointR)\n\n                      addVertex(currentPointR, u1, 1)\n                      addVertex(tempV2_6, u1, 1)\n                      addVertex(currentPoint, u1, 0.5)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(tempV2_6, u1, 1)\n                      addVertex(tempV2_7, u1, 1)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(tempV2_7, u1, 1)\n                      addVertex(nextPointR, u1, 1)\n                    }\n                  }\n                } else {\n                  // Miter join segment triangles\n\n                  if (innerSideModified) {\n                    // Optimized segment + join triangles\n\n                    if (joinIsOnLeftSide) {\n                      addVertex(lastPointR, u0, 1)\n                      addVertex(lastPointL, u0, 0)\n                      addVertex(outerPoint, u1, 0)\n\n                      addVertex(lastPointR, u0, 1)\n                      addVertex(outerPoint, u1, 0)\n                      addVertex(innerPoint, u1, 1)\n                    } else {\n                      addVertex(lastPointR, u0, 1)\n                      addVertex(lastPointL, u0, 0)\n                      addVertex(outerPoint, u1, 1)\n\n                      addVertex(lastPointL, u0, 0)\n                      addVertex(innerPoint, u1, 0)\n                      addVertex(outerPoint, u1, 1)\n                    }\n\n                    if (joinIsOnLeftSide) {\n                      nextPointL.copy(outerPoint)\n                    } else {\n                      nextPointR.copy(outerPoint)\n                    }\n                  } else {\n                    // Add extra miter join triangles\n\n                    if (joinIsOnLeftSide) {\n                      addVertex(currentPointL, u1, 0)\n                      addVertex(outerPoint, u1, 0)\n                      addVertex(currentPoint, u1, 0.5)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(outerPoint, u1, 0)\n                      addVertex(nextPointL, u1, 0)\n                    } else {\n                      addVertex(currentPointR, u1, 1)\n                      addVertex(outerPoint, u1, 1)\n                      addVertex(currentPoint, u1, 0.5)\n\n                      addVertex(currentPoint, u1, 0.5)\n                      addVertex(outerPoint, u1, 1)\n                      addVertex(nextPointR, u1, 1)\n                    }\n                  }\n\n                  isMiter = true\n                }\n\n                break\n            }\n          } else {\n            // The segment triangles are generated here when two consecutive points are collinear\n\n            makeSegmentTriangles()\n          }\n        } else {\n          // The segment triangles are generated here if it is the ending segment\n\n          makeSegmentTriangles()\n        }\n\n        if (!isClosed && iPoint === numPoints - 1) {\n          // Start line endcap\n          addCapGeometry(points[0], point0L, point0R, joinIsOnLeftSide, true, u0)\n        }\n\n        // Increment loop variables\n\n        u0 = u1\n\n        previousPoint = currentPoint\n\n        lastPointL.copy(nextPointL)\n        lastPointR.copy(nextPointR)\n      }\n\n      if (!isClosed) {\n        // Ending line endcap\n        addCapGeometry(currentPoint, currentPointL, currentPointR, joinIsOnLeftSide, false, u1)\n      } else if (innerSideModified && vertices) {\n        // Modify path first segment vertices to adjust to the segments inner and outer intersections\n\n        let lastOuter = outerPoint\n        let lastInner = innerPoint\n\n        if (initialJoinIsOnLeftSide !== joinIsOnLeftSide) {\n          lastOuter = innerPoint\n          lastInner = outerPoint\n        }\n\n        if (joinIsOnLeftSide) {\n          if (isMiter || initialJoinIsOnLeftSide) {\n            lastInner.toArray(vertices, 0 * 3)\n            lastInner.toArray(vertices, 3 * 3)\n\n            if (isMiter) {\n              lastOuter.toArray(vertices, 1 * 3)\n            }\n          }\n        } else {\n          if (isMiter || !initialJoinIsOnLeftSide) {\n            lastInner.toArray(vertices, 1 * 3)\n            lastInner.toArray(vertices, 3 * 3)\n\n            if (isMiter) {\n              lastOuter.toArray(vertices, 0 * 3)\n            }\n          }\n        }\n      }\n\n      return numVertices\n\n      // -- End of algorithm\n\n      // -- Functions\n\n      function getNormal(p1, p2, result) {\n        result.subVectors(p2, p1)\n        return result.set(-result.y, result.x).normalize()\n      }\n\n      function addVertex(position, u, v) {\n        if (vertices) {\n          vertices[currentCoordinate] = position.x\n          vertices[currentCoordinate + 1] = position.y\n          vertices[currentCoordinate + 2] = 0\n\n          if (normals) {\n            normals[currentCoordinate] = 0\n            normals[currentCoordinate + 1] = 0\n            normals[currentCoordinate + 2] = 1\n          }\n\n          currentCoordinate += 3\n\n          if (uvs) {\n            uvs[currentCoordinateUV] = u\n            uvs[currentCoordinateUV + 1] = v\n\n            currentCoordinateUV += 2\n          }\n        }\n\n        numVertices += 3\n      }\n\n      function makeCircularSector(center, p1, p2, u, v) {\n        // param p1, p2: Points in the circle arc.\n        // p1 and p2 are in clockwise direction.\n\n        tempV2_1.copy(p1).sub(center).normalize()\n        tempV2_2.copy(p2).sub(center).normalize()\n\n        let angle = Math.PI\n        const dot = tempV2_1.dot(tempV2_2)\n        if (Math.abs(dot) < 1) angle = Math.abs(Math.acos(dot))\n\n        angle /= arcDivisions\n\n        tempV2_3.copy(p1)\n\n        for (let i = 0, il = arcDivisions - 1; i < il; i++) {\n          tempV2_4.copy(tempV2_3).rotateAround(center, angle)\n\n          addVertex(tempV2_3, u, v)\n          addVertex(tempV2_4, u, v)\n          addVertex(center, u, 0.5)\n\n          tempV2_3.copy(tempV2_4)\n        }\n\n        addVertex(tempV2_4, u, v)\n        addVertex(p2, u, v)\n        addVertex(center, u, 0.5)\n      }\n\n      function makeSegmentTriangles() {\n        addVertex(lastPointR, u0, 1)\n        addVertex(lastPointL, u0, 0)\n        addVertex(currentPointL, u1, 0)\n\n        addVertex(lastPointR, u0, 1)\n        addVertex(currentPointL, u1, 0)\n        addVertex(currentPointR, u1, 1)\n      }\n\n      function makeSegmentWithBevelJoin(joinIsOnLeftSide, innerSideModified, u) {\n        if (innerSideModified) {\n          // Optimized segment + bevel triangles\n\n          if (joinIsOnLeftSide) {\n            // Path segments triangles\n\n            addVertex(lastPointR, u0, 1)\n            addVertex(lastPointL, u0, 0)\n            addVertex(currentPointL, u1, 0)\n\n            addVertex(lastPointR, u0, 1)\n            addVertex(currentPointL, u1, 0)\n            addVertex(innerPoint, u1, 1)\n\n            // Bevel join triangle\n\n            addVertex(currentPointL, u, 0)\n            addVertex(nextPointL, u, 0)\n            addVertex(innerPoint, u, 0.5)\n          } else {\n            // Path segments triangles\n\n            addVertex(lastPointR, u0, 1)\n            addVertex(lastPointL, u0, 0)\n            addVertex(currentPointR, u1, 1)\n\n            addVertex(lastPointL, u0, 0)\n            addVertex(innerPoint, u1, 0)\n            addVertex(currentPointR, u1, 1)\n\n            // Bevel join triangle\n\n            addVertex(currentPointR, u, 1)\n            addVertex(innerPoint, u, 0)\n            addVertex(nextPointR, u, 1)\n          }\n        } else {\n          // Bevel join triangle. The segment triangles are done in the main loop\n\n          if (joinIsOnLeftSide) {\n            addVertex(currentPointL, u, 0)\n            addVertex(nextPointL, u, 0)\n            addVertex(currentPoint, u, 0.5)\n          } else {\n            addVertex(currentPointR, u, 1)\n            addVertex(nextPointR, u, 0)\n            addVertex(currentPoint, u, 0.5)\n          }\n        }\n      }\n\n      function createSegmentTrianglesWithMiddleSection(joinIsOnLeftSide, innerSideModified) {\n        if (innerSideModified) {\n          if (joinIsOnLeftSide) {\n            addVertex(lastPointR, u0, 1)\n            addVertex(lastPointL, u0, 0)\n            addVertex(currentPointL, u1, 0)\n\n            addVertex(lastPointR, u0, 1)\n            addVertex(currentPointL, u1, 0)\n            addVertex(innerPoint, u1, 1)\n\n            addVertex(currentPointL, u0, 0)\n            addVertex(currentPoint, u1, 0.5)\n            addVertex(innerPoint, u1, 1)\n\n            addVertex(currentPoint, u1, 0.5)\n            addVertex(nextPointL, u0, 0)\n            addVertex(innerPoint, u1, 1)\n          } else {\n            addVertex(lastPointR, u0, 1)\n            addVertex(lastPointL, u0, 0)\n            addVertex(currentPointR, u1, 1)\n\n            addVertex(lastPointL, u0, 0)\n            addVertex(innerPoint, u1, 0)\n            addVertex(currentPointR, u1, 1)\n\n            addVertex(currentPointR, u0, 1)\n            addVertex(innerPoint, u1, 0)\n            addVertex(currentPoint, u1, 0.5)\n\n            addVertex(currentPoint, u1, 0.5)\n            addVertex(innerPoint, u1, 0)\n            addVertex(nextPointR, u0, 1)\n          }\n        }\n      }\n\n      function addCapGeometry(center, p1, p2, joinIsOnLeftSide, start, u) {\n        // param center: End point of the path\n        // param p1, p2: Left and right cap points\n\n        switch (style.strokeLineCap) {\n          case 'round':\n            if (start) {\n              makeCircularSector(center, p2, p1, u, 0.5)\n            } else {\n              makeCircularSector(center, p1, p2, u, 0.5)\n            }\n\n            break\n\n          case 'square':\n            if (start) {\n              tempV2_1.subVectors(p1, center)\n              tempV2_2.set(tempV2_1.y, -tempV2_1.x)\n\n              tempV2_3.addVectors(tempV2_1, tempV2_2).add(center)\n              tempV2_4.subVectors(tempV2_2, tempV2_1).add(center)\n\n              // Modify already existing vertices\n              if (joinIsOnLeftSide) {\n                tempV2_3.toArray(vertices, 1 * 3)\n                tempV2_4.toArray(vertices, 0 * 3)\n                tempV2_4.toArray(vertices, 3 * 3)\n              } else {\n                tempV2_3.toArray(vertices, 1 * 3)\n                // using tempV2_4 to update 3rd vertex if the uv.y of 3rd vertex is 1\n                uvs[3 * 2 + 1] === 1 ? tempV2_4.toArray(vertices, 3 * 3) : tempV2_3.toArray(vertices, 3 * 3)\n                tempV2_4.toArray(vertices, 0 * 3)\n              }\n            } else {\n              tempV2_1.subVectors(p2, center)\n              tempV2_2.set(tempV2_1.y, -tempV2_1.x)\n\n              tempV2_3.addVectors(tempV2_1, tempV2_2).add(center)\n              tempV2_4.subVectors(tempV2_2, tempV2_1).add(center)\n\n              const vl = vertices.length\n\n              // Modify already existing vertices\n              if (joinIsOnLeftSide) {\n                tempV2_3.toArray(vertices, vl - 1 * 3)\n                tempV2_4.toArray(vertices, vl - 2 * 3)\n                tempV2_4.toArray(vertices, vl - 4 * 3)\n              } else {\n                tempV2_4.toArray(vertices, vl - 2 * 3)\n                tempV2_3.toArray(vertices, vl - 1 * 3)\n                tempV2_4.toArray(vertices, vl - 4 * 3)\n              }\n            }\n\n            break\n\n          case 'butt':\n          default:\n            // Nothing to do here\n            break\n        }\n      }\n\n      function removeDuplicatedPoints(points) {\n        // Creates a new array if necessary with duplicated points removed.\n        // This does not remove duplicated initial and ending points of a closed path.\n\n        let dupPoints = false\n        for (let i = 1, n = points.length - 1; i < n; i++) {\n          if (points[i].distanceTo(points[i + 1]) < minDistance) {\n            dupPoints = true\n            break\n          }\n        }\n\n        if (!dupPoints) return points\n\n        const newPoints = []\n        newPoints.push(points[0])\n\n        for (let i = 1, n = points.length - 1; i < n; i++) {\n          if (points[i].distanceTo(points[i + 1]) >= minDistance) {\n            newPoints.push(points[i])\n          }\n        }\n\n        newPoints.push(points[points.length - 1])\n\n        return newPoints\n      }\n    }\n  }\n\n  return SVGLoader\n})()\n\nexport { SVGLoader }\n"],"names":["SVGLoader","node","data","i","current","currentTransform","scanlineMinX","scanlineMaxX","p","joinIsOnLeftSide","innerSideModified","points"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13703, "column": 0}, "map": {"version":3,"file":"AsciiEffect.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/effects/AsciiEffect.js"],"sourcesContent":["/**\n * Ascii generation is based on https://github.com/hassadee/jsascii/blob/master/jsascii.js\n *\n * 16 April 2012 - @blurspline\n */\n\nclass AsciiEffect {\n  constructor(renderer, charSet = ' .:-=+*#%@', options = {}) {\n    // ' .,:;=|iI+hHOE#`$';\n    // darker bolder character set from https://github.com/saw/Canvas-ASCII-Art/\n    // ' .\\'`^\",:;Il!i~+_-?][}{1)(|/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&8%B@$'.split('');\n\n    // Some ASCII settings\n\n    const fResolution = options['resolution'] || 0.15 // Higher for more details\n    const iScale = options['scale'] || 1\n    const bColor = options['color'] || false // nice but slows down rendering!\n    const bAlpha = options['alpha'] || false // Transparency\n    const bBlock = options['block'] || false // blocked characters. like good O dos\n    const bInvert = options['invert'] || false // black is white, white is black\n    const strResolution = options['strResolution'] || 'low'\n\n    let width, height\n\n    const domElement = document.createElement('div')\n    domElement.style.cursor = 'default'\n\n    const oAscii = document.createElement('table')\n    domElement.appendChild(oAscii)\n\n    let iWidth, iHeight\n    let oImg\n\n    this.setSize = function (w, h) {\n      width = w\n      height = h\n\n      renderer.setSize(w, h)\n\n      initAsciiSize()\n    }\n\n    this.render = function (scene, camera) {\n      renderer.render(scene, camera)\n      asciifyImage(oAscii)\n    }\n\n    this.domElement = domElement\n\n    // Throw in ascii library from https://github.com/hassadee/jsascii/blob/master/jsascii.js (MIT License)\n\n    function initAsciiSize() {\n      iWidth = Math.floor(width * fResolution)\n      iHeight = Math.floor(height * fResolution)\n\n      oCanvas.width = iWidth\n      oCanvas.height = iHeight\n      // oCanvas.style.display = \"none\";\n      // oCanvas.style.width = iWidth;\n      // oCanvas.style.height = iHeight;\n\n      oImg = renderer.domElement\n\n      if (oImg.style.backgroundColor) {\n        oAscii.rows[0].cells[0].style.backgroundColor = oImg.style.backgroundColor\n        oAscii.rows[0].cells[0].style.color = oImg.style.color\n      }\n\n      oAscii.cellSpacing = 0\n      oAscii.cellPadding = 0\n\n      const oStyle = oAscii.style\n      oStyle.whiteSpace = 'pre'\n      oStyle.margin = '0px'\n      oStyle.padding = '0px'\n      oStyle.letterSpacing = fLetterSpacing + 'px'\n      oStyle.fontFamily = strFont\n      oStyle.fontSize = fFontSize + 'px'\n      oStyle.lineHeight = fLineHeight + 'px'\n      oStyle.textAlign = 'left'\n      oStyle.textDecoration = 'none'\n    }\n\n    const aDefaultCharList = ' .,:;i1tfLCG08@'.split('')\n    const aDefaultColorCharList = ' CGO08@'.split('')\n    const strFont = 'courier new, monospace'\n\n    const oCanvasImg = renderer.domElement\n\n    const oCanvas = document.createElement('canvas')\n    if (!oCanvas.getContext) {\n      return\n    }\n\n    const oCtx = oCanvas.getContext('2d')\n    if (!oCtx.getImageData) {\n      return\n    }\n\n    let aCharList = bColor ? aDefaultColorCharList : aDefaultCharList\n\n    if (charSet) aCharList = charSet\n\n    // Setup dom\n\n    const fFontSize = (2 / fResolution) * iScale\n    const fLineHeight = (2 / fResolution) * iScale\n\n    // adjust letter-spacing for all combinations of scale and resolution to get it to fit the image width.\n\n    let fLetterSpacing = 0\n\n    if (strResolution == 'low') {\n      switch (iScale) {\n        case 1:\n          fLetterSpacing = -1\n          break\n        case 2:\n        case 3:\n          fLetterSpacing = -2.1\n          break\n        case 4:\n          fLetterSpacing = -3.1\n          break\n        case 5:\n          fLetterSpacing = -4.15\n          break\n      }\n    }\n\n    if (strResolution == 'medium') {\n      switch (iScale) {\n        case 1:\n          fLetterSpacing = 0\n          break\n        case 2:\n          fLetterSpacing = -1\n          break\n        case 3:\n          fLetterSpacing = -1.04\n          break\n        case 4:\n        case 5:\n          fLetterSpacing = -2.1\n          break\n      }\n    }\n\n    if (strResolution == 'high') {\n      switch (iScale) {\n        case 1:\n        case 2:\n          fLetterSpacing = 0\n          break\n        case 3:\n        case 4:\n        case 5:\n          fLetterSpacing = -1\n          break\n      }\n    }\n\n    // can't get a span or div to flow like an img element, but a table works?\n\n    // convert img element to ascii\n\n    function asciifyImage(oAscii) {\n      oCtx.clearRect(0, 0, iWidth, iHeight)\n      oCtx.drawImage(oCanvasImg, 0, 0, iWidth, iHeight)\n      const oImgData = oCtx.getImageData(0, 0, iWidth, iHeight).data\n\n      // Coloring loop starts now\n      let strChars = ''\n\n      // console.time('rendering');\n\n      for (let y = 0; y < iHeight; y += 2) {\n        for (let x = 0; x < iWidth; x++) {\n          const iOffset = (y * iWidth + x) * 4\n\n          const iRed = oImgData[iOffset]\n          const iGreen = oImgData[iOffset + 1]\n          const iBlue = oImgData[iOffset + 2]\n          const iAlpha = oImgData[iOffset + 3]\n          let iCharIdx\n\n          let fBrightness\n\n          fBrightness = (0.3 * iRed + 0.59 * iGreen + 0.11 * iBlue) / 255\n          // fBrightness = (0.3*iRed + 0.5*iGreen + 0.3*iBlue) / 255;\n\n          if (iAlpha == 0) {\n            // should calculate alpha instead, but quick hack :)\n            //fBrightness *= (iAlpha / 255);\n            fBrightness = 1\n          }\n\n          iCharIdx = Math.floor((1 - fBrightness) * (aCharList.length - 1))\n\n          if (bInvert) {\n            iCharIdx = aCharList.length - iCharIdx - 1\n          }\n\n          // good for debugging\n          //fBrightness = Math.floor(fBrightness * 10);\n          //strThisChar = fBrightness;\n\n          let strThisChar = aCharList[iCharIdx]\n\n          if (strThisChar === undefined || strThisChar == ' ') strThisChar = '&nbsp;'\n\n          if (bColor) {\n            strChars +=\n              \"<span style='\" +\n              'color:rgb(' +\n              iRed +\n              ',' +\n              iGreen +\n              ',' +\n              iBlue +\n              ');' +\n              (bBlock ? 'background-color:rgb(' + iRed + ',' + iGreen + ',' + iBlue + ');' : '') +\n              (bAlpha ? 'opacity:' + iAlpha / 255 + ';' : '') +\n              \"'>\" +\n              strThisChar +\n              '</span>'\n          } else {\n            strChars += strThisChar\n          }\n        }\n\n        strChars += '<br/>'\n      }\n\n      oAscii.innerHTML = `<tr><td style=\"display:block;width:${width}px;height:${height}px;overflow:hidden\">${strChars}</td></tr>`\n\n      // console.timeEnd('rendering');\n\n      // return oAscii;\n    }\n  }\n}\n\nexport { AsciiEffect }\n"],"names":["oAscii"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13864, "column": 0}, "map": {"version":3,"file":"DeviceOrientationControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/DeviceOrientationControls.ts"],"sourcesContent":["import { Camera, Euler, MathUtils, Quaternion, Vector3 } from 'three'\nimport { EventDispatcher } from './EventDispatcher'\nimport { StandardControlsEventMap } from './StandardControlsEventMap'\n\n/**\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nclass DeviceOrientationControls extends EventDispatcher<StandardControlsEventMap> {\n  public object: Camera\n\n  private changeEvent = { type: 'change' }\n  private EPS = 0.000001\n\n  public enabled = true\n  public deviceOrientation: Partial<DeviceOrientationEvent> = { alpha: 0, beta: 0, gamma: 0 }\n  public screenOrientation: string | number = 0\n  public alphaOffset = 0 // radians\n\n  constructor(object: Camera) {\n    super()\n\n    this.object = object\n    this.object.rotation.reorder('YXZ')\n\n    this.connect()\n  }\n\n  private onDeviceOrientationChangeEvent = (event: DeviceOrientationEvent): void => {\n    this.deviceOrientation = event\n  }\n\n  private onScreenOrientationChangeEvent = (): void => {\n    this.screenOrientation = window.orientation || 0\n  }\n\n  // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n  private zee = new Vector3(0, 0, 1)\n  private euler = new Euler()\n  private q0 = new Quaternion()\n  private q1 = new Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)) // - PI/2 around the x-axis\n  private setObjectQuaternion = (\n    quaternion: Quaternion,\n    alpha: number,\n    beta: number,\n    gamma: number,\n    orient: number,\n  ): void => {\n    this.euler.set(beta, alpha, -gamma, 'YXZ') // 'ZXY' for the device, but 'YXZ' for us\n    quaternion.setFromEuler(this.euler) // orient the device\n    quaternion.multiply(this.q1) // camera looks out the back of the device, not the top\n    quaternion.multiply(this.q0.setFromAxisAngle(this.zee, -orient)) // adjust for screen orientation\n  }\n\n  public connect = (): void => {\n    this.onScreenOrientationChangeEvent() // run once on load\n\n    // iOS 13+\n\n    if (\n      window.DeviceOrientationEvent !== undefined &&\n      // @ts-ignore\n      typeof window.DeviceOrientationEvent.requestPermission === 'function'\n    ) {\n      // @ts-ignore\n      window.DeviceOrientationEvent.requestPermission()\n        .then((response: any) => {\n          if (response == 'granted') {\n            window.addEventListener('orientationchange', this.onScreenOrientationChangeEvent)\n            window.addEventListener('deviceorientation', this.onDeviceOrientationChangeEvent)\n          }\n        })\n        .catch((error: any) => {\n          console.error('THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:', error)\n        })\n    } else {\n      window.addEventListener('orientationchange', this.onScreenOrientationChangeEvent)\n      window.addEventListener('deviceorientation', this.onDeviceOrientationChangeEvent)\n    }\n\n    this.enabled = true\n  }\n\n  public disconnect = (): void => {\n    window.removeEventListener('orientationchange', this.onScreenOrientationChangeEvent)\n    window.removeEventListener('deviceorientation', this.onDeviceOrientationChangeEvent)\n\n    this.enabled = false\n  }\n\n  private lastQuaternion = new Quaternion()\n  public update = (): void => {\n    if (this.enabled === false) return\n\n    const device = this.deviceOrientation\n\n    if (device) {\n      const alpha = device.alpha ? MathUtils.degToRad(device.alpha) + this.alphaOffset : 0 // Z\n      const beta = device.beta ? MathUtils.degToRad(device.beta) : 0 // X'\n      const gamma = device.gamma ? MathUtils.degToRad(device.gamma) : 0 // Y''\n      const orient = this.screenOrientation ? MathUtils.degToRad(this.screenOrientation as number) : 0 // O\n\n      this.setObjectQuaternion(this.object.quaternion, alpha, beta, gamma, orient)\n\n      if (8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS) {\n        this.lastQuaternion.copy(this.object.quaternion)\n        // @ts-ignore\n        this.dispatchEvent(this.changeEvent)\n      }\n    }\n  }\n\n  public dispose = (): void => this.disconnect()\n}\n\nexport { DeviceOrientationControls }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13970, "column": 0}, "map": {"version":3,"file":"FlyControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/FlyControls.ts"],"sourcesContent":["import { Camera, Quaternion, Vector3 } from 'three'\nimport { EventDispatcher } from './EventDispatcher'\n\nfunction contextmenu(event: Event): void {\n  event.preventDefault()\n}\n\nexport interface FlyControlsEventMap {\n  /**\n   * Fires when the camera has been transformed by the controls.\n   */\n  change: {};\n}\n\nclass FlyControls extends EventDispatcher<FlyControlsEventMap> {\n  public object: Camera\n  public domElement: HTMLElement | Document = null!\n\n  public movementSpeed = 1.0\n  public rollSpeed = 0.005\n\n  public dragToLook = false\n  public autoForward = false\n\n  private changeEvent = { type: 'change' }\n  private EPS = 0.000001\n\n  private tmpQuaternion = new Quaternion()\n\n  private mouseStatus = 0\n\n  private movementSpeedMultiplier = 1\n\n  private moveState = {\n    up: 0,\n    down: 0,\n    left: 0,\n    right: 0,\n    forward: 0,\n    back: 0,\n    pitchUp: 0,\n    pitchDown: 0,\n    yawLeft: 0,\n    yawRight: 0,\n    rollLeft: 0,\n    rollRight: 0,\n  }\n  private moveVector = new Vector3(0, 0, 0)\n  private rotationVector = new Vector3(0, 0, 0)\n\n  constructor(object: Camera, domElement?: HTMLElement | Document) {\n    super()\n\n    this.object = object\n\n    // connect events\n    if (domElement !== undefined) this.connect(domElement)\n\n    this.updateMovementVector()\n    this.updateRotationVector()\n  }\n\n  private keydown = (event: KeyboardEvent): void => {\n    if (event.altKey) {\n      return\n    }\n\n    switch (event.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.movementSpeedMultiplier = 0.1\n        break\n\n      case 'KeyW':\n        this.moveState.forward = 1\n        break\n      case 'KeyS':\n        this.moveState.back = 1\n        break\n\n      case 'KeyA':\n        this.moveState.left = 1\n        break\n      case 'KeyD':\n        this.moveState.right = 1\n        break\n\n      case 'KeyR':\n        this.moveState.up = 1\n        break\n      case 'KeyF':\n        this.moveState.down = 1\n        break\n\n      case 'ArrowUp':\n        this.moveState.pitchUp = 1\n        break\n      case 'ArrowDown':\n        this.moveState.pitchDown = 1\n        break\n\n      case 'ArrowLeft':\n        this.moveState.yawLeft = 1\n        break\n      case 'ArrowRight':\n        this.moveState.yawRight = 1\n        break\n\n      case 'KeyQ':\n        this.moveState.rollLeft = 1\n        break\n      case 'KeyE':\n        this.moveState.rollRight = 1\n        break\n    }\n\n    this.updateMovementVector()\n    this.updateRotationVector()\n  }\n\n  private keyup = (event: KeyboardEvent): void => {\n    switch (event.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.movementSpeedMultiplier = 1\n        break\n\n      case 'KeyW':\n        this.moveState.forward = 0\n        break\n      case 'KeyS':\n        this.moveState.back = 0\n        break\n\n      case 'KeyA':\n        this.moveState.left = 0\n        break\n      case 'KeyD':\n        this.moveState.right = 0\n        break\n\n      case 'KeyR':\n        this.moveState.up = 0\n        break\n      case 'KeyF':\n        this.moveState.down = 0\n        break\n\n      case 'ArrowUp':\n        this.moveState.pitchUp = 0\n        break\n      case 'ArrowDown':\n        this.moveState.pitchDown = 0\n        break\n\n      case 'ArrowLeft':\n        this.moveState.yawLeft = 0\n        break\n      case 'ArrowRight':\n        this.moveState.yawRight = 0\n        break\n\n      case 'KeyQ':\n        this.moveState.rollLeft = 0\n        break\n      case 'KeyE':\n        this.moveState.rollRight = 0\n        break\n    }\n\n    this.updateMovementVector()\n    this.updateRotationVector()\n  }\n\n  private pointerdown = (event: MouseEvent): void => {\n    if (this.dragToLook) {\n      this.mouseStatus++\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 1\n          break\n        case 2:\n          this.moveState.back = 1\n          break\n      }\n\n      this.updateMovementVector()\n    }\n  }\n\n  private pointermove = (event: MouseEvent): void => {\n    if (!this.dragToLook || this.mouseStatus > 0) {\n      const container = this.getContainerDimensions()\n      const halfWidth = container.size[0] / 2\n      const halfHeight = container.size[1] / 2\n\n      this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth\n      this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight\n\n      this.updateRotationVector()\n    }\n  }\n\n  private pointerup = (event: MouseEvent): void => {\n    if (this.dragToLook) {\n      this.mouseStatus--\n\n      this.moveState.yawLeft = this.moveState.pitchDown = 0\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 0\n          break\n        case 2:\n          this.moveState.back = 0\n          break\n      }\n\n      this.updateMovementVector()\n    }\n\n    this.updateRotationVector()\n  }\n\n  private lastQuaternion = new Quaternion()\n  private lastPosition = new Vector3()\n\n  public update = (delta: number): void => {\n    const moveMult = delta * this.movementSpeed\n    const rotMult = delta * this.rollSpeed\n\n    this.object.translateX(this.moveVector.x * moveMult)\n    this.object.translateY(this.moveVector.y * moveMult)\n    this.object.translateZ(this.moveVector.z * moveMult)\n\n    this.tmpQuaternion\n      .set(this.rotationVector.x * rotMult, this.rotationVector.y * rotMult, this.rotationVector.z * rotMult, 1)\n      .normalize()\n    this.object.quaternion.multiply(this.tmpQuaternion)\n\n    if (\n      this.lastPosition.distanceToSquared(this.object.position) > this.EPS ||\n      8 * (1 - this.lastQuaternion.dot(this.object.quaternion)) > this.EPS\n    ) {\n      // @ts-ignore\n      this.dispatchEvent(this.changeEvent)\n      this.lastQuaternion.copy(this.object.quaternion)\n      this.lastPosition.copy(this.object.position)\n    }\n  }\n\n  private updateMovementVector = (): void => {\n    const forward = this.moveState.forward || (this.autoForward && !this.moveState.back) ? 1 : 0\n\n    this.moveVector.x = -this.moveState.left + this.moveState.right\n    this.moveVector.y = -this.moveState.down + this.moveState.up\n    this.moveVector.z = -forward + this.moveState.back\n  }\n\n  private updateRotationVector = (): void => {\n    this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp\n    this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft\n    this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft\n  }\n\n  private getContainerDimensions = (): {\n    size: number[]\n    offset: number[]\n  } => {\n    if (this.domElement != document && !(this.domElement instanceof Document)) {\n      return {\n        size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n        offset: [this.domElement.offsetLeft, this.domElement.offsetTop],\n      }\n    } else {\n      return {\n        size: [window.innerWidth, window.innerHeight],\n        offset: [0, 0],\n      }\n    }\n  }\n\n  // https://github.com/mrdoob/three.js/issues/20575\n  public connect = (domElement: HTMLElement | Document): void => {\n    this.domElement = domElement\n\n    if (!(domElement instanceof Document)) {\n      domElement.setAttribute('tabindex', -1 as any)\n    }\n\n    this.domElement.addEventListener('contextmenu', contextmenu)\n    ;(this.domElement as HTMLElement).addEventListener('pointermove', this.pointermove)\n    ;(this.domElement as HTMLElement).addEventListener('pointerdown', this.pointerdown)\n    ;(this.domElement as HTMLElement).addEventListener('pointerup', this.pointerup)\n\n    window.addEventListener('keydown', this.keydown)\n    window.addEventListener('keyup', this.keyup)\n  }\n\n  public dispose = (): void => {\n    this.domElement.removeEventListener('contextmenu', contextmenu)\n    ;(this.domElement as HTMLElement).removeEventListener('pointermove', this.pointermove)\n    ;(this.domElement as HTMLElement).removeEventListener('pointerdown', this.pointerdown)\n    ;(this.domElement as HTMLElement).removeEventListener('pointerup', this.pointerup)\n\n    window.removeEventListener('keydown', this.keydown)\n    window.removeEventListener('keyup', this.keyup)\n  }\n}\n\nexport { FlyControls }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14247, "column": 0}, "map": {"version":3,"file":"TrackballControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/TrackballControls.ts"],"sourcesContent":["import { MOUSE, Quaternion, Vector2, Vector3, PerspectiveCamera, OrthographicCamera } from 'three'\nimport { EventDispatcher } from './EventDispatcher'\nimport { StandardControlsEventMap } from './StandardControlsEventMap'\n\nclass TrackballControls extends EventDispatcher<StandardControlsEventMap> {\n  public enabled = true\n\n  public screen = { left: 0, top: 0, width: 0, height: 0 }\n\n  public rotateSpeed = 1.0\n  public zoomSpeed = 1.2\n  public panSpeed = 0.3\n\n  public noRotate = false\n  public noZoom = false\n  public noPan = false\n\n  public staticMoving = false\n  public dynamicDampingFactor = 0.2\n\n  public minDistance = 0\n  public maxDistance = Infinity\n\n  public keys: [string, string, string] = ['KeyA' /*A*/, 'KeyS' /*S*/, 'KeyD' /*D*/]\n\n  public mouseButtons = {\n    LEFT: MOUSE.ROTATE,\n    MIDDLE: MOUSE.DOLLY,\n    RIGHT: MOUSE.PAN,\n  }\n\n  public object: PerspectiveCamera | OrthographicCamera\n  public domElement: HTMLElement | undefined\n  public cursorZoom: boolean = false\n\n  readonly target = new Vector3()\n  private mousePosition = new Vector2()\n\n  // internals\n  private STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4,\n  }\n\n  private EPS = 0.000001\n  private lastZoom = 1\n\n  private lastPosition = new Vector3()\n  private cursorVector = new Vector3()\n  private targetVector = new Vector3()\n\n  private _state = this.STATE.NONE\n  private _keyState = this.STATE.NONE\n  private _eye = new Vector3()\n  private _movePrev = new Vector2()\n  private _moveCurr = new Vector2()\n  private _lastAxis = new Vector3()\n  private _lastAngle = 0\n  private _zoomStart = new Vector2()\n  private _zoomEnd = new Vector2()\n  private _touchZoomDistanceStart = 0\n  private _touchZoomDistanceEnd = 0\n  private _panStart = new Vector2()\n  private _panEnd = new Vector2()\n\n  private target0: Vector3\n  private position0: Vector3\n  private up0: Vector3\n  private zoom0: number\n\n  // events\n\n  private changeEvent = { type: 'change' }\n  private startEvent = { type: 'start' }\n  private endEvent = { type: 'end' }\n\n  constructor(object: PerspectiveCamera | OrthographicCamera, domElement?: HTMLElement) {\n    super()\n    this.object = object\n\n    // for reset\n\n    this.target0 = this.target.clone()\n    this.position0 = this.object.position.clone()\n    this.up0 = this.object.up.clone()\n    this.zoom0 = this.object.zoom\n\n    // connect events\n    if (domElement !== undefined) this.connect(domElement)\n\n    // force an update at start\n    this.update()\n  }\n\n  private onScreenVector = new Vector2()\n\n  private getMouseOnScreen = (pageX: number, pageY: number): Vector2 => {\n    this.onScreenVector.set(\n      (pageX - this.screen.left) / this.screen.width,\n      (pageY - this.screen.top) / this.screen.height,\n    )\n\n    return this.onScreenVector\n  }\n\n  private onCircleVector = new Vector2()\n\n  private getMouseOnCircle = (pageX: number, pageY: number): Vector2 => {\n    this.onCircleVector.set(\n      (pageX - this.screen.width * 0.5 - this.screen.left) / (this.screen.width * 0.5),\n      (this.screen.height + 2 * (this.screen.top - pageY)) / this.screen.width, // screen.width intentional\n    )\n\n    return this.onCircleVector\n  }\n\n  private axis = new Vector3()\n  private quaternion = new Quaternion()\n  private eyeDirection = new Vector3()\n  private objectUpDirection = new Vector3()\n  private objectSidewaysDirection = new Vector3()\n  private moveDirection = new Vector3()\n  private angle: number = 0\n\n  private rotateCamera = (): void => {\n    this.moveDirection.set(this._moveCurr.x - this._movePrev.x, this._moveCurr.y - this._movePrev.y, 0)\n    this.angle = this.moveDirection.length()\n\n    if (this.angle) {\n      this._eye.copy(this.object.position).sub(this.target)\n\n      this.eyeDirection.copy(this._eye).normalize()\n      this.objectUpDirection.copy(this.object.up).normalize()\n      this.objectSidewaysDirection.crossVectors(this.objectUpDirection, this.eyeDirection).normalize()\n\n      this.objectUpDirection.setLength(this._moveCurr.y - this._movePrev.y)\n      this.objectSidewaysDirection.setLength(this._moveCurr.x - this._movePrev.x)\n\n      this.moveDirection.copy(this.objectUpDirection.add(this.objectSidewaysDirection))\n\n      this.axis.crossVectors(this.moveDirection, this._eye).normalize()\n\n      this.angle *= this.rotateSpeed\n      this.quaternion.setFromAxisAngle(this.axis, this.angle)\n\n      this._eye.applyQuaternion(this.quaternion)\n      this.object.up.applyQuaternion(this.quaternion)\n\n      this._lastAxis.copy(this.axis)\n      this._lastAngle = this.angle\n    } else if (!this.staticMoving && this._lastAngle) {\n      this._lastAngle *= Math.sqrt(1.0 - this.dynamicDampingFactor)\n      this._eye.copy(this.object.position).sub(this.target)\n      this.quaternion.setFromAxisAngle(this._lastAxis, this._lastAngle)\n      this._eye.applyQuaternion(this.quaternion)\n      this.object.up.applyQuaternion(this.quaternion)\n    }\n\n    this._movePrev.copy(this._moveCurr)\n  }\n\n  private zoomCamera = (): void => {\n    let factor\n\n    if (this._state === this.STATE.TOUCH_ZOOM_PAN) {\n      factor = this._touchZoomDistanceStart / this._touchZoomDistanceEnd\n      this._touchZoomDistanceStart = this._touchZoomDistanceEnd\n\n      if ((this.object as PerspectiveCamera).isPerspectiveCamera) {\n        this._eye.multiplyScalar(factor)\n      } else if ((this.object as OrthographicCamera).isOrthographicCamera) {\n        this.object.zoom /= factor\n        this.object.updateProjectionMatrix()\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type')\n      }\n    } else {\n      factor = 1.0 + (this._zoomEnd.y - this._zoomStart.y) * this.zoomSpeed\n\n      if (Math.abs(factor - 1.0) > this.EPS && factor > 0.0) {\n        if ((this.object as PerspectiveCamera).isPerspectiveCamera) {\n          if (factor > 1.0 && this._eye.length() >= this.maxDistance - this.EPS) {\n            factor = 1.0\n          }\n          this._eye.multiplyScalar(factor)\n        } else if ((this.object as OrthographicCamera).isOrthographicCamera) {\n          if (factor > 1.0 && this.object.zoom < this.maxDistance * this.maxDistance) {\n            factor = 1.0\n          }\n          this.object.zoom /= factor\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type')\n        }\n      }\n\n      if (this.staticMoving) {\n        this._zoomStart.copy(this._zoomEnd)\n      } else {\n        this._zoomStart.y += (this._zoomEnd.y - this._zoomStart.y) * this.dynamicDampingFactor\n      }\n\n      if (this.cursorZoom) {\n        //determine 3D position of mouse cursor (on target plane)\n        this.targetVector.copy(this.target).project(this.object)\n        let worldPos = this.cursorVector\n          .set(this.mousePosition.x, this.mousePosition.y, this.targetVector.z)\n          .unproject(this.object)\n\n        //adjust target point so that \"point\" stays in place\n        this.target.lerpVectors(worldPos, this.target, factor)\n      }\n\n      // Update the projection matrix after all properties are changed\n      if ((this.object as OrthographicCamera).isOrthographicCamera) {\n        this.object.updateProjectionMatrix()\n      }\n    }\n  }\n\n  private mouseChange = new Vector2()\n  private objectUp = new Vector3()\n  private pan = new Vector3()\n\n  private panCamera = (): void => {\n    if (!this.domElement) return\n    this.mouseChange.copy(this._panEnd).sub(this._panStart)\n\n    if (this.mouseChange.lengthSq() > this.EPS) {\n      if ((this.object as OrthographicCamera).isOrthographicCamera) {\n        const orthoObject = this.object as OrthographicCamera\n        const scale_x = (orthoObject.right - orthoObject.left) / this.object.zoom\n        const scale_y = (orthoObject.top - orthoObject.bottom) / this.object.zoom\n\n        this.mouseChange.x *= scale_x\n        this.mouseChange.y *= scale_y\n      } else {\n        this.mouseChange.multiplyScalar(this._eye.length() * this.panSpeed)\n      }\n\n      this.pan.copy(this._eye).cross(this.object.up).setLength(this.mouseChange.x)\n      this.pan.add(this.objectUp.copy(this.object.up).setLength(this.mouseChange.y))\n\n      this.object.position.add(this.pan)\n      this.target.add(this.pan)\n\n      if (this.staticMoving) {\n        this._panStart.copy(this._panEnd)\n      } else {\n        this._panStart.add(\n          this.mouseChange.subVectors(this._panEnd, this._panStart).multiplyScalar(this.dynamicDampingFactor),\n        )\n      }\n    }\n  }\n\n  private checkDistances = (): void => {\n    if (!this.noZoom || !this.noPan) {\n      if (this._eye.lengthSq() > this.maxDistance * this.maxDistance) {\n        this.object.position.addVectors(this.target, this._eye.setLength(this.maxDistance))\n        this._zoomStart.copy(this._zoomEnd)\n      }\n\n      if (this._eye.lengthSq() < this.minDistance * this.minDistance) {\n        this.object.position.addVectors(this.target, this._eye.setLength(this.minDistance))\n        this._zoomStart.copy(this._zoomEnd)\n      }\n    }\n  }\n\n  public handleResize = (): void => {\n    if (!this.domElement) return\n    const box = this.domElement.getBoundingClientRect()\n    // adjustments come from similar code in the jquery offset() function\n    const d = this.domElement.ownerDocument.documentElement\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft\n    this.screen.top = box.top + window.pageYOffset - d.clientTop\n    this.screen.width = box.width\n    this.screen.height = box.height\n  }\n\n  public update = (): void => {\n    this._eye.subVectors(this.object.position, this.target)\n\n    if (!this.noRotate) {\n      this.rotateCamera()\n    }\n\n    if (!this.noZoom) {\n      this.zoomCamera()\n    }\n\n    if (!this.noPan) {\n      this.panCamera()\n    }\n\n    this.object.position.addVectors(this.target, this._eye)\n\n    if ((this.object as PerspectiveCamera).isPerspectiveCamera) {\n      this.checkDistances()\n\n      this.object.lookAt(this.target)\n\n      if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS) {\n        // @ts-ignore\n        this.dispatchEvent(this.changeEvent)\n\n        this.lastPosition.copy(this.object.position)\n      }\n    } else if ((this.object as OrthographicCamera).isOrthographicCamera) {\n      this.object.lookAt(this.target)\n\n      if (this.lastPosition.distanceToSquared(this.object.position) > this.EPS || this.lastZoom !== this.object.zoom) {\n        // @ts-ignore\n        this.dispatchEvent(this.changeEvent)\n\n        this.lastPosition.copy(this.object.position)\n        this.lastZoom = this.object.zoom\n      }\n    } else {\n      console.warn('THREE.TrackballControls: Unsupported camera type')\n    }\n  }\n\n  public reset = (): void => {\n    this._state = this.STATE.NONE\n    this._keyState = this.STATE.NONE\n\n    this.target.copy(this.target0)\n    this.object.position.copy(this.position0)\n    this.object.up.copy(this.up0)\n    this.object.zoom = this.zoom0\n\n    this.object.updateProjectionMatrix()\n\n    this._eye.subVectors(this.object.position, this.target)\n\n    this.object.lookAt(this.target)\n\n    // @ts-ignore\n    this.dispatchEvent(this.changeEvent)\n\n    this.lastPosition.copy(this.object.position)\n    this.lastZoom = this.object.zoom\n  }\n\n  private keydown = (event: KeyboardEvent): void => {\n    if (this.enabled === false) return\n\n    window.removeEventListener('keydown', this.keydown)\n\n    if (this._keyState !== this.STATE.NONE) {\n      return\n    } else if (event.code === this.keys[this.STATE.ROTATE] && !this.noRotate) {\n      this._keyState = this.STATE.ROTATE\n    } else if (event.code === this.keys[this.STATE.ZOOM] && !this.noZoom) {\n      this._keyState = this.STATE.ZOOM\n    } else if (event.code === this.keys[this.STATE.PAN] && !this.noPan) {\n      this._keyState = this.STATE.PAN\n    }\n  }\n\n  private onPointerDown = (event: PointerEvent): void => {\n    if (this.enabled === false) return\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        this.onMouseDown(event)\n        break\n\n      // TODO touch\n    }\n  }\n\n  private onPointerMove = (event: PointerEvent): void => {\n    if (this.enabled === false) return\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        this.onMouseMove(event)\n        break\n\n      // TODO touch\n    }\n  }\n\n  private onPointerUp = (event: PointerEvent): void => {\n    if (this.enabled === false) return\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        this.onMouseUp()\n        break\n\n      // TODO touch\n    }\n  }\n\n  private keyup = (): void => {\n    if (this.enabled === false) return\n\n    this._keyState = this.STATE.NONE\n\n    window.addEventListener('keydown', this.keydown)\n  }\n\n  private onMouseDown = (event: MouseEvent): void => {\n    if (!this.domElement) return\n    if (this._state === this.STATE.NONE) {\n      switch (event.button) {\n        case this.mouseButtons.LEFT:\n          this._state = this.STATE.ROTATE\n          break\n\n        case this.mouseButtons.MIDDLE:\n          this._state = this.STATE.ZOOM\n          break\n\n        case this.mouseButtons.RIGHT:\n          this._state = this.STATE.PAN\n          break\n      }\n    }\n\n    const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state\n\n    if (state === this.STATE.ROTATE && !this.noRotate) {\n      this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY))\n      this._movePrev.copy(this._moveCurr)\n    } else if (state === this.STATE.ZOOM && !this.noZoom) {\n      this._zoomStart.copy(this.getMouseOnScreen(event.pageX, event.pageY))\n      this._zoomEnd.copy(this._zoomStart)\n    } else if (state === this.STATE.PAN && !this.noPan) {\n      this._panStart.copy(this.getMouseOnScreen(event.pageX, event.pageY))\n      this._panEnd.copy(this._panStart)\n    }\n\n    this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove)\n    this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp)\n\n    // @ts-ignore\n    this.dispatchEvent(this.startEvent)\n  }\n\n  private onMouseMove = (event: MouseEvent): void => {\n    if (this.enabled === false) return\n\n    const state = this._keyState !== this.STATE.NONE ? this._keyState : this._state\n\n    if (state === this.STATE.ROTATE && !this.noRotate) {\n      this._movePrev.copy(this._moveCurr)\n      this._moveCurr.copy(this.getMouseOnCircle(event.pageX, event.pageY))\n    } else if (state === this.STATE.ZOOM && !this.noZoom) {\n      this._zoomEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY))\n    } else if (state === this.STATE.PAN && !this.noPan) {\n      this._panEnd.copy(this.getMouseOnScreen(event.pageX, event.pageY))\n    }\n  }\n\n  private onMouseUp = (): void => {\n    if (!this.domElement) return\n    if (this.enabled === false) return\n\n    this._state = this.STATE.NONE\n\n    this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove)\n    this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp)\n\n    // @ts-ignore\n    this.dispatchEvent(this.endEvent)\n  }\n\n  private mousewheel = (event: WheelEvent): void => {\n    if (this.enabled === false) return\n\n    if (this.noZoom === true) return\n\n    event.preventDefault()\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        this._zoomStart.y -= event.deltaY * 0.025\n        break\n\n      case 1:\n        // Zoom in lines\n        this._zoomStart.y -= event.deltaY * 0.01\n        break\n\n      default:\n        // undefined, 0, assume pixels\n        this._zoomStart.y -= event.deltaY * 0.00025\n        break\n    }\n\n    this.mousePosition.x = (event.offsetX / this.screen.width) * 2 - 1\n    this.mousePosition.y = -(event.offsetY / this.screen.height) * 2 + 1\n\n    // @ts-ignore\n    this.dispatchEvent(this.startEvent)\n    // @ts-ignore\n    this.dispatchEvent(this.endEvent)\n  }\n\n  private touchstart = (event: TouchEvent): void => {\n    if (this.enabled === false) return\n\n    event.preventDefault()\n\n    switch (event.touches.length) {\n      case 1:\n        this._state = this.STATE.TOUCH_ROTATE\n        this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        this._movePrev.copy(this._moveCurr)\n        break\n\n      default:\n        // 2 or more\n        this._state = this.STATE.TOUCH_ZOOM_PAN\n        const dx = event.touches[0].pageX - event.touches[1].pageX\n        const dy = event.touches[0].pageY - event.touches[1].pageY\n        this._touchZoomDistanceEnd = this._touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy)\n\n        const x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        const y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        this._panStart.copy(this.getMouseOnScreen(x, y))\n        this._panEnd.copy(this._panStart)\n        break\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(this.startEvent)\n  }\n\n  private touchmove = (event: TouchEvent): void => {\n    if (this.enabled === false) return\n\n    event.preventDefault()\n\n    switch (event.touches.length) {\n      case 1:\n        this._movePrev.copy(this._moveCurr)\n        this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        break\n\n      default:\n        // 2 or more\n        const dx = event.touches[0].pageX - event.touches[1].pageX\n        const dy = event.touches[0].pageY - event.touches[1].pageY\n        this._touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy)\n\n        const x = (event.touches[0].pageX + event.touches[1].pageX) / 2\n        const y = (event.touches[0].pageY + event.touches[1].pageY) / 2\n        this._panEnd.copy(this.getMouseOnScreen(x, y))\n        break\n    }\n  }\n\n  private touchend = (event: TouchEvent): void => {\n    if (this.enabled === false) return\n\n    switch (event.touches.length) {\n      case 0:\n        this._state = this.STATE.NONE\n        break\n\n      case 1:\n        this._state = this.STATE.TOUCH_ROTATE\n        this._moveCurr.copy(this.getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY))\n        this._movePrev.copy(this._moveCurr)\n        break\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(this.endEvent)\n  }\n\n  private contextmenu = (event: MouseEvent): void => {\n    if (this.enabled === false) return\n\n    event.preventDefault()\n  }\n\n  // https://github.com/mrdoob/three.js/issues/20575\n  public connect = (domElement: HTMLElement): void => {\n    if ((domElement as any) === document) {\n      console.error(\n        'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.',\n      )\n    }\n    this.domElement = domElement\n    this.domElement.addEventListener('contextmenu', this.contextmenu)\n\n    this.domElement.addEventListener('pointerdown', this.onPointerDown)\n    this.domElement.addEventListener('wheel', this.mousewheel)\n\n    this.domElement.addEventListener('touchstart', this.touchstart)\n    this.domElement.addEventListener('touchend', this.touchend)\n    this.domElement.addEventListener('touchmove', this.touchmove)\n\n    this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove)\n    this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp)\n\n    window.addEventListener('keydown', this.keydown)\n    window.addEventListener('keyup', this.keyup)\n\n    this.handleResize()\n  }\n\n  public dispose = (): void => {\n    if (!this.domElement) return\n    this.domElement.removeEventListener('contextmenu', this.contextmenu)\n\n    this.domElement.removeEventListener('pointerdown', this.onPointerDown)\n    this.domElement.removeEventListener('wheel', this.mousewheel)\n\n    this.domElement.removeEventListener('touchstart', this.touchstart)\n    this.domElement.removeEventListener('touchend', this.touchend)\n    this.domElement.removeEventListener('touchmove', this.touchmove)\n\n    this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove)\n    this.domElement.ownerDocument.removeEventListener('pointerup', this.onPointerUp)\n\n    window.removeEventListener('keydown', this.keydown)\n    window.removeEventListener('keyup', this.keyup)\n  }\n}\n\nexport { TrackballControls }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14743, "column": 0}, "map": {"version":3,"file":"ArcballControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/ArcballControls.ts"],"sourcesContent":["import {\n  GridHelper,\n  EllipseCurve,\n  BufferGeometry,\n  Line,\n  LineBasicMaterial,\n  Raycaster,\n  Group,\n  Box3,\n  Sphere,\n  Quaternion,\n  Vector2,\n  Vector3,\n  Matrix4,\n  MathUtils,\n  Scene,\n  PerspectiveCamera,\n  OrthographicCamera,\n  Mesh,\n  Material,\n} from 'three'\nimport { EventDispatcher } from './EventDispatcher'\nimport { StandardControlsEventMap } from './StandardControlsEventMap'\n\ntype Camera = OrthographicCamera | PerspectiveCamera\ntype Operation = 'PAN' | 'ROTATE' | 'ZOOM' | 'FOV'\ntype MouseButtonType = number | 'WHEEL'\ntype ModifierKey = 'CTRL' | 'SHIFT'\ntype MouseAction = {\n  operation: Operation\n  mouse: MouseButtonType\n  key: ModifierKey | null\n}\n\ntype Transformation = {\n  camera: Matrix4 | null\n  gizmos: Matrix4 | null\n}\n\n//trackball state\nconst STATE = {\n  IDLE: Symbol(),\n  ROTATE: Symbol(),\n  PAN: Symbol(),\n  SCALE: Symbol(),\n  FOV: Symbol(),\n  FOCUS: Symbol(),\n  ZROTATE: Symbol(),\n  TOUCH_MULTI: Symbol(),\n  ANIMATION_FOCUS: Symbol(),\n  ANIMATION_ROTATE: Symbol(),\n}\n\nconst INPUT = {\n  NONE: Symbol(),\n  ONE_FINGER: Symbol(),\n  ONE_FINGER_SWITCHED: Symbol(),\n  TWO_FINGER: Symbol(),\n  MULT_FINGER: Symbol(),\n  CURSOR: Symbol(),\n}\n\n//cursor center coordinates\nconst _center = {\n  x: 0,\n  y: 0,\n}\n\n//transformation matrices for gizmos and camera\nconst _transformation: Transformation = {\n  camera: /* @__PURE__ */ new Matrix4(),\n  gizmos: /* @__PURE__ */ new Matrix4(),\n}\n\n//events\nconst _changeEvent = { type: 'change' }\nconst _startEvent = { type: 'start' }\nconst _endEvent = { type: 'end' }\n\n/**\n *\n * @param {CamOrthographicCamera | PerspectiveCameraera} camera Virtual camera used in the scene\n * @param {HTMLElement=null} domElement Renderer's dom element\n * @param {Scene=null} scene The scene to be rendered\n */\nclass ArcballControls extends EventDispatcher<StandardControlsEventMap> {\n  private camera: OrthographicCamera | PerspectiveCamera | null\n  private domElement: HTMLElement | null | undefined\n  private scene: Scene | null | undefined\n\n  private mouseActions: (MouseAction & { state: Symbol })[]\n  private _mouseOp: Operation | null\n\n  private _v2_1: Vector2\n  private _v3_1: Vector3\n  private _v3_2: Vector3\n\n  private _m4_1: Matrix4\n  private _m4_2: Matrix4\n\n  private _quat: Quaternion\n\n  private _translationMatrix: Matrix4\n  private _rotationMatrix: Matrix4\n  private _scaleMatrix: Matrix4\n\n  private _rotationAxis: Vector3\n\n  private _cameraMatrixState: Matrix4\n  private _cameraProjectionState: Matrix4\n\n  private _fovState: number\n  private _upState: Vector3\n  private _zoomState: number\n  private _nearPos: number\n  private _farPos: number\n\n  private _gizmoMatrixState: Matrix4\n\n  private _up0: Vector3\n  private _zoom0: number\n  private _fov0: number\n  private _initialNear: number\n  private _nearPos0: number\n  private _initialFar: number\n  private _farPos0: number\n  private _cameraMatrixState0: Matrix4\n  private _gizmoMatrixState0: Matrix4\n\n  private _button: MouseButtonType\n  private _touchStart: PointerEvent[]\n  private _touchCurrent: PointerEvent[]\n  private _input: Symbol\n\n  private _switchSensibility: number\n  private _startFingerDistance: number\n  private _currentFingerDistance: number\n  private _startFingerRotation: number\n  private _currentFingerRotation: number\n\n  private _devPxRatio: number\n  private _downValid: boolean\n  private _nclicks: number\n  private _downEvents: PointerEvent[]\n  private _clickStart: number\n  private _maxDownTime: number\n  private _maxInterval: number\n  private _posThreshold: number\n  private _movementThreshold: number\n\n  private _currentCursorPosition: Vector3\n  private _startCursorPosition: Vector3\n\n  private _grid: GridHelper | null\n  private _gridPosition: Vector3\n\n  private _gizmos: Group\n  private _curvePts: number\n\n  private _timeStart: number\n  private _animationId: number\n\n  public focusAnimationTime: number\n\n  private _timePrev: number\n  private _timeCurrent: number\n  private _anglePrev: number\n  private _angleCurrent: number\n  private _cursorPosPrev: Vector3\n  private _cursorPosCurr: Vector3\n  private _wPrev: number\n  private _wCurr: number\n\n  public adjustNearFar: boolean\n  public scaleFactor: number\n  public dampingFactor: number\n  public wMax: number\n  public enableAnimations: boolean\n  public enableGrid: boolean\n  public cursorZoom: boolean\n  public minFov: number\n  public maxFov: number\n\n  public enabled: boolean\n  public enablePan: boolean\n  public enableRotate: boolean\n  public enableZoom: boolean\n\n  public minDistance: number\n  public maxDistance: number\n  public minZoom: number\n  public maxZoom: number\n\n  readonly target: Vector3\n  private _currentTarget: Vector3\n\n  private _tbRadius: number\n\n  private _state: Symbol\n\n  constructor(\n    camera: Camera | null,\n    domElement: HTMLElement | null | undefined = null,\n    scene: Scene | null | undefined = null,\n  ) {\n    super()\n    this.camera = null\n    this.domElement = domElement\n    this.scene = scene\n\n    this.mouseActions = []\n    this._mouseOp = null\n\n    //global vectors and matrices that are used in some operations to avoid creating new objects every time (e.g. every time cursor moves)\n    this._v2_1 = new Vector2()\n    this._v3_1 = new Vector3()\n    this._v3_2 = new Vector3()\n\n    this._m4_1 = new Matrix4()\n    this._m4_2 = new Matrix4()\n\n    this._quat = new Quaternion()\n\n    //transformation matrices\n    this._translationMatrix = new Matrix4() //matrix for translation operation\n    this._rotationMatrix = new Matrix4() //matrix for rotation operation\n    this._scaleMatrix = new Matrix4() //matrix for scaling operation\n\n    this._rotationAxis = new Vector3() //axis for rotate operation\n\n    //camera state\n    this._cameraMatrixState = new Matrix4()\n    this._cameraProjectionState = new Matrix4()\n\n    this._fovState = 1\n    this._upState = new Vector3()\n    this._zoomState = 1\n    this._nearPos = 0\n    this._farPos = 0\n\n    this._gizmoMatrixState = new Matrix4()\n\n    //initial values\n    this._up0 = new Vector3()\n    this._zoom0 = 1\n    this._fov0 = 0\n    this._initialNear = 0\n    this._nearPos0 = 0\n    this._initialFar = 0\n    this._farPos0 = 0\n    this._cameraMatrixState0 = new Matrix4()\n    this._gizmoMatrixState0 = new Matrix4()\n\n    //pointers array\n    this._button = -1\n    this._touchStart = []\n    this._touchCurrent = []\n    this._input = INPUT.NONE\n\n    //two fingers touch interaction\n    this._switchSensibility = 32 //minimum movement to be performed to fire single pan start after the second finger has been released\n    this._startFingerDistance = 0 //distance between two fingers\n    this._currentFingerDistance = 0\n    this._startFingerRotation = 0 //amount of rotation performed with two fingers\n    this._currentFingerRotation = 0\n\n    //double tap\n    this._devPxRatio = 0\n    this._downValid = true\n    this._nclicks = 0\n    this._downEvents = []\n    this._clickStart = 0 //first click time\n    this._maxDownTime = 250\n    this._maxInterval = 300\n    this._posThreshold = 24\n    this._movementThreshold = 24\n\n    //cursor positions\n    this._currentCursorPosition = new Vector3()\n    this._startCursorPosition = new Vector3()\n\n    //grid\n    this._grid = null //grid to be visualized during pan operation\n    this._gridPosition = new Vector3()\n\n    //gizmos\n    this._gizmos = new Group()\n    this._curvePts = 128\n\n    //animations\n    this._timeStart = -1 //initial time\n    this._animationId = -1\n\n    //focus animation\n    this.focusAnimationTime = 500 //duration of focus animation in ms\n\n    //rotate animation\n    this._timePrev = 0 //time at which previous rotate operation has been detected\n    this._timeCurrent = 0 //time at which current rotate operation has been detected\n    this._anglePrev = 0 //angle of previous rotation\n    this._angleCurrent = 0 //angle of current rotation\n    this._cursorPosPrev = new Vector3() //cursor position when previous rotate operation has been detected\n    this._cursorPosCurr = new Vector3() //cursor position when current rotate operation has been detected\n    this._wPrev = 0 //angular velocity of the previous rotate operation\n    this._wCurr = 0 //angular velocity of the current rotate operation\n\n    //parameters\n    this.adjustNearFar = false\n    this.scaleFactor = 1.1 //zoom/distance multiplier\n    this.dampingFactor = 25\n    this.wMax = 20 //maximum angular velocity allowed\n    this.enableAnimations = true //if animations should be performed\n    this.enableGrid = false //if grid should be showed during pan operation\n    this.cursorZoom = false //if wheel zoom should be cursor centered\n    this.minFov = 5\n    this.maxFov = 90\n\n    this.enabled = true\n    this.enablePan = true\n    this.enableRotate = true\n    this.enableZoom = true\n\n    this.minDistance = 0\n    this.maxDistance = Infinity\n    this.minZoom = 0\n    this.maxZoom = Infinity\n\n    //trackball parameters\n    this.target = new Vector3(0, 0, 0)\n    this._currentTarget = new Vector3(0, 0, 0)\n\n    this._tbRadius = 1\n\n    //FSA\n    this._state = STATE.IDLE\n\n    this.setCamera(camera)\n\n    if (this.scene) {\n      this.scene.add(this._gizmos)\n    }\n\n    this._devPxRatio = window.devicePixelRatio\n\n    this.initializeMouseActions()\n\n    if (this.domElement) this.connect(this.domElement)\n\n    window.addEventListener('resize', this.onWindowResize)\n  }\n\n  //listeners\n\n  private onWindowResize = (): void => {\n    const scale = (this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z) / 3\n    if (this.camera) {\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n    }\n\n    const newRadius = this._tbRadius / scale\n    // @ts-ignore\n    const curve = new EllipseCurve(0, 0, newRadius, newRadius)\n    const points = curve.getPoints(this._curvePts)\n    const curveGeometry = new BufferGeometry().setFromPoints(points)\n\n    for (const gizmo in this._gizmos.children) {\n      const child = this._gizmos.children[gizmo] as Mesh\n      child.geometry = curveGeometry\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(_changeEvent)\n  }\n\n  private onContextMenu = (event: MouseEvent): void => {\n    if (!this.enabled) {\n      return\n    }\n\n    for (let i = 0; i < this.mouseActions.length; i++) {\n      if (this.mouseActions[i].mouse == 2) {\n        //prevent only if button 2 is actually used\n        event.preventDefault()\n        break\n      }\n    }\n  }\n\n  private onPointerCancel = (): void => {\n    this._touchStart.splice(0, this._touchStart.length)\n    this._touchCurrent.splice(0, this._touchCurrent.length)\n    this._input = INPUT.NONE\n  }\n\n  private onPointerDown = (event: PointerEvent): void => {\n    if (event.button == 0 && event.isPrimary) {\n      this._downValid = true\n      this._downEvents.push(event)\n    } else {\n      this._downValid = false\n    }\n\n    if (event.pointerType == 'touch' && this._input != INPUT.CURSOR) {\n      this._touchStart.push(event)\n      this._touchCurrent.push(event)\n\n      switch (this._input) {\n        case INPUT.NONE:\n          //singleStart\n          this._input = INPUT.ONE_FINGER\n          this.onSinglePanStart(event, 'ROTATE')\n\n          window.addEventListener('pointermove', this.onPointerMove)\n          window.addEventListener('pointerup', this.onPointerUp)\n\n          break\n\n        case INPUT.ONE_FINGER:\n        case INPUT.ONE_FINGER_SWITCHED:\n          //doubleStart\n          this._input = INPUT.TWO_FINGER\n\n          this.onRotateStart()\n          this.onPinchStart()\n          this.onDoublePanStart()\n\n          break\n\n        case INPUT.TWO_FINGER:\n          //multipleStart\n          this._input = INPUT.MULT_FINGER\n          this.onTriplePanStart()\n          break\n      }\n    } else if (event.pointerType != 'touch' && this._input == INPUT.NONE) {\n      let modifier: ModifierKey | null = null\n\n      if (event.ctrlKey || event.metaKey) {\n        modifier = 'CTRL'\n      } else if (event.shiftKey) {\n        modifier = 'SHIFT'\n      }\n\n      this._mouseOp = this.getOpFromAction(event.button, modifier)\n      if (this._mouseOp) {\n        window.addEventListener('pointermove', this.onPointerMove)\n        window.addEventListener('pointerup', this.onPointerUp)\n\n        //singleStart\n        this._input = INPUT.CURSOR\n        this._button = event.button\n        this.onSinglePanStart(event, this._mouseOp)\n      }\n    }\n  }\n\n  private onPointerMove = (event: PointerEvent): void => {\n    if (event.pointerType == 'touch' && this._input != INPUT.CURSOR) {\n      switch (this._input) {\n        case INPUT.ONE_FINGER:\n          //singleMove\n          this.updateTouchEvent(event)\n\n          this.onSinglePanMove(event, STATE.ROTATE)\n          break\n\n        case INPUT.ONE_FINGER_SWITCHED:\n          const movement = this.calculatePointersDistance(this._touchCurrent[0], event) * this._devPxRatio\n\n          if (movement >= this._switchSensibility) {\n            //singleMove\n            this._input = INPUT.ONE_FINGER\n            this.updateTouchEvent(event)\n\n            this.onSinglePanStart(event, 'ROTATE')\n            break\n          }\n\n          break\n\n        case INPUT.TWO_FINGER:\n          //rotate/pan/pinchMove\n          this.updateTouchEvent(event)\n\n          this.onRotateMove()\n          this.onPinchMove()\n          this.onDoublePanMove()\n\n          break\n\n        case INPUT.MULT_FINGER:\n          //multMove\n          this.updateTouchEvent(event)\n\n          this.onTriplePanMove()\n          break\n      }\n    } else if (event.pointerType != 'touch' && this._input == INPUT.CURSOR) {\n      let modifier: ModifierKey | null = null\n\n      if (event.ctrlKey || event.metaKey) {\n        modifier = 'CTRL'\n      } else if (event.shiftKey) {\n        modifier = 'SHIFT'\n      }\n\n      const mouseOpState = this.getOpStateFromAction(this._button, modifier)\n\n      if (mouseOpState) {\n        this.onSinglePanMove(event, mouseOpState)\n      }\n    }\n\n    //checkDistance\n    if (this._downValid) {\n      const movement =\n        this.calculatePointersDistance(this._downEvents[this._downEvents.length - 1], event) * this._devPxRatio\n      if (movement > this._movementThreshold) {\n        this._downValid = false\n      }\n    }\n  }\n\n  private onPointerUp = (event: PointerEvent): void => {\n    if (event.pointerType == 'touch' && this._input != INPUT.CURSOR) {\n      const nTouch = this._touchCurrent.length\n\n      for (let i = 0; i < nTouch; i++) {\n        if (this._touchCurrent[i].pointerId == event.pointerId) {\n          this._touchCurrent.splice(i, 1)\n          this._touchStart.splice(i, 1)\n          break\n        }\n      }\n\n      switch (this._input) {\n        case INPUT.ONE_FINGER:\n        case INPUT.ONE_FINGER_SWITCHED:\n          //singleEnd\n          window.removeEventListener('pointermove', this.onPointerMove)\n          window.removeEventListener('pointerup', this.onPointerUp)\n\n          this._input = INPUT.NONE\n          this.onSinglePanEnd()\n\n          break\n\n        case INPUT.TWO_FINGER:\n          //doubleEnd\n          this.onDoublePanEnd()\n          this.onPinchEnd()\n          this.onRotateEnd()\n\n          //switching to singleStart\n          this._input = INPUT.ONE_FINGER_SWITCHED\n\n          break\n\n        case INPUT.MULT_FINGER:\n          if (this._touchCurrent.length == 0) {\n            window.removeEventListener('pointermove', this.onPointerMove)\n            window.removeEventListener('pointerup', this.onPointerUp)\n\n            //multCancel\n            this._input = INPUT.NONE\n            this.onTriplePanEnd()\n          }\n\n          break\n      }\n    } else if (event.pointerType != 'touch' && this._input == INPUT.CURSOR) {\n      window.removeEventListener('pointermove', this.onPointerMove)\n      window.removeEventListener('pointerup', this.onPointerUp)\n\n      this._input = INPUT.NONE\n      this.onSinglePanEnd()\n      this._button = -1\n    }\n\n    if (event.isPrimary) {\n      if (this._downValid) {\n        const downTime = event.timeStamp - this._downEvents[this._downEvents.length - 1].timeStamp\n\n        if (downTime <= this._maxDownTime) {\n          if (this._nclicks == 0) {\n            //first valid click detected\n            this._nclicks = 1\n            this._clickStart = performance.now()\n          } else {\n            const clickInterval = event.timeStamp - this._clickStart\n            const movement = this.calculatePointersDistance(this._downEvents[1], this._downEvents[0]) * this._devPxRatio\n\n            if (clickInterval <= this._maxInterval && movement <= this._posThreshold) {\n              //second valid click detected\n              //fire double tap and reset values\n              this._nclicks = 0\n              this._downEvents.splice(0, this._downEvents.length)\n              this.onDoubleTap(event)\n            } else {\n              //new 'first click'\n              this._nclicks = 1\n              this._downEvents.shift()\n              this._clickStart = performance.now()\n            }\n          }\n        } else {\n          this._downValid = false\n          this._nclicks = 0\n          this._downEvents.splice(0, this._downEvents.length)\n        }\n      } else {\n        this._nclicks = 0\n        this._downEvents.splice(0, this._downEvents.length)\n      }\n    }\n  }\n\n  private onWheel = (event: WheelEvent): void => {\n    if (this.enabled && this.enableZoom && this.domElement) {\n      let modifier: ModifierKey | null = null\n\n      if (event.ctrlKey || event.metaKey) {\n        modifier = 'CTRL'\n      } else if (event.shiftKey) {\n        modifier = 'SHIFT'\n      }\n\n      const mouseOp = this.getOpFromAction('WHEEL', modifier)\n\n      if (mouseOp) {\n        event.preventDefault()\n        // @ts-ignore\n        this.dispatchEvent(_startEvent)\n\n        const notchDeltaY = 125 //distance of one notch of mouse wheel\n        let sgn = event.deltaY / notchDeltaY\n\n        let size = 1\n\n        if (sgn > 0) {\n          size = 1 / this.scaleFactor\n        } else if (sgn < 0) {\n          size = this.scaleFactor\n        }\n\n        switch (mouseOp) {\n          case 'ZOOM':\n            this.updateTbState(STATE.SCALE, true)\n\n            if (sgn > 0) {\n              size = 1 / Math.pow(this.scaleFactor, sgn)\n            } else if (sgn < 0) {\n              size = Math.pow(this.scaleFactor, -sgn)\n            }\n\n            if (this.cursorZoom && this.enablePan) {\n              let scalePoint\n\n              if (this.camera instanceof OrthographicCamera) {\n                scalePoint = this.unprojectOnTbPlane(this.camera, event.clientX, event.clientY, this.domElement)\n                  ?.applyQuaternion(this.camera.quaternion)\n                  .multiplyScalar(1 / this.camera.zoom)\n                  .add(this._gizmos.position)\n              }\n\n              if (this.camera instanceof PerspectiveCamera) {\n                scalePoint = this.unprojectOnTbPlane(this.camera, event.clientX, event.clientY, this.domElement)\n                  ?.applyQuaternion(this.camera.quaternion)\n                  .add(this._gizmos.position)\n              }\n\n              if (scalePoint !== undefined) this.applyTransformMatrix(this.applyScale(size, scalePoint))\n            } else {\n              this.applyTransformMatrix(this.applyScale(size, this._gizmos.position))\n            }\n\n            if (this._grid) {\n              this.disposeGrid()\n              this.drawGrid()\n            }\n\n            this.updateTbState(STATE.IDLE, false)\n\n            // @ts-ignore\n            this.dispatchEvent(_changeEvent)\n            // @ts-ignore\n            this.dispatchEvent(_endEvent)\n\n            break\n\n          case 'FOV':\n            if (this.camera instanceof PerspectiveCamera) {\n              this.updateTbState(STATE.FOV, true)\n\n              //Vertigo effect\n\n              //\t  fov / 2\n              //\t\t|\\\n              //\t\t| \\\n              //\t\t|  \\\n              //\tx\t|\t\\\n              //\t\t| \t \\\n              //\t\t| \t  \\\n              //\t\t| _ _ _\\\n              //\t\t\ty\n\n              //check for iOs shift shortcut\n              if (event.deltaX != 0) {\n                sgn = event.deltaX / notchDeltaY\n\n                size = 1\n\n                if (sgn > 0) {\n                  size = 1 / Math.pow(this.scaleFactor, sgn)\n                } else if (sgn < 0) {\n                  size = Math.pow(this.scaleFactor, -sgn)\n                }\n              }\n\n              this._v3_1.setFromMatrixPosition(this._cameraMatrixState)\n              const x = this._v3_1.distanceTo(this._gizmos.position)\n              let xNew = x / size //distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n              //check min and max distance\n              xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance)\n\n              const y = x * Math.tan(MathUtils.DEG2RAD * this.camera.fov * 0.5)\n\n              //calculate new fov\n              let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2)\n\n              //check min and max fov\n              if (newFov > this.maxFov) {\n                newFov = this.maxFov\n              } else if (newFov < this.minFov) {\n                newFov = this.minFov\n              }\n\n              const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2))\n              size = x / newDistance\n\n              this.setFov(newFov)\n              this.applyTransformMatrix(this.applyScale(size, this._gizmos.position, false))\n            }\n\n            if (this._grid) {\n              this.disposeGrid()\n              this.drawGrid()\n            }\n\n            this.updateTbState(STATE.IDLE, false)\n\n            // @ts-ignore\n            this.dispatchEvent(_changeEvent)\n            // @ts-ignore\n            this.dispatchEvent(_endEvent)\n\n            break\n        }\n      }\n    }\n  }\n\n  private onSinglePanStart = (event: PointerEvent, operation: Operation): void => {\n    if (this.enabled && this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n\n      this.setCenter(event.clientX, event.clientY)\n\n      switch (operation) {\n        case 'PAN':\n          if (!this.enablePan) return\n\n          if (this._animationId != -1) {\n            cancelAnimationFrame(this._animationId)\n            this._animationId = -1\n            this._timeStart = -1\n\n            this.activateGizmos(false)\n            // @ts-ignore\n            this.dispatchEvent(_changeEvent)\n          }\n\n          if (this.camera) {\n            this.updateTbState(STATE.PAN, true)\n            const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n            if (rayDir !== undefined) {\n              this._startCursorPosition.copy(rayDir)\n            }\n            if (this.enableGrid) {\n              this.drawGrid()\n              // @ts-ignore\n              this.dispatchEvent(_changeEvent)\n            }\n          }\n\n          break\n\n        case 'ROTATE':\n          if (!this.enableRotate) return\n\n          if (this._animationId != -1) {\n            cancelAnimationFrame(this._animationId)\n            this._animationId = -1\n            this._timeStart = -1\n          }\n\n          if (this.camera) {\n            this.updateTbState(STATE.ROTATE, true)\n            const rayDir = this.unprojectOnTbSurface(this.camera, _center.x, _center.y, this.domElement, this._tbRadius)\n            if (rayDir !== undefined) {\n              this._startCursorPosition.copy(rayDir)\n            }\n            this.activateGizmos(true)\n            if (this.enableAnimations) {\n              this._timePrev = this._timeCurrent = performance.now()\n              this._angleCurrent = this._anglePrev = 0\n              this._cursorPosPrev.copy(this._startCursorPosition)\n              this._cursorPosCurr.copy(this._cursorPosPrev)\n              this._wCurr = 0\n              this._wPrev = this._wCurr\n            }\n          }\n\n          // @ts-ignore\n          this.dispatchEvent(_changeEvent)\n          break\n\n        case 'FOV':\n          if (!this.enableZoom) return\n\n          if (this.camera instanceof PerspectiveCamera) {\n            if (this._animationId != -1) {\n              cancelAnimationFrame(this._animationId)\n              this._animationId = -1\n              this._timeStart = -1\n\n              this.activateGizmos(false)\n              // @ts-ignore\n              this.dispatchEvent(_changeEvent)\n            }\n\n            this.updateTbState(STATE.FOV, true)\n            this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n            this._currentCursorPosition.copy(this._startCursorPosition)\n          }\n          break\n\n        case 'ZOOM':\n          if (!this.enableZoom) return\n\n          if (this._animationId != -1) {\n            cancelAnimationFrame(this._animationId)\n            this._animationId = -1\n            this._timeStart = -1\n\n            this.activateGizmos(false)\n            // @ts-ignore\n            this.dispatchEvent(_changeEvent)\n          }\n\n          this.updateTbState(STATE.SCALE, true)\n          this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n          this._currentCursorPosition.copy(this._startCursorPosition)\n          break\n      }\n    }\n  }\n\n  private onSinglePanMove = (event: PointerEvent, opState: Symbol): void => {\n    if (this.enabled && this.domElement) {\n      const restart = opState != this._state\n      this.setCenter(event.clientX, event.clientY)\n\n      switch (opState) {\n        case STATE.PAN:\n          if (this.enablePan && this.camera) {\n            if (restart) {\n              //switch to pan operation\n\n              // @ts-ignore\n              this.dispatchEvent(_endEvent)\n              // @ts-ignore\n              this.dispatchEvent(_startEvent)\n\n              this.updateTbState(opState, true)\n              const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n              if (rayDir !== undefined) {\n                this._startCursorPosition.copy(rayDir)\n              }\n              if (this.enableGrid) {\n                this.drawGrid()\n              }\n\n              this.activateGizmos(false)\n            } else {\n              //continue with pan operation\n              const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n              if (rayDir !== undefined) {\n                this._currentCursorPosition.copy(rayDir)\n              }\n              this.applyTransformMatrix(this.pan(this._startCursorPosition, this._currentCursorPosition))\n            }\n          }\n\n          break\n\n        case STATE.ROTATE:\n          if (this.enableRotate && this.camera) {\n            if (restart) {\n              //switch to rotate operation\n\n              // @ts-ignore\n              this.dispatchEvent(_endEvent)\n              // @ts-ignore\n              this.dispatchEvent(_startEvent)\n\n              this.updateTbState(opState, true)\n              const rayDir = this.unprojectOnTbSurface(\n                this.camera,\n                _center.x,\n                _center.y,\n                this.domElement,\n                this._tbRadius,\n              )\n              if (rayDir !== undefined) {\n                this._startCursorPosition.copy(rayDir)\n              }\n\n              if (this.enableGrid) {\n                this.disposeGrid()\n              }\n\n              this.activateGizmos(true)\n            } else {\n              //continue with rotate operation\n              const rayDir = this.unprojectOnTbSurface(\n                this.camera,\n                _center.x,\n                _center.y,\n                this.domElement,\n                this._tbRadius,\n              )\n              if (rayDir !== undefined) {\n                this._currentCursorPosition.copy(rayDir)\n              }\n\n              const distance = this._startCursorPosition.distanceTo(this._currentCursorPosition)\n              const angle = this._startCursorPosition.angleTo(this._currentCursorPosition)\n              const amount = Math.max(distance / this._tbRadius, angle) //effective rotation angle\n\n              this.applyTransformMatrix(\n                this.rotate(this.calculateRotationAxis(this._startCursorPosition, this._currentCursorPosition), amount),\n              )\n\n              if (this.enableAnimations) {\n                this._timePrev = this._timeCurrent\n                this._timeCurrent = performance.now()\n                this._anglePrev = this._angleCurrent\n                this._angleCurrent = amount\n                this._cursorPosPrev.copy(this._cursorPosCurr)\n                this._cursorPosCurr.copy(this._currentCursorPosition)\n                this._wPrev = this._wCurr\n                this._wCurr = this.calculateAngularSpeed(\n                  this._anglePrev,\n                  this._angleCurrent,\n                  this._timePrev,\n                  this._timeCurrent,\n                )\n              }\n            }\n          }\n\n          break\n\n        case STATE.SCALE:\n          if (this.enableZoom) {\n            if (restart) {\n              //switch to zoom operation\n\n              // @ts-ignore\n              this.dispatchEvent(_endEvent)\n              // @ts-ignore\n              this.dispatchEvent(_startEvent)\n\n              this.updateTbState(opState, true)\n              this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n              this._currentCursorPosition.copy(this._startCursorPosition)\n\n              if (this.enableGrid) {\n                this.disposeGrid()\n              }\n\n              this.activateGizmos(false)\n            } else {\n              //continue with zoom operation\n              const screenNotches = 8 //how many wheel notches corresponds to a full screen pan\n              this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n\n              const movement = this._currentCursorPosition.y - this._startCursorPosition.y\n\n              let size = 1\n\n              if (movement < 0) {\n                size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches)\n              } else if (movement > 0) {\n                size = Math.pow(this.scaleFactor, movement * screenNotches)\n              }\n\n              this.applyTransformMatrix(this.applyScale(size, this._gizmos.position))\n            }\n          }\n\n          break\n\n        case STATE.FOV:\n          if (this.enableZoom && this.camera instanceof PerspectiveCamera) {\n            if (restart) {\n              //switch to fov operation\n\n              // @ts-ignore\n              this.dispatchEvent(_endEvent)\n              // @ts-ignore\n              this.dispatchEvent(_startEvent)\n\n              this.updateTbState(opState, true)\n              this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n              this._currentCursorPosition.copy(this._startCursorPosition)\n\n              if (this.enableGrid) {\n                this.disposeGrid()\n              }\n\n              this.activateGizmos(false)\n            } else {\n              //continue with fov operation\n              const screenNotches = 8 //how many wheel notches corresponds to a full screen pan\n              this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n\n              const movement = this._currentCursorPosition.y - this._startCursorPosition.y\n\n              let size = 1\n\n              if (movement < 0) {\n                size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches)\n              } else if (movement > 0) {\n                size = Math.pow(this.scaleFactor, movement * screenNotches)\n              }\n\n              this._v3_1.setFromMatrixPosition(this._cameraMatrixState)\n              const x = this._v3_1.distanceTo(this._gizmos.position)\n              let xNew = x / size //distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n              //check min and max distance\n              xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance)\n\n              const y = x * Math.tan(MathUtils.DEG2RAD * this._fovState * 0.5)\n\n              //calculate new fov\n              let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2)\n\n              //check min and max fov\n              newFov = MathUtils.clamp(newFov, this.minFov, this.maxFov)\n\n              const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2))\n              size = x / newDistance\n              this._v3_2.setFromMatrixPosition(this._gizmoMatrixState)\n\n              this.setFov(newFov)\n              this.applyTransformMatrix(this.applyScale(size, this._v3_2, false))\n\n              //adjusting distance\n              const direction = this._gizmos.position\n                .clone()\n                .sub(this.camera.position)\n                .normalize()\n                .multiplyScalar(newDistance / x)\n              this._m4_1.makeTranslation(direction.x, direction.y, direction.z)\n            }\n          }\n\n          break\n      }\n\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  private onSinglePanEnd = (): void => {\n    if (this._state == STATE.ROTATE) {\n      if (!this.enableRotate) {\n        return\n      }\n\n      if (this.enableAnimations) {\n        //perform rotation animation\n        const deltaTime = performance.now() - this._timeCurrent\n        if (deltaTime < 120) {\n          const w = Math.abs((this._wPrev + this._wCurr) / 2)\n\n          const self = this\n          this._animationId = window.requestAnimationFrame(function (t) {\n            self.updateTbState(STATE.ANIMATION_ROTATE, true)\n            const rotationAxis = self.calculateRotationAxis(self._cursorPosPrev, self._cursorPosCurr)\n\n            self.onRotationAnim(t, rotationAxis, Math.min(w, self.wMax))\n          })\n        } else {\n          //cursor has been standing still for over 120 ms since last movement\n          this.updateTbState(STATE.IDLE, false)\n          this.activateGizmos(false)\n          // @ts-ignore\n          this.dispatchEvent(_changeEvent)\n        }\n      } else {\n        this.updateTbState(STATE.IDLE, false)\n        this.activateGizmos(false)\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n      }\n    } else if (this._state == STATE.PAN || this._state == STATE.IDLE) {\n      this.updateTbState(STATE.IDLE, false)\n\n      if (this.enableGrid) {\n        this.disposeGrid()\n      }\n\n      this.activateGizmos(false)\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n  }\n\n  private onDoubleTap = (event: PointerEvent): void => {\n    if (this.enabled && this.enablePan && this.scene && this.camera && this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n\n      this.setCenter(event.clientX, event.clientY)\n      const hitP = this.unprojectOnObj(this.getCursorNDC(_center.x, _center.y, this.domElement), this.camera)\n\n      if (hitP && this.enableAnimations) {\n        const self = this\n        if (this._animationId != -1) {\n          window.cancelAnimationFrame(this._animationId)\n        }\n\n        this._timeStart = -1\n        this._animationId = window.requestAnimationFrame(function (t) {\n          self.updateTbState(STATE.ANIMATION_FOCUS, true)\n          self.onFocusAnim(t, hitP, self._cameraMatrixState, self._gizmoMatrixState)\n        })\n      } else if (hitP && !this.enableAnimations) {\n        this.updateTbState(STATE.FOCUS, true)\n        this.focus(hitP, this.scaleFactor)\n        this.updateTbState(STATE.IDLE, false)\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n      }\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n  }\n\n  private onDoublePanStart = (): void => {\n    if (this.enabled && this.enablePan && this.camera && this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n\n      this.updateTbState(STATE.PAN, true)\n\n      this.setCenter(\n        (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n        (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2,\n      )\n\n      const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement, true)\n      if (rayDir !== undefined) {\n        this._startCursorPosition.copy(rayDir)\n      }\n      this._currentCursorPosition.copy(this._startCursorPosition)\n\n      this.activateGizmos(false)\n    }\n  }\n\n  private onDoublePanMove = (): void => {\n    if (this.enabled && this.enablePan && this.camera && this.domElement) {\n      this.setCenter(\n        (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n        (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2,\n      )\n\n      if (this._state != STATE.PAN) {\n        this.updateTbState(STATE.PAN, true)\n        this._startCursorPosition.copy(this._currentCursorPosition)\n      }\n\n      const rayDir = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement, true)\n      if (rayDir !== undefined) this._currentCursorPosition.copy(rayDir)\n      this.applyTransformMatrix(this.pan(this._startCursorPosition, this._currentCursorPosition, true))\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  private onDoublePanEnd = (): void => {\n    this.updateTbState(STATE.IDLE, false)\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n  }\n\n  private onRotateStart = (): void => {\n    if (this.enabled && this.enableRotate) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n\n      this.updateTbState(STATE.ZROTATE, true)\n\n      //this._startFingerRotation = event.rotation;\n\n      this._startFingerRotation =\n        this.getAngle(this._touchCurrent[1], this._touchCurrent[0]) +\n        this.getAngle(this._touchStart[1], this._touchStart[0])\n      this._currentFingerRotation = this._startFingerRotation\n\n      this.camera?.getWorldDirection(this._rotationAxis) //rotation axis\n\n      if (!this.enablePan && !this.enableZoom) {\n        this.activateGizmos(true)\n      }\n    }\n  }\n\n  private onRotateMove = (): void => {\n    if (this.enabled && this.enableRotate && this.camera && this.domElement) {\n      this.setCenter(\n        (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n        (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2,\n      )\n      let rotationPoint\n\n      if (this._state != STATE.ZROTATE) {\n        this.updateTbState(STATE.ZROTATE, true)\n        this._startFingerRotation = this._currentFingerRotation\n      }\n\n      //this._currentFingerRotation = event.rotation;\n      this._currentFingerRotation =\n        this.getAngle(this._touchCurrent[1], this._touchCurrent[0]) +\n        this.getAngle(this._touchStart[1], this._touchStart[0])\n\n      if (!this.enablePan) {\n        rotationPoint = new Vector3().setFromMatrixPosition(this._gizmoMatrixState)\n      } else if (this.camera) {\n        this._v3_2.setFromMatrixPosition(this._gizmoMatrixState)\n        rotationPoint = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n          ?.applyQuaternion(this.camera.quaternion)\n          .multiplyScalar(1 / this.camera.zoom)\n          .add(this._v3_2)\n      }\n\n      const amount = MathUtils.DEG2RAD * (this._startFingerRotation - this._currentFingerRotation)\n\n      if (rotationPoint !== undefined) {\n        this.applyTransformMatrix(this.zRotate(rotationPoint, amount))\n      }\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  private onRotateEnd = (): void => {\n    this.updateTbState(STATE.IDLE, false)\n    this.activateGizmos(false)\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n  }\n\n  private onPinchStart = (): void => {\n    if (this.enabled && this.enableZoom) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n      this.updateTbState(STATE.SCALE, true)\n\n      this._startFingerDistance = this.calculatePointersDistance(this._touchCurrent[0], this._touchCurrent[1])\n      this._currentFingerDistance = this._startFingerDistance\n\n      this.activateGizmos(false)\n    }\n  }\n\n  private onPinchMove = (): void => {\n    if (this.enabled && this.enableZoom && this.domElement) {\n      this.setCenter(\n        (this._touchCurrent[0].clientX + this._touchCurrent[1].clientX) / 2,\n        (this._touchCurrent[0].clientY + this._touchCurrent[1].clientY) / 2,\n      )\n      const minDistance = 12 //minimum distance between fingers (in css pixels)\n\n      if (this._state != STATE.SCALE) {\n        this._startFingerDistance = this._currentFingerDistance\n        this.updateTbState(STATE.SCALE, true)\n      }\n\n      this._currentFingerDistance = Math.max(\n        this.calculatePointersDistance(this._touchCurrent[0], this._touchCurrent[1]),\n        minDistance * this._devPxRatio,\n      )\n      const amount = this._currentFingerDistance / this._startFingerDistance\n\n      let scalePoint\n\n      if (!this.enablePan) {\n        scalePoint = this._gizmos.position\n      } else {\n        if (this.camera instanceof OrthographicCamera) {\n          scalePoint = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n            ?.applyQuaternion(this.camera.quaternion)\n            .multiplyScalar(1 / this.camera.zoom)\n            .add(this._gizmos.position)\n        } else if (this.camera instanceof PerspectiveCamera) {\n          scalePoint = this.unprojectOnTbPlane(this.camera, _center.x, _center.y, this.domElement)\n            ?.applyQuaternion(this.camera.quaternion)\n            .add(this._gizmos.position)\n        }\n      }\n\n      if (scalePoint !== undefined) {\n        this.applyTransformMatrix(this.applyScale(amount, scalePoint))\n      }\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  private onPinchEnd = (): void => {\n    this.updateTbState(STATE.IDLE, false)\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n  }\n\n  private onTriplePanStart = (): void => {\n    if (this.enabled && this.enableZoom && this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_startEvent)\n\n      this.updateTbState(STATE.SCALE, true)\n\n      //const center = event.center;\n      let clientX = 0\n      let clientY = 0\n      const nFingers = this._touchCurrent.length\n\n      for (let i = 0; i < nFingers; i++) {\n        clientX += this._touchCurrent[i].clientX\n        clientY += this._touchCurrent[i].clientY\n      }\n\n      this.setCenter(clientX / nFingers, clientY / nFingers)\n\n      this._startCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n      this._currentCursorPosition.copy(this._startCursorPosition)\n    }\n  }\n\n  private onTriplePanMove = (): void => {\n    if (this.enabled && this.enableZoom && this.camera && this.domElement) {\n      //\t  fov / 2\n      //\t\t|\\\n      //\t\t| \\\n      //\t\t|  \\\n      //\tx\t|\t\\\n      //\t\t| \t \\\n      //\t\t| \t  \\\n      //\t\t| _ _ _\\\n      //\t\t\ty\n\n      //const center = event.center;\n      let clientX = 0\n      let clientY = 0\n      const nFingers = this._touchCurrent.length\n\n      for (let i = 0; i < nFingers; i++) {\n        clientX += this._touchCurrent[i].clientX\n        clientY += this._touchCurrent[i].clientY\n      }\n\n      this.setCenter(clientX / nFingers, clientY / nFingers)\n\n      const screenNotches = 8 //how many wheel notches corresponds to a full screen pan\n      this._currentCursorPosition.setY(this.getCursorNDC(_center.x, _center.y, this.domElement).y * 0.5)\n\n      const movement = this._currentCursorPosition.y - this._startCursorPosition.y\n\n      let size = 1\n\n      if (movement < 0) {\n        size = 1 / Math.pow(this.scaleFactor, -movement * screenNotches)\n      } else if (movement > 0) {\n        size = Math.pow(this.scaleFactor, movement * screenNotches)\n      }\n\n      this._v3_1.setFromMatrixPosition(this._cameraMatrixState)\n      const x = this._v3_1.distanceTo(this._gizmos.position)\n      let xNew = x / size //distance between camera and gizmos if scale(size, scalepoint) would be performed\n\n      //check min and max distance\n      xNew = MathUtils.clamp(xNew, this.minDistance, this.maxDistance)\n\n      const y = x * Math.tan(MathUtils.DEG2RAD * this._fovState * 0.5)\n\n      //calculate new fov\n      let newFov = MathUtils.RAD2DEG * (Math.atan(y / xNew) * 2)\n\n      //check min and max fov\n      newFov = MathUtils.clamp(newFov, this.minFov, this.maxFov)\n\n      const newDistance = y / Math.tan(MathUtils.DEG2RAD * (newFov / 2))\n      size = x / newDistance\n      this._v3_2.setFromMatrixPosition(this._gizmoMatrixState)\n\n      this.setFov(newFov)\n      this.applyTransformMatrix(this.applyScale(size, this._v3_2, false))\n\n      //adjusting distance\n      const direction = this._gizmos.position\n        .clone()\n        .sub(this.camera.position)\n        .normalize()\n        .multiplyScalar(newDistance / x)\n      this._m4_1.makeTranslation(direction.x, direction.y, direction.z)\n\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  private onTriplePanEnd = (): void => {\n    this.updateTbState(STATE.IDLE, false)\n    // @ts-ignore\n    this.dispatchEvent(_endEvent)\n    //this.dispatchEvent( _changeEvent );\n  }\n\n  /**\n   * Set _center's x/y coordinates\n   * @param {Number} clientX\n   * @param {Number} clientY\n   */\n  private setCenter = (clientX: number, clientY: number): void => {\n    _center.x = clientX\n    _center.y = clientY\n  }\n\n  /**\n   * Set default mouse actions\n   */\n  private initializeMouseActions = (): void => {\n    this.setMouseAction('PAN', 0, 'CTRL')\n    this.setMouseAction('PAN', 2)\n\n    this.setMouseAction('ROTATE', 0)\n\n    this.setMouseAction('ZOOM', 'WHEEL')\n    this.setMouseAction('ZOOM', 1)\n\n    this.setMouseAction('FOV', 'WHEEL', 'SHIFT')\n    this.setMouseAction('FOV', 1, 'SHIFT')\n  }\n\n  /**\n   * Set a new mouse action by specifying the operation to be performed and a mouse/key combination. In case of conflict, replaces the existing one\n   * @param {String} operation The operation to be performed ('PAN', 'ROTATE', 'ZOOM', 'FOV)\n   * @param {*} mouse A mouse button (0, 1, 2) or 'WHEEL' for wheel notches\n   * @param {*} key The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed\n   * @returns {Boolean} True if the mouse action has been successfully added, false otherwise\n   */\n  private setMouseAction = (operation: Operation, mouse: MouseButtonType, key: ModifierKey | null = null): boolean => {\n    const operationInput = ['PAN', 'ROTATE', 'ZOOM', 'FOV']\n    const mouseInput = [0, 1, 2, 'WHEEL']\n    const keyInput = ['CTRL', 'SHIFT', null]\n    let state\n\n    if (!operationInput.includes(operation) || !mouseInput.includes(mouse) || !keyInput.includes(key)) {\n      //invalid parameters\n      return false\n    }\n\n    if (mouse == 'WHEEL') {\n      if (operation != 'ZOOM' && operation != 'FOV') {\n        //cannot associate 2D operation to 1D input\n        return false\n      }\n    }\n\n    switch (operation) {\n      case 'PAN':\n        state = STATE.PAN\n        break\n\n      case 'ROTATE':\n        state = STATE.ROTATE\n        break\n\n      case 'ZOOM':\n        state = STATE.SCALE\n        break\n\n      case 'FOV':\n        state = STATE.FOV\n        break\n    }\n\n    const action = {\n      operation: operation,\n      mouse: mouse,\n      key: key,\n      state: state,\n    }\n\n    for (let i = 0; i < this.mouseActions.length; i++) {\n      if (this.mouseActions[i].mouse == action.mouse && this.mouseActions[i].key == action.key) {\n        this.mouseActions.splice(i, 1, action)\n        return true\n      }\n    }\n\n    this.mouseActions.push(action)\n    return true\n  }\n\n  /**\n   * Return the operation associated to a mouse/keyboard combination\n   * @param {*} mouse A mouse button (0, 1, 2) or 'WHEEL' for wheel notches\n   * @param {*} key The keyboard modifier ('CTRL', 'SHIFT') or null if key is not needed\n   * @returns The operation if it has been found, null otherwise\n   */\n  private getOpFromAction = (mouse: MouseButtonType, key: ModifierKey | null): Operation | null => {\n    let action\n\n    for (let i = 0; i < this.mouseActions.length; i++) {\n      action = this.mouseActions[i]\n      if (action.mouse == mouse && action.key == key) {\n        return action.operation\n      }\n    }\n\n    if (key) {\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        action = this.mouseActions[i]\n        if (action.mouse == mouse && action.key == null) {\n          return action.operation\n        }\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Get the operation associated to mouse and key combination and returns the corresponding FSA state\n   * @param {Number} mouse Mouse button\n   * @param {String} key Keyboard modifier\n   * @returns The FSA state obtained from the operation associated to mouse/keyboard combination\n   */\n  private getOpStateFromAction = (mouse: MouseButtonType, key: ModifierKey | null): Symbol | null => {\n    let action\n\n    for (let i = 0; i < this.mouseActions.length; i++) {\n      action = this.mouseActions[i]\n      if (action.mouse == mouse && action.key == key) {\n        return action.state\n      }\n    }\n\n    if (key) {\n      for (let i = 0; i < this.mouseActions.length; i++) {\n        action = this.mouseActions[i]\n        if (action.mouse == mouse && action.key == null) {\n          return action.state\n        }\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Calculate the angle between two pointers\n   * @param {PointerEvent} p1\n   * @param {PointerEvent} p2\n   * @returns {Number} The angle between two pointers in degrees\n   */\n  private getAngle = (p1: PointerEvent, p2: PointerEvent): number => {\n    return (Math.atan2(p2.clientY - p1.clientY, p2.clientX - p1.clientX) * 180) / Math.PI\n  }\n\n  /**\n   * Update a PointerEvent inside current pointerevents array\n   * @param {PointerEvent} event\n   */\n  private updateTouchEvent = (event: PointerEvent): void => {\n    for (let i = 0; i < this._touchCurrent.length; i++) {\n      if (this._touchCurrent[i].pointerId == event.pointerId) {\n        this._touchCurrent.splice(i, 1, event)\n        break\n      }\n    }\n  }\n\n  /**\n   * Apply a transformation matrix, to the camera and gizmos\n   * @param {Object} transformation Object containing matrices to apply to camera and gizmos\n   */\n  private applyTransformMatrix(transformation: Transformation | undefined): void {\n    if (transformation?.camera && this.camera) {\n      this._m4_1.copy(this._cameraMatrixState).premultiply(transformation.camera)\n      this._m4_1.decompose(this.camera.position, this.camera.quaternion, this.camera.scale)\n      this.camera.updateMatrix()\n\n      //update camera up vector\n      if (this._state == STATE.ROTATE || this._state == STATE.ZROTATE || this._state == STATE.ANIMATION_ROTATE) {\n        this.camera.up.copy(this._upState).applyQuaternion(this.camera.quaternion)\n      }\n    }\n\n    if (transformation?.gizmos) {\n      this._m4_1.copy(this._gizmoMatrixState).premultiply(transformation.gizmos)\n      this._m4_1.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n      this._gizmos.updateMatrix()\n    }\n\n    if (\n      (this._state == STATE.SCALE || this._state == STATE.FOCUS || this._state == STATE.ANIMATION_FOCUS) &&\n      this.camera\n    ) {\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n\n      if (this.adjustNearFar) {\n        const cameraDistance = this.camera.position.distanceTo(this._gizmos.position)\n\n        const bb = new Box3()\n        bb.setFromObject(this._gizmos)\n        const sphere = new Sphere()\n        bb.getBoundingSphere(sphere)\n\n        const adjustedNearPosition = Math.max(this._nearPos0, sphere.radius + sphere.center.length())\n        const regularNearPosition = cameraDistance - this._initialNear\n\n        const minNearPos = Math.min(adjustedNearPosition, regularNearPosition)\n        this.camera.near = cameraDistance - minNearPos\n\n        const adjustedFarPosition = Math.min(this._farPos0, -sphere.radius + sphere.center.length())\n        const regularFarPosition = cameraDistance - this._initialFar\n\n        const minFarPos = Math.min(adjustedFarPosition, regularFarPosition)\n        this.camera.far = cameraDistance - minFarPos\n\n        this.camera.updateProjectionMatrix()\n      } else {\n        let update = false\n\n        if (this.camera.near != this._initialNear) {\n          this.camera.near = this._initialNear\n          update = true\n        }\n\n        if (this.camera.far != this._initialFar) {\n          this.camera.far = this._initialFar\n          update = true\n        }\n\n        if (update) {\n          this.camera.updateProjectionMatrix()\n        }\n      }\n    }\n  }\n\n  /**\n   * Calculate the angular speed\n   * @param {Number} p0 Position at t0\n   * @param {Number} p1 Position at t1\n   * @param {Number} t0 Initial time in milliseconds\n   * @param {Number} t1 Ending time in milliseconds\n   */\n  private calculateAngularSpeed = (p0: number, p1: number, t0: number, t1: number): number => {\n    const s = p1 - p0\n    const t = (t1 - t0) / 1000\n    if (t == 0) {\n      return 0\n    }\n\n    return s / t\n  }\n\n  /**\n   * Calculate the distance between two pointers\n   * @param {PointerEvent} p0 The first pointer\n   * @param {PointerEvent} p1 The second pointer\n   * @returns {number} The distance between the two pointers\n   */\n  private calculatePointersDistance = (p0: PointerEvent, p1: PointerEvent): number => {\n    return Math.sqrt(Math.pow(p1.clientX - p0.clientX, 2) + Math.pow(p1.clientY - p0.clientY, 2))\n  }\n\n  /**\n   * Calculate the rotation axis as the vector perpendicular between two vectors\n   * @param {Vector3} vec1 The first vector\n   * @param {Vector3} vec2 The second vector\n   * @returns {Vector3} The normalized rotation axis\n   */\n  private calculateRotationAxis = (vec1: Vector3, vec2: Vector3): Vector3 => {\n    this._rotationMatrix.extractRotation(this._cameraMatrixState)\n    this._quat.setFromRotationMatrix(this._rotationMatrix)\n\n    this._rotationAxis.crossVectors(vec1, vec2).applyQuaternion(this._quat)\n    return this._rotationAxis.normalize().clone()\n  }\n\n  /**\n   * Calculate the trackball radius so that gizmo's diamater will be 2/3 of the minimum side of the camera frustum\n   * @param {Camera} camera\n   * @returns {Number} The trackball radius\n   */\n  private calculateTbRadius = (camera: Camera): number | undefined => {\n    const factor = 0.67\n    const distance = camera.position.distanceTo(this._gizmos.position)\n\n    if (camera instanceof PerspectiveCamera) {\n      const halfFovV = MathUtils.DEG2RAD * camera.fov * 0.5 //vertical fov/2 in radians\n      const halfFovH = Math.atan(camera.aspect * Math.tan(halfFovV)) //horizontal fov/2 in radians\n      return Math.tan(Math.min(halfFovV, halfFovH)) * distance * factor\n    } else if (camera instanceof OrthographicCamera) {\n      return Math.min(camera.top, camera.right) * factor\n    }\n  }\n\n  /**\n   * Focus operation consist of positioning the point of interest in front of the camera and a slightly zoom in\n   * @param {Vector3} point The point of interest\n   * @param {Number} size Scale factor\n   * @param {Number} amount Amount of operation to be completed (used for focus animations, default is complete full operation)\n   */\n  private focus = (point: Vector3, size: number, amount = 1): void => {\n    if (this.camera) {\n      const focusPoint = point.clone()\n\n      //move center of camera (along with gizmos) towards point of interest\n      focusPoint.sub(this._gizmos.position).multiplyScalar(amount)\n      this._translationMatrix.makeTranslation(focusPoint.x, focusPoint.y, focusPoint.z)\n\n      const gizmoStateTemp = this._gizmoMatrixState.clone()\n      this._gizmoMatrixState.premultiply(this._translationMatrix)\n      this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n\n      const cameraStateTemp = this._cameraMatrixState.clone()\n      this._cameraMatrixState.premultiply(this._translationMatrix)\n      this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale)\n\n      //apply zoom\n      if (this.enableZoom) {\n        this.applyTransformMatrix(this.applyScale(size, this._gizmos.position))\n      }\n\n      this._gizmoMatrixState.copy(gizmoStateTemp)\n      this._cameraMatrixState.copy(cameraStateTemp)\n    }\n  }\n\n  /**\n   * Draw a grid and add it to the scene\n   */\n  private drawGrid = (): void => {\n    if (this.scene) {\n      const color = 0x888888\n      const multiplier = 3\n      let size, divisions, maxLength, tick\n\n      if (this.camera instanceof OrthographicCamera) {\n        const width = this.camera.right - this.camera.left\n        const height = this.camera.bottom - this.camera.top\n\n        maxLength = Math.max(width, height)\n        tick = maxLength / 20\n\n        size = (maxLength / this.camera.zoom) * multiplier\n        divisions = (size / tick) * this.camera.zoom\n      } else if (this.camera instanceof PerspectiveCamera) {\n        const distance = this.camera.position.distanceTo(this._gizmos.position)\n        const halfFovV = MathUtils.DEG2RAD * this.camera.fov * 0.5\n        const halfFovH = Math.atan(this.camera.aspect * Math.tan(halfFovV))\n\n        maxLength = Math.tan(Math.max(halfFovV, halfFovH)) * distance * 2\n        tick = maxLength / 20\n\n        size = maxLength * multiplier\n        divisions = size / tick\n      }\n\n      if (this._grid == null && this.camera) {\n        this._grid = new GridHelper(size, divisions, color, color)\n        this._grid.position.copy(this._gizmos.position)\n        this._gridPosition.copy(this._grid.position)\n        this._grid.quaternion.copy(this.camera.quaternion)\n        this._grid.rotateX(Math.PI * 0.5)\n\n        this.scene.add(this._grid)\n      }\n    }\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    // https://github.com/mrdoob/three.js/issues/20575\n\n    if ((domElement as any) === document) {\n      console.error(\n        'THREE.ArcballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.',\n      )\n    }\n    this.domElement = domElement\n    // disables touch scroll\n    // touch-action needs to be defined for pointer events to work on mobile\n    // https://stackoverflow.com/a/48254578\n    this.domElement.style.touchAction = 'none'\n    this.domElement.addEventListener('contextmenu', this.onContextMenu)\n    this.domElement.addEventListener('pointerdown', this.onPointerDown)\n    this.domElement.addEventListener('pointercancel', this.onPointerCancel)\n    this.domElement.addEventListener('wheel', this.onWheel)\n  }\n\n  /**\n   * Remove all listeners, stop animations and clean scene\n   */\n  public dispose = (): void => {\n    if (this._animationId != -1) {\n      window.cancelAnimationFrame(this._animationId)\n    }\n\n    this.domElement?.removeEventListener('pointerdown', this.onPointerDown)\n    this.domElement?.removeEventListener('pointercancel', this.onPointerCancel)\n    this.domElement?.removeEventListener('wheel', this.onWheel)\n    this.domElement?.removeEventListener('contextmenu', this.onContextMenu)\n\n    window.removeEventListener('pointermove', this.onPointerMove)\n    window.removeEventListener('pointerup', this.onPointerUp)\n\n    window.removeEventListener('resize', this.onWindowResize)\n\n    this.scene?.remove(this._gizmos)\n    this.disposeGrid()\n  }\n\n  /**\n   * remove the grid from the scene\n   */\n  private disposeGrid = (): void => {\n    if (this._grid && this.scene) {\n      this.scene.remove(this._grid)\n      this._grid = null\n    }\n  }\n\n  /**\n   * Compute the easing out cubic function for ease out effect in animation\n   * @param {Number} t The absolute progress of the animation in the bound of 0 (beginning of the) and 1 (ending of animation)\n   * @returns {Number} Result of easing out cubic at time t\n   */\n  private easeOutCubic = (t: number): number => {\n    return 1 - Math.pow(1 - t, 3)\n  }\n\n  /**\n   * Make rotation gizmos more or less visible\n   * @param {Boolean} isActive If true, make gizmos more visible\n   */\n  private activateGizmos = (isActive: boolean): void => {\n    for (const gizmo of this._gizmos.children) {\n      ;(gizmo as Mesh<BufferGeometry, Material>).material.setValues({ opacity: isActive ? 1 : 0.6 })\n    }\n  }\n\n  /**\n   * Calculate the cursor position in NDC\n   * @param {number} x Cursor horizontal coordinate within the canvas\n   * @param {number} y Cursor vertical coordinate within the canvas\n   * @param {HTMLElement} canvas The canvas where the renderer draws its output\n   * @returns {Vector2} Cursor normalized position inside the canvas\n   */\n  private getCursorNDC = (cursorX: number, cursorY: number, canvas: HTMLElement): Vector2 => {\n    const canvasRect = canvas.getBoundingClientRect()\n    this._v2_1.setX(((cursorX - canvasRect.left) / canvasRect.width) * 2 - 1)\n    this._v2_1.setY(((canvasRect.bottom - cursorY) / canvasRect.height) * 2 - 1)\n    return this._v2_1.clone()\n  }\n\n  /**\n   * Calculate the cursor position inside the canvas x/y coordinates with the origin being in the center of the canvas\n   * @param {Number} x Cursor horizontal coordinate within the canvas\n   * @param {Number} y Cursor vertical coordinate within the canvas\n   * @param {HTMLElement} canvas The canvas where the renderer draws its output\n   * @returns {Vector2} Cursor position inside the canvas\n   */\n  private getCursorPosition = (cursorX: number, cursorY: number, canvas: HTMLElement): Vector2 => {\n    this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas))\n    if (this.camera instanceof OrthographicCamera) {\n      this._v2_1.x *= (this.camera.right - this.camera.left) * 0.5\n      this._v2_1.y *= (this.camera.top - this.camera.bottom) * 0.5\n    }\n    return this._v2_1.clone()\n  }\n\n  /**\n   * Set the camera to be controlled\n   * @param {Camera} camera The virtual camera to be controlled\n   */\n  private setCamera = (camera: Camera | null): void => {\n    if (camera) {\n      camera.lookAt(this.target)\n      camera.updateMatrix()\n\n      //setting state\n      if (camera instanceof PerspectiveCamera) {\n        this._fov0 = camera.fov\n        this._fovState = camera.fov\n      }\n\n      this._cameraMatrixState0.copy(camera.matrix)\n      this._cameraMatrixState.copy(this._cameraMatrixState0)\n      this._cameraProjectionState.copy(camera.projectionMatrix)\n      this._zoom0 = camera.zoom\n      this._zoomState = this._zoom0\n\n      this._initialNear = camera.near\n      this._nearPos0 = camera.position.distanceTo(this.target) - camera.near\n      this._nearPos = this._initialNear\n\n      this._initialFar = camera.far\n      this._farPos0 = camera.position.distanceTo(this.target) - camera.far\n      this._farPos = this._initialFar\n\n      this._up0.copy(camera.up)\n      this._upState.copy(camera.up)\n\n      this.camera = camera\n\n      this.camera.updateProjectionMatrix()\n\n      //making gizmos\n      const tbRadius = this.calculateTbRadius(camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n      this.makeGizmos(this.target, this._tbRadius)\n    }\n  }\n\n  /**\n   * Set gizmos visibility\n   * @param {Boolean} value Value of gizmos visibility\n   */\n  public setGizmosVisible(value: boolean): void {\n    this._gizmos.visible = value\n    // @ts-ignore\n    this.dispatchEvent(_changeEvent)\n  }\n\n  /**\n   * Creates the rotation gizmos matching trackball center and radius\n   * @param {Vector3} tbCenter The trackball center\n   * @param {number} tbRadius The trackball radius\n   */\n  private makeGizmos = (tbCenter: Vector3, tbRadius: number): void => {\n    // @ts-ignore\n    const curve = new EllipseCurve(0, 0, tbRadius, tbRadius)\n    const points = curve.getPoints(this._curvePts)\n\n    //geometry\n    const curveGeometry = new BufferGeometry().setFromPoints(points)\n\n    //material\n    const curveMaterialX = new LineBasicMaterial({ color: 0xff8080, fog: false, transparent: true, opacity: 0.6 })\n    const curveMaterialY = new LineBasicMaterial({ color: 0x80ff80, fog: false, transparent: true, opacity: 0.6 })\n    const curveMaterialZ = new LineBasicMaterial({ color: 0x8080ff, fog: false, transparent: true, opacity: 0.6 })\n\n    //line\n    const gizmoX = new Line(curveGeometry, curveMaterialX)\n    const gizmoY = new Line(curveGeometry, curveMaterialY)\n    const gizmoZ = new Line(curveGeometry, curveMaterialZ)\n\n    const rotation = Math.PI * 0.5\n    gizmoX.rotation.x = rotation\n    gizmoY.rotation.y = rotation\n\n    //setting state\n    this._gizmoMatrixState0.identity().setPosition(tbCenter)\n    this._gizmoMatrixState.copy(this._gizmoMatrixState0)\n\n    if (this.camera && this.camera.zoom != 1) {\n      //adapt gizmos size to camera zoom\n      const size = 1 / this.camera.zoom\n      this._scaleMatrix.makeScale(size, size, size)\n      this._translationMatrix.makeTranslation(-tbCenter.x, -tbCenter.y, -tbCenter.z)\n\n      this._gizmoMatrixState.premultiply(this._translationMatrix).premultiply(this._scaleMatrix)\n      this._translationMatrix.makeTranslation(tbCenter.x, tbCenter.y, tbCenter.z)\n      this._gizmoMatrixState.premultiply(this._translationMatrix)\n    }\n\n    this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n\n    this._gizmos.clear()\n\n    this._gizmos.add(gizmoX)\n    this._gizmos.add(gizmoY)\n    this._gizmos.add(gizmoZ)\n  }\n\n  /**\n   * Perform animation for focus operation\n   * @param {Number} time Instant in which this function is called as performance.now()\n   * @param {Vector3} point Point of interest for focus operation\n   * @param {Matrix4} cameraMatrix Camera matrix\n   * @param {Matrix4} gizmoMatrix Gizmos matrix\n   */\n  private onFocusAnim = (time: number, point: Vector3, cameraMatrix: Matrix4, gizmoMatrix: Matrix4): void => {\n    if (this._timeStart == -1) {\n      //animation start\n      this._timeStart = time\n    }\n\n    if (this._state == STATE.ANIMATION_FOCUS) {\n      const deltaTime = time - this._timeStart\n      const animTime = deltaTime / this.focusAnimationTime\n\n      this._gizmoMatrixState.copy(gizmoMatrix)\n\n      if (animTime >= 1) {\n        //animation end\n\n        this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n\n        this.focus(point, this.scaleFactor)\n\n        this._timeStart = -1\n        this.updateTbState(STATE.IDLE, false)\n        this.activateGizmos(false)\n\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n      } else {\n        const amount = this.easeOutCubic(animTime)\n        const size = 1 - amount + this.scaleFactor * amount\n\n        this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n        this.focus(point, size, amount)\n\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n        const self = this\n        this._animationId = window.requestAnimationFrame(function (t) {\n          self.onFocusAnim(t, point, cameraMatrix, gizmoMatrix.clone())\n        })\n      }\n    } else {\n      //interrupt animation\n\n      this._animationId = -1\n      this._timeStart = -1\n    }\n  }\n\n  /**\n   * Perform animation for rotation operation\n   * @param {Number} time Instant in which this function is called as performance.now()\n   * @param {Vector3} rotationAxis Rotation axis\n   * @param {number} w0 Initial angular velocity\n   */\n  private onRotationAnim = (time: number, rotationAxis: Vector3, w0: number): void => {\n    if (this._timeStart == -1) {\n      //animation start\n      this._anglePrev = 0\n      this._angleCurrent = 0\n      this._timeStart = time\n    }\n\n    if (this._state == STATE.ANIMATION_ROTATE) {\n      //w = w0 + alpha * t\n      const deltaTime = (time - this._timeStart) / 1000\n      const w = w0 + -this.dampingFactor * deltaTime\n\n      if (w > 0) {\n        //tetha = 0.5 * alpha * t^2 + w0 * t + tetha0\n        this._angleCurrent = 0.5 * -this.dampingFactor * Math.pow(deltaTime, 2) + w0 * deltaTime + 0\n        this.applyTransformMatrix(this.rotate(rotationAxis, this._angleCurrent))\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n        const self = this\n        this._animationId = window.requestAnimationFrame(function (t) {\n          self.onRotationAnim(t, rotationAxis, w0)\n        })\n      } else {\n        this._animationId = -1\n        this._timeStart = -1\n\n        this.updateTbState(STATE.IDLE, false)\n        this.activateGizmos(false)\n\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n      }\n    } else {\n      //interrupt animation\n\n      this._animationId = -1\n      this._timeStart = -1\n\n      if (this._state != STATE.ROTATE) {\n        this.activateGizmos(false)\n        // @ts-ignore\n        this.dispatchEvent(_changeEvent)\n      }\n    }\n  }\n\n  /**\n   * Perform pan operation moving camera between two points\n   * @param {Vector3} p0 Initial point\n   * @param {Vector3} p1 Ending point\n   * @param {Boolean} adjust If movement should be adjusted considering camera distance (Perspective only)\n   */\n  private pan = (p0: Vector3, p1: Vector3, adjust = false): Transformation => {\n    if (this.camera) {\n      const movement = p0.clone().sub(p1)\n\n      if (this.camera instanceof OrthographicCamera) {\n        //adjust movement amount\n        movement.multiplyScalar(1 / this.camera.zoom)\n      }\n\n      if (this.camera instanceof PerspectiveCamera && adjust) {\n        //adjust movement amount\n        this._v3_1.setFromMatrixPosition(this._cameraMatrixState0) //camera's initial position\n        this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0) //gizmo's initial position\n        const distanceFactor =\n          this._v3_1.distanceTo(this._v3_2) / this.camera.position.distanceTo(this._gizmos.position)\n        movement.multiplyScalar(1 / distanceFactor)\n      }\n\n      this._v3_1.set(movement.x, movement.y, 0).applyQuaternion(this.camera.quaternion)\n\n      this._m4_1.makeTranslation(this._v3_1.x, this._v3_1.y, this._v3_1.z)\n\n      this.setTransformationMatrices(this._m4_1, this._m4_1)\n    }\n    return _transformation\n  }\n\n  /**\n   * Reset trackball\n   */\n  public reset = (): void => {\n    if (this.camera) {\n      this.camera.zoom = this._zoom0\n\n      if (this.camera instanceof PerspectiveCamera) {\n        this.camera.fov = this._fov0\n      }\n\n      this.camera.near = this._nearPos\n      this.camera.far = this._farPos\n      this._cameraMatrixState.copy(this._cameraMatrixState0)\n      this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale)\n      this.camera.up.copy(this._up0)\n\n      this.camera.updateMatrix()\n      this.camera.updateProjectionMatrix()\n\n      this._gizmoMatrixState.copy(this._gizmoMatrixState0)\n      this._gizmoMatrixState0.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n      this._gizmos.updateMatrix()\n\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n      this.makeGizmos(this._gizmos.position, this._tbRadius)\n\n      this.camera.lookAt(this._gizmos.position)\n\n      this.updateTbState(STATE.IDLE, false)\n\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n\n  /**\n   * Rotate the camera around an axis passing by trackball's center\n   * @param {Vector3} axis Rotation axis\n   * @param {number} angle Angle in radians\n   * @returns {Object} Object with 'camera' field containing transformation matrix resulting from the operation to be applied to the camera\n   */\n  private rotate = (axis: Vector3, angle: number): Transformation => {\n    const point = this._gizmos.position //rotation center\n    this._translationMatrix.makeTranslation(-point.x, -point.y, -point.z)\n    this._rotationMatrix.makeRotationAxis(axis, -angle)\n\n    //rotate camera\n    this._m4_1.makeTranslation(point.x, point.y, point.z)\n    this._m4_1.multiply(this._rotationMatrix)\n    this._m4_1.multiply(this._translationMatrix)\n\n    this.setTransformationMatrices(this._m4_1)\n\n    return _transformation\n  }\n\n  public copyState = (): void => {\n    if (this.camera) {\n      const state = JSON.stringify(\n        this.camera instanceof OrthographicCamera\n          ? {\n              arcballState: {\n                cameraFar: this.camera.far,\n                cameraMatrix: this.camera.matrix,\n                cameraNear: this.camera.near,\n                cameraUp: this.camera.up,\n                cameraZoom: this.camera.zoom,\n                gizmoMatrix: this._gizmos.matrix,\n              },\n            }\n          : {\n              arcballState: {\n                cameraFar: this.camera.far,\n                cameraFov: this.camera.fov,\n                cameraMatrix: this.camera.matrix,\n                cameraNear: this.camera.near,\n                cameraUp: this.camera.up,\n                cameraZoom: this.camera.zoom,\n                gizmoMatrix: this._gizmos.matrix,\n              },\n            },\n      )\n\n      navigator.clipboard.writeText(state)\n    }\n  }\n\n  public pasteState = (): void => {\n    const self = this\n    navigator.clipboard.readText().then(function resolved(value) {\n      self.setStateFromJSON(value)\n    })\n  }\n\n  /**\n   * Save the current state of the control. This can later be recovered with .reset\n   */\n  public saveState = (): void => {\n    if (!this.camera) return\n\n    this._cameraMatrixState0.copy(this.camera.matrix)\n    this._gizmoMatrixState0.copy(this._gizmos.matrix)\n    this._nearPos = this.camera.near\n    this._farPos = this.camera.far\n    this._zoom0 = this.camera.zoom\n    this._up0.copy(this.camera.up)\n\n    if (this.camera instanceof PerspectiveCamera) {\n      this._fov0 = this.camera.fov\n    }\n  }\n\n  /**\n   * Perform uniform scale operation around a given point\n   * @param {Number} size Scale factor\n   * @param {Vector3} point Point around which scale\n   * @param {Boolean} scaleGizmos If gizmos should be scaled (Perspective only)\n   * @returns {Object} Object with 'camera' and 'gizmo' fields containing transformation matrices resulting from the operation to be applied to the camera and gizmos\n   */\n  private applyScale = (size: number, point: Vector3, scaleGizmos = true): Transformation | undefined => {\n    if (!this.camera) return\n\n    const scalePoint = point.clone()\n    let sizeInverse = 1 / size\n\n    if (this.camera instanceof OrthographicCamera) {\n      //camera zoom\n      this.camera.zoom = this._zoomState\n      this.camera.zoom *= size\n\n      //check min and max zoom\n      if (this.camera.zoom > this.maxZoom) {\n        this.camera.zoom = this.maxZoom\n        sizeInverse = this._zoomState / this.maxZoom\n      } else if (this.camera.zoom < this.minZoom) {\n        this.camera.zoom = this.minZoom\n        sizeInverse = this._zoomState / this.minZoom\n      }\n\n      this.camera.updateProjectionMatrix()\n\n      this._v3_1.setFromMatrixPosition(this._gizmoMatrixState) //gizmos position\n\n      //scale gizmos so they appear in the same spot having the same dimension\n      this._scaleMatrix.makeScale(sizeInverse, sizeInverse, sizeInverse)\n      this._translationMatrix.makeTranslation(-this._v3_1.x, -this._v3_1.y, -this._v3_1.z)\n\n      this._m4_2.makeTranslation(this._v3_1.x, this._v3_1.y, this._v3_1.z).multiply(this._scaleMatrix)\n      this._m4_2.multiply(this._translationMatrix)\n\n      //move camera and gizmos to obtain pinch effect\n      scalePoint.sub(this._v3_1)\n\n      const amount = scalePoint.clone().multiplyScalar(sizeInverse)\n      scalePoint.sub(amount)\n\n      this._m4_1.makeTranslation(scalePoint.x, scalePoint.y, scalePoint.z)\n      this._m4_2.premultiply(this._m4_1)\n\n      this.setTransformationMatrices(this._m4_1, this._m4_2)\n      return _transformation\n    }\n\n    if (this.camera instanceof PerspectiveCamera) {\n      this._v3_1.setFromMatrixPosition(this._cameraMatrixState)\n      this._v3_2.setFromMatrixPosition(this._gizmoMatrixState)\n\n      //move camera\n      let distance = this._v3_1.distanceTo(scalePoint)\n      let amount = distance - distance * sizeInverse\n\n      //check min and max distance\n      const newDistance = distance - amount\n      if (newDistance < this.minDistance) {\n        sizeInverse = this.minDistance / distance\n        amount = distance - distance * sizeInverse\n      } else if (newDistance > this.maxDistance) {\n        sizeInverse = this.maxDistance / distance\n        amount = distance - distance * sizeInverse\n      }\n\n      let direction = scalePoint.clone().sub(this._v3_1).normalize().multiplyScalar(amount)\n\n      this._m4_1.makeTranslation(direction.x, direction.y, direction.z)\n\n      if (scaleGizmos) {\n        //scale gizmos so they appear in the same spot having the same dimension\n        const pos = this._v3_2\n\n        distance = pos.distanceTo(scalePoint)\n        amount = distance - distance * sizeInverse\n        direction = scalePoint.clone().sub(this._v3_2).normalize().multiplyScalar(amount)\n\n        this._translationMatrix.makeTranslation(pos.x, pos.y, pos.z)\n        this._scaleMatrix.makeScale(sizeInverse, sizeInverse, sizeInverse)\n\n        this._m4_2.makeTranslation(direction.x, direction.y, direction.z).multiply(this._translationMatrix)\n        this._m4_2.multiply(this._scaleMatrix)\n\n        this._translationMatrix.makeTranslation(-pos.x, -pos.y, -pos.z)\n\n        this._m4_2.multiply(this._translationMatrix)\n        this.setTransformationMatrices(this._m4_1, this._m4_2)\n      } else {\n        this.setTransformationMatrices(this._m4_1)\n      }\n\n      return _transformation\n    }\n  }\n\n  /**\n   * Set camera fov\n   * @param {Number} value fov to be setted\n   */\n  private setFov = (value: number): void => {\n    if (this.camera instanceof PerspectiveCamera) {\n      this.camera.fov = MathUtils.clamp(value, this.minFov, this.maxFov)\n      this.camera.updateProjectionMatrix()\n    }\n  }\n\n  /**\n   * Set the trackball's center point\n   * @param {Number} x X coordinate\n   * @param {Number} y Y coordinate\n   * @param {Number} z Z coordinate\n   */\n  public setTarget = (x: number, y: number, z: number): void => {\n    if (this.camera) {\n      this.target.set(x, y, z)\n      this._gizmos.position.set(x, y, z) //for correct radius calculation\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n      this.makeGizmos(this.target, this._tbRadius)\n      this.camera.lookAt(this.target)\n    }\n  }\n\n  /**\n   * Set values in transformation object\n   * @param {Matrix4} camera Transformation to be applied to the camera\n   * @param {Matrix4} gizmos Transformation to be applied to gizmos\n   */\n  private setTransformationMatrices(camera: Matrix4 | null = null, gizmos: Matrix4 | null = null): void {\n    if (camera) {\n      if (_transformation.camera) {\n        _transformation.camera.copy(camera)\n      } else {\n        _transformation.camera = camera.clone()\n      }\n    } else {\n      _transformation.camera = null\n    }\n\n    if (gizmos) {\n      if (_transformation.gizmos) {\n        _transformation.gizmos.copy(gizmos)\n      } else {\n        _transformation.gizmos = gizmos.clone()\n      }\n    } else {\n      _transformation.gizmos = null\n    }\n  }\n\n  /**\n   * Rotate camera around its direction axis passing by a given point by a given angle\n   * @param {Vector3} point The point where the rotation axis is passing trough\n   * @param {Number} angle Angle in radians\n   * @returns The computed transormation matix\n   */\n  private zRotate = (point: Vector3, angle: number): Transformation => {\n    this._rotationMatrix.makeRotationAxis(this._rotationAxis, angle)\n    this._translationMatrix.makeTranslation(-point.x, -point.y, -point.z)\n\n    this._m4_1.makeTranslation(point.x, point.y, point.z)\n    this._m4_1.multiply(this._rotationMatrix)\n    this._m4_1.multiply(this._translationMatrix)\n\n    this._v3_1.setFromMatrixPosition(this._gizmoMatrixState).sub(point) //vector from rotation center to gizmos position\n    this._v3_2.copy(this._v3_1).applyAxisAngle(this._rotationAxis, angle) //apply rotation\n    this._v3_2.sub(this._v3_1)\n\n    this._m4_2.makeTranslation(this._v3_2.x, this._v3_2.y, this._v3_2.z)\n\n    this.setTransformationMatrices(this._m4_1, this._m4_2)\n    return _transformation\n  }\n\n  /**\n   * Unproject the cursor on the 3D object surface\n   * @param {Vector2} cursor Cursor coordinates in NDC\n   * @param {Camera} camera Virtual camera\n   * @returns {Vector3} The point of intersection with the model, if exist, null otherwise\n   */\n  private unprojectOnObj = (cursor: Vector2, camera: Camera): Vector3 | null => {\n    if (!this.scene) return null\n\n    const raycaster = new Raycaster()\n    raycaster.near = camera.near\n    raycaster.far = camera.far\n    raycaster.setFromCamera(cursor, camera)\n\n    const intersect = raycaster.intersectObjects(this.scene.children, true)\n    for (let i = 0; i < intersect.length; i++) {\n      if (intersect[i].object.uuid != this._gizmos.uuid && intersect[i].face) {\n        return intersect[i].point.clone()\n      }\n    }\n\n    return null\n  }\n\n  /**\n   * Unproject the cursor on the trackball surface\n   * @param {Camera} camera The virtual camera\n   * @param {Number} cursorX Cursor horizontal coordinate on screen\n   * @param {Number} cursorY Cursor vertical coordinate on screen\n   * @param {HTMLElement} canvas The canvas where the renderer draws its output\n   * @param {number} tbRadius The trackball radius\n   * @returns {Vector3} The unprojected point on the trackball surface\n   */\n  private unprojectOnTbSurface = (\n    camera: Camera,\n    cursorX: number,\n    cursorY: number,\n    canvas: HTMLElement,\n    tbRadius: number,\n  ): Vector3 | undefined => {\n    if (camera instanceof OrthographicCamera) {\n      this._v2_1.copy(this.getCursorPosition(cursorX, cursorY, canvas))\n      this._v3_1.set(this._v2_1.x, this._v2_1.y, 0)\n\n      const x2 = Math.pow(this._v2_1.x, 2)\n      const y2 = Math.pow(this._v2_1.y, 2)\n      const r2 = Math.pow(this._tbRadius, 2)\n\n      if (x2 + y2 <= r2 * 0.5) {\n        //intersection with sphere\n        this._v3_1.setZ(Math.sqrt(r2 - (x2 + y2)))\n      } else {\n        //intersection with hyperboloid\n        this._v3_1.setZ((r2 * 0.5) / Math.sqrt(x2 + y2))\n      }\n\n      return this._v3_1\n    }\n\n    if (camera instanceof PerspectiveCamera) {\n      //unproject cursor on the near plane\n      this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas))\n\n      this._v3_1.set(this._v2_1.x, this._v2_1.y, -1)\n      this._v3_1.applyMatrix4(camera.projectionMatrixInverse)\n\n      const rayDir = this._v3_1.clone().normalize() //unprojected ray direction\n      const cameraGizmoDistance = camera.position.distanceTo(this._gizmos.position)\n      const radius2 = Math.pow(tbRadius, 2)\n\n      //\t  camera\n      //\t\t|\\\n      //\t\t| \\\n      //\t\t|  \\\n      //\th\t|\t\\\n      //\t\t| \t \\\n      //\t\t| \t  \\\n      //\t_ _ | _ _ _\\ _ _  near plane\n      //\t\t\tl\n\n      const h = this._v3_1.z\n      const l = Math.sqrt(Math.pow(this._v3_1.x, 2) + Math.pow(this._v3_1.y, 2))\n\n      if (l == 0) {\n        //ray aligned with camera\n        rayDir.set(this._v3_1.x, this._v3_1.y, tbRadius)\n        return rayDir\n      }\n\n      const m = h / l\n      const q = cameraGizmoDistance\n\n      /*\n       * calculate intersection point between unprojected ray and trackball surface\n       *|y = m * x + q\n       *|x^2 + y^2 = r^2\n       *\n       * (m^2 + 1) * x^2 + (2 * m * q) * x + q^2 - r^2 = 0\n       */\n      let a = Math.pow(m, 2) + 1\n      let b = 2 * m * q\n      let c = Math.pow(q, 2) - radius2\n      let delta = Math.pow(b, 2) - 4 * a * c\n\n      if (delta >= 0) {\n        //intersection with sphere\n        this._v2_1.setX((-b - Math.sqrt(delta)) / (2 * a))\n        this._v2_1.setY(m * this._v2_1.x + q)\n\n        const angle = MathUtils.RAD2DEG * this._v2_1.angle()\n\n        if (angle >= 45) {\n          //if angle between intersection point and X' axis is >= 45, return that point\n          //otherwise, calculate intersection point with hyperboloid\n\n          const rayLength = Math.sqrt(Math.pow(this._v2_1.x, 2) + Math.pow(cameraGizmoDistance - this._v2_1.y, 2))\n          rayDir.multiplyScalar(rayLength)\n          rayDir.z += cameraGizmoDistance\n          return rayDir\n        }\n      }\n\n      //intersection with hyperboloid\n      /*\n       *|y = m * x + q\n       *|y = (1 / x) * (r^2 / 2)\n       *\n       * m * x^2 + q * x - r^2 / 2 = 0\n       */\n\n      a = m\n      b = q\n      c = -radius2 * 0.5\n      delta = Math.pow(b, 2) - 4 * a * c\n      this._v2_1.setX((-b - Math.sqrt(delta)) / (2 * a))\n      this._v2_1.setY(m * this._v2_1.x + q)\n\n      const rayLength = Math.sqrt(Math.pow(this._v2_1.x, 2) + Math.pow(cameraGizmoDistance - this._v2_1.y, 2))\n\n      rayDir.multiplyScalar(rayLength)\n      rayDir.z += cameraGizmoDistance\n      return rayDir\n    }\n  }\n\n  /**\n   * Unproject the cursor on the plane passing through the center of the trackball orthogonal to the camera\n   * @param {Camera} camera The virtual camera\n   * @param {Number} cursorX Cursor horizontal coordinate on screen\n   * @param {Number} cursorY Cursor vertical coordinate on screen\n   * @param {HTMLElement} canvas The canvas where the renderer draws its output\n   * @param {Boolean} initialDistance If initial distance between camera and gizmos should be used for calculations instead of current (Perspective only)\n   * @returns {Vector3} The unprojected point on the trackball plane\n   */\n  private unprojectOnTbPlane = (\n    camera: Camera,\n    cursorX: number,\n    cursorY: number,\n    canvas: HTMLElement,\n    initialDistance = false,\n  ): Vector3 | undefined => {\n    if (camera instanceof OrthographicCamera) {\n      this._v2_1.copy(this.getCursorPosition(cursorX, cursorY, canvas))\n      this._v3_1.set(this._v2_1.x, this._v2_1.y, 0)\n\n      return this._v3_1.clone()\n    }\n\n    if (camera instanceof PerspectiveCamera) {\n      this._v2_1.copy(this.getCursorNDC(cursorX, cursorY, canvas))\n\n      //unproject cursor on the near plane\n      this._v3_1.set(this._v2_1.x, this._v2_1.y, -1)\n      this._v3_1.applyMatrix4(camera.projectionMatrixInverse)\n\n      const rayDir = this._v3_1.clone().normalize() //unprojected ray direction\n\n      //\t  camera\n      //\t\t|\\\n      //\t\t| \\\n      //\t\t|  \\\n      //\th\t|\t\\\n      //\t\t| \t \\\n      //\t\t| \t  \\\n      //\t_ _ | _ _ _\\ _ _  near plane\n      //\t\t\tl\n\n      const h = this._v3_1.z\n      const l = Math.sqrt(Math.pow(this._v3_1.x, 2) + Math.pow(this._v3_1.y, 2))\n      let cameraGizmoDistance\n\n      if (initialDistance) {\n        cameraGizmoDistance = this._v3_1\n          .setFromMatrixPosition(this._cameraMatrixState0)\n          .distanceTo(this._v3_2.setFromMatrixPosition(this._gizmoMatrixState0))\n      } else {\n        cameraGizmoDistance = camera.position.distanceTo(this._gizmos.position)\n      }\n\n      /*\n       * calculate intersection point between unprojected ray and the plane\n       *|y = mx + q\n       *|y = 0\n       *\n       * x = -q/m\n       */\n      if (l == 0) {\n        //ray aligned with camera\n        rayDir.set(0, 0, 0)\n        return rayDir\n      }\n\n      const m = h / l\n      const q = cameraGizmoDistance\n      const x = -q / m\n\n      const rayLength = Math.sqrt(Math.pow(q, 2) + Math.pow(x, 2))\n      rayDir.multiplyScalar(rayLength)\n      rayDir.z = 0\n      return rayDir\n    }\n  }\n\n  /**\n   * Update camera and gizmos state\n   */\n  private updateMatrixState = (): void => {\n    if (!this.camera) return\n\n    //update camera and gizmos state\n    this._cameraMatrixState.copy(this.camera.matrix)\n    this._gizmoMatrixState.copy(this._gizmos.matrix)\n\n    if (this.camera instanceof OrthographicCamera) {\n      this._cameraProjectionState.copy(this.camera.projectionMatrix)\n      this.camera.updateProjectionMatrix()\n      this._zoomState = this.camera.zoom\n    }\n\n    if (this.camera instanceof PerspectiveCamera) {\n      this._fovState = this.camera.fov\n    }\n  }\n\n  /**\n   * Update the trackball FSA\n   * @param {STATE} newState New state of the FSA\n   * @param {Boolean} updateMatrices If matriices state should be updated\n   */\n  private updateTbState = (newState: Symbol, updateMatrices: boolean): void => {\n    this._state = newState\n    if (updateMatrices) {\n      this.updateMatrixState()\n    }\n  }\n\n  public update = (): void => {\n    const EPS = 0.000001\n\n    // Update target and gizmos state\n    if (!this.target.equals(this._currentTarget) && this.camera) {\n      this._gizmos.position.set(this.target.x, this.target.y, this.target.z) //for correct radius calculation\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n      this.makeGizmos(this.target, this._tbRadius)\n      this._currentTarget.copy(this.target)\n    }\n\n    if (!this.camera) return\n\n    //check min/max parameters\n    if (this.camera instanceof OrthographicCamera) {\n      //check zoom\n      if (this.camera.zoom > this.maxZoom || this.camera.zoom < this.minZoom) {\n        const newZoom = MathUtils.clamp(this.camera.zoom, this.minZoom, this.maxZoom)\n        this.applyTransformMatrix(this.applyScale(newZoom / this.camera.zoom, this._gizmos.position, true))\n      }\n    }\n\n    if (this.camera instanceof PerspectiveCamera) {\n      //check distance\n      const distance = this.camera.position.distanceTo(this._gizmos.position)\n\n      if (distance > this.maxDistance + EPS || distance < this.minDistance - EPS) {\n        const newDistance = MathUtils.clamp(distance, this.minDistance, this.maxDistance)\n        this.applyTransformMatrix(this.applyScale(newDistance / distance, this._gizmos.position))\n        this.updateMatrixState()\n      }\n\n      //check fov\n      if (this.camera.fov < this.minFov || this.camera.fov > this.maxFov) {\n        this.camera.fov = MathUtils.clamp(this.camera.fov, this.minFov, this.maxFov)\n        this.camera.updateProjectionMatrix()\n      }\n\n      const oldRadius = this._tbRadius\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n\n      if (oldRadius < this._tbRadius - EPS || oldRadius > this._tbRadius + EPS) {\n        const scale = (this._gizmos.scale.x + this._gizmos.scale.y + this._gizmos.scale.z) / 3\n        const newRadius = this._tbRadius / scale\n        // @ts-ignore\n        const curve = new EllipseCurve(0, 0, newRadius, newRadius)\n        const points = curve.getPoints(this._curvePts)\n        const curveGeometry = new BufferGeometry().setFromPoints(points)\n\n        for (const gizmo in this._gizmos.children) {\n          const child = this._gizmos.children[gizmo] as Mesh\n          child.geometry = curveGeometry\n        }\n      }\n    }\n\n    this.camera.lookAt(this._gizmos.position)\n  }\n\n  private setStateFromJSON = (json: string): void => {\n    const state = JSON.parse(json)\n\n    if (state.arcballState && this.camera) {\n      this._cameraMatrixState.fromArray(state.arcballState.cameraMatrix.elements)\n      this._cameraMatrixState.decompose(this.camera.position, this.camera.quaternion, this.camera.scale)\n\n      this.camera.up.copy(state.arcballState.cameraUp)\n      this.camera.near = state.arcballState.cameraNear\n      this.camera.far = state.arcballState.cameraFar\n\n      this.camera.zoom = state.arcballState.cameraZoom\n\n      if (this.camera instanceof PerspectiveCamera) {\n        this.camera.fov = state.arcballState.cameraFov\n      }\n\n      this._gizmoMatrixState.fromArray(state.arcballState.gizmoMatrix.elements)\n      this._gizmoMatrixState.decompose(this._gizmos.position, this._gizmos.quaternion, this._gizmos.scale)\n\n      this.camera.updateMatrix()\n      this.camera.updateProjectionMatrix()\n\n      this._gizmos.updateMatrix()\n\n      const tbRadius = this.calculateTbRadius(this.camera)\n      if (tbRadius !== undefined) {\n        this._tbRadius = tbRadius\n      }\n      const gizmoTmp = new Matrix4().copy(this._gizmoMatrixState0)\n      this.makeGizmos(this._gizmos.position, this._tbRadius)\n      this._gizmoMatrixState0.copy(gizmoTmp)\n\n      this.camera.lookAt(this._gizmos.position)\n      this.updateTbState(STATE.IDLE, false)\n\n      // @ts-ignore\n      this.dispatchEvent(_changeEvent)\n    }\n  }\n}\n\nexport { ArcballControls }\n"],"names":["rayLength"],"mappings":";;;;;;;;;;;;;;;;;;AAwCA,MAAM,QAAQ;IACZ,MAAM,OAAO;IACb,QAAQ,OAAO;IACf,KAAK,OAAO;IACZ,OAAO,OAAO;IACd,KAAK,OAAO;IACZ,OAAO,OAAO;IACd,SAAS,OAAO;IAChB,aAAa,OAAO;IACpB,iBAAiB,OAAO;IACxB,kBAAkB,OAAO;AAC3B;AAEA,MAAM,QAAQ;IACZ,MAAM,OAAO;IACb,YAAY,OAAO;IACnB,qBAAqB,OAAO;IAC5B,YAAY,OAAO;IACnB,aAAa,OAAO;IACpB,QAAQ,OAAO;AACjB;AAGA,MAAM,UAAU;IACd,GAAG;IACH,GAAG;AACL;AAGA,MAAM,kBAAkC;IACtC,QAAA,aAAA,GAAA,oJAA4B,UAAA,CAAQ;IACpC,QAAA,aAAA,GAAA,oJAA4B,UAAA,CAAQ;AACtC;AAGA,MAAM,eAAe;IAAE,MAAM;AAAA;AAC7B,MAAM,cAAc;IAAE,MAAM;AAAA;AAC5B,MAAM,YAAY;IAAE,MAAM;AAAA;AAQ1B,MAAM,uLAAwB,kBAAA,CAA0C;IAmHtE,YACE,MAAA,EACA,aAA6C,IAAA,EAC7C,QAAkC,IAAA,CAClC;QACM,KAAA;QAvHA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAED,cAAA,IAAA,EAAA;QAEC,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAED,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QACA,cAAA,IAAA,EAAA;QAEE,cAAA,IAAA,EAAA;QACD,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QAEA,cAAA,IAAA,EAAA;QA2JA,WAAA;QAAA,cAAA,IAAA,EAAA,kBAAiB,MAAY;YACnC,MAAM,QAAA,CAAS,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,GAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,GAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,IAAK;YACrF,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACf,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;YACF;YAEM,MAAA,YAAY,IAAA,CAAK,SAAA,GAAY;YAEnC,MAAM,QAAQ,oJAAI,eAAA,CAAa,GAAG,GAAG,WAAW,SAAS;YACzD,MAAM,SAAS,MAAM,SAAA,CAAU,IAAA,CAAK,SAAS;YAC7C,MAAM,gBAAgB,oJAAI,iBAAA,CAAe,EAAE,aAAA,CAAc,MAAM;YAEpD,IAAA,MAAA,SAAS,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAU;gBACzC,MAAM,QAAQ,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAS,KAAK,CAAA;gBACzC,MAAM,QAAA,GAAW;YACnB;YAGA,IAAA,CAAK,aAAA,CAAc,YAAY;QAAA;QAGzB,cAAA,IAAA,EAAA,iBAAgB,CAAC,UAA4B;YAC/C,IAAA,CAAC,IAAA,CAAK,OAAA,EAAS;gBACjB;YACF;YAEA,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;gBACjD,IAAI,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA,CAAE,KAAA,IAAS,GAAG;oBAEnC,MAAM,cAAA,CAAe;oBACrB;gBACF;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,mBAAkB,MAAY;YACpC,IAAA,CAAK,WAAA,CAAY,MAAA,CAAO,GAAG,IAAA,CAAK,WAAA,CAAY,MAAM;YAClD,IAAA,CAAK,aAAA,CAAc,MAAA,CAAO,GAAG,IAAA,CAAK,aAAA,CAAc,MAAM;YACtD,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;QAAA;QAGd,cAAA,IAAA,EAAA,iBAAgB,CAAC,UAA8B;YACrD,IAAI,MAAM,MAAA,IAAU,KAAK,MAAM,SAAA,EAAW;gBACxC,IAAA,CAAK,UAAA,GAAa;gBACb,IAAA,CAAA,WAAA,CAAY,IAAA,CAAK,KAAK;YAAA,OACtB;gBACL,IAAA,CAAK,UAAA,GAAa;YACpB;YAEA,IAAI,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBAC1D,IAAA,CAAA,WAAA,CAAY,IAAA,CAAK,KAAK;gBACtB,IAAA,CAAA,aAAA,CAAc,IAAA,CAAK,KAAK;gBAE7B,OAAQ,IAAA,CAAK,MAAA,EAAQ;oBACnB,KAAK,MAAM,IAAA;wBAET,IAAA,CAAK,MAAA,GAAS,MAAM,UAAA;wBACf,IAAA,CAAA,gBAAA,CAAiB,OAAO,QAAQ;wBAE9B,OAAA,gBAAA,CAAiB,eAAe,IAAA,CAAK,aAAa;wBAClD,OAAA,gBAAA,CAAiB,aAAa,IAAA,CAAK,WAAW;wBAErD;oBAEF,KAAK,MAAM,UAAA;oBACX,KAAK,MAAM,mBAAA;wBAET,IAAA,CAAK,MAAA,GAAS,MAAM,UAAA;wBAEpB,IAAA,CAAK,aAAA,CAAc;wBACnB,IAAA,CAAK,YAAA,CAAa;wBAClB,IAAA,CAAK,gBAAA,CAAiB;wBAEtB;oBAEF,KAAK,MAAM,UAAA;wBAET,IAAA,CAAK,MAAA,GAAS,MAAM,WAAA;wBACpB,IAAA,CAAK,gBAAA,CAAiB;wBACtB;gBACJ;YAAA,OAAA,IACS,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,IAAA,EAAM;gBACpE,IAAI,WAA+B;gBAE/B,IAAA,MAAM,OAAA,IAAW,MAAM,OAAA,EAAS;oBACvB,WAAA;gBAAA,OAAA,IACF,MAAM,QAAA,EAAU;oBACd,WAAA;gBACb;gBAEA,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,eAAA,CAAgB,MAAM,MAAA,EAAQ,QAAQ;gBAC3D,IAAI,IAAA,CAAK,QAAA,EAAU;oBACV,OAAA,gBAAA,CAAiB,eAAe,IAAA,CAAK,aAAa;oBAClD,OAAA,gBAAA,CAAiB,aAAa,IAAA,CAAK,WAAW;oBAGrD,IAAA,CAAK,MAAA,GAAS,MAAM,MAAA;oBACpB,IAAA,CAAK,OAAA,GAAU,MAAM,MAAA;oBAChB,IAAA,CAAA,gBAAA,CAAiB,OAAO,IAAA,CAAK,QAAQ;gBAC5C;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,iBAAgB,CAAC,UAA8B;YACrD,IAAI,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBAC/D,OAAQ,IAAA,CAAK,MAAA,EAAQ;oBACnB,KAAK,MAAM,UAAA;wBAET,IAAA,CAAK,gBAAA,CAAiB,KAAK;wBAEtB,IAAA,CAAA,eAAA,CAAgB,OAAO,MAAM,MAAM;wBACxC;oBAEF,KAAK,MAAM,mBAAA;wBACH,MAAA,WAAW,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,EAAG,KAAK,IAAI,IAAA,CAAK,WAAA;wBAEjF,IAAA,YAAY,IAAA,CAAK,kBAAA,EAAoB;4BAEvC,IAAA,CAAK,MAAA,GAAS,MAAM,UAAA;4BACpB,IAAA,CAAK,gBAAA,CAAiB,KAAK;4BAEtB,IAAA,CAAA,gBAAA,CAAiB,OAAO,QAAQ;4BACrC;wBACF;wBAEA;oBAEF,KAAK,MAAM,UAAA;wBAET,IAAA,CAAK,gBAAA,CAAiB,KAAK;wBAE3B,IAAA,CAAK,YAAA,CAAa;wBAClB,IAAA,CAAK,WAAA,CAAY;wBACjB,IAAA,CAAK,eAAA,CAAgB;wBAErB;oBAEF,KAAK,MAAM,WAAA;wBAET,IAAA,CAAK,gBAAA,CAAiB,KAAK;wBAE3B,IAAA,CAAK,eAAA,CAAgB;wBACrB;gBACJ;YAAA,OAAA,IACS,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBACtE,IAAI,WAA+B;gBAE/B,IAAA,MAAM,OAAA,IAAW,MAAM,OAAA,EAAS;oBACvB,WAAA;gBAAA,OAAA,IACF,MAAM,QAAA,EAAU;oBACd,WAAA;gBACb;gBAEA,MAAM,eAAe,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,OAAA,EAAS,QAAQ;gBAErE,IAAI,cAAc;oBACX,IAAA,CAAA,eAAA,CAAgB,OAAO,YAAY;gBAC1C;YACF;YAGA,IAAI,IAAA,CAAK,UAAA,EAAY;gBACnB,MAAM,WACJ,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,WAAA,CAAY,IAAA,CAAK,WAAA,CAAY,MAAA,GAAS,CAAC,CAAA,EAAG,KAAK,IAAI,IAAA,CAAK,WAAA;gBAC1F,IAAA,WAAW,IAAA,CAAK,kBAAA,EAAoB;oBACtC,IAAA,CAAK,UAAA,GAAa;gBACpB;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,eAAc,CAAC,UAA8B;YACnD,IAAI,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBACzD,MAAA,SAAS,IAAA,CAAK,aAAA,CAAc,MAAA;gBAElC,IAAA,IAAS,IAAI,GAAG,IAAI,QAAQ,IAAK;oBAC/B,IAAI,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,SAAA,IAAa,MAAM,SAAA,EAAW;wBACjD,IAAA,CAAA,aAAA,CAAc,MAAA,CAAO,GAAG,CAAC;wBACzB,IAAA,CAAA,WAAA,CAAY,MAAA,CAAO,GAAG,CAAC;wBAC5B;oBACF;gBACF;gBAEA,OAAQ,IAAA,CAAK,MAAA,EAAQ;oBACnB,KAAK,MAAM,UAAA;oBACX,KAAK,MAAM,mBAAA;wBAEF,OAAA,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAa;wBACrD,OAAA,mBAAA,CAAoB,aAAa,IAAA,CAAK,WAAW;wBAExD,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;wBACpB,IAAA,CAAK,cAAA,CAAe;wBAEpB;oBAEF,KAAK,MAAM,UAAA;wBAET,IAAA,CAAK,cAAA,CAAe;wBACpB,IAAA,CAAK,UAAA,CAAW;wBAChB,IAAA,CAAK,WAAA,CAAY;wBAGjB,IAAA,CAAK,MAAA,GAAS,MAAM,mBAAA;wBAEpB;oBAEF,KAAK,MAAM,WAAA;wBACL,IAAA,IAAA,CAAK,aAAA,CAAc,MAAA,IAAU,GAAG;4BAC3B,OAAA,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAa;4BACrD,OAAA,mBAAA,CAAoB,aAAa,IAAA,CAAK,WAAW;4BAGxD,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;4BACpB,IAAA,CAAK,cAAA,CAAe;wBACtB;wBAEA;gBACJ;YAAA,OAAA,IACS,MAAM,WAAA,IAAe,WAAW,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBAC/D,OAAA,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAa;gBACrD,OAAA,mBAAA,CAAoB,aAAa,IAAA,CAAK,WAAW;gBAExD,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;gBACpB,IAAA,CAAK,cAAA,CAAe;gBACpB,IAAA,CAAK,OAAA,GAAU,CAAA;YACjB;YAEA,IAAI,MAAM,SAAA,EAAW;gBACnB,IAAI,IAAA,CAAK,UAAA,EAAY;oBACb,MAAA,WAAW,MAAM,SAAA,GAAY,IAAA,CAAK,WAAA,CAAY,IAAA,CAAK,WAAA,CAAY,MAAA,GAAS,CAAC,CAAA,CAAE,SAAA;oBAE7E,IAAA,YAAY,IAAA,CAAK,YAAA,EAAc;wBAC7B,IAAA,IAAA,CAAK,QAAA,IAAY,GAAG;4BAEtB,IAAA,CAAK,QAAA,GAAW;4BACX,IAAA,CAAA,WAAA,GAAc,YAAY,GAAA;wBAAI,OAC9B;4BACC,MAAA,gBAAgB,MAAM,SAAA,GAAY,IAAA,CAAK,WAAA;4BAC7C,MAAM,WAAW,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,WAAA,CAAY,CAAC,CAAA,EAAG,IAAA,CAAK,WAAA,CAAY,CAAC,CAAC,IAAI,IAAA,CAAK,WAAA;4BAEjG,IAAI,iBAAiB,IAAA,CAAK,YAAA,IAAgB,YAAY,IAAA,CAAK,aAAA,EAAe;gCAGxE,IAAA,CAAK,QAAA,GAAW;gCAChB,IAAA,CAAK,WAAA,CAAY,MAAA,CAAO,GAAG,IAAA,CAAK,WAAA,CAAY,MAAM;gCAClD,IAAA,CAAK,WAAA,CAAY,KAAK;4BAAA,OACjB;gCAEL,IAAA,CAAK,QAAA,GAAW;gCAChB,IAAA,CAAK,WAAA,CAAY,KAAA;gCACZ,IAAA,CAAA,WAAA,GAAc,YAAY,GAAA;4BACjC;wBACF;oBAAA,OACK;wBACL,IAAA,CAAK,UAAA,GAAa;wBAClB,IAAA,CAAK,QAAA,GAAW;wBAChB,IAAA,CAAK,WAAA,CAAY,MAAA,CAAO,GAAG,IAAA,CAAK,WAAA,CAAY,MAAM;oBACpD;gBAAA,OACK;oBACL,IAAA,CAAK,QAAA,GAAW;oBAChB,IAAA,CAAK,WAAA,CAAY,MAAA,CAAO,GAAG,IAAA,CAAK,WAAA,CAAY,MAAM;gBACpD;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,WAAU,CAAC,UAA4B;;YAC7C,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,UAAA,EAAY;gBACtD,IAAI,WAA+B;gBAE/B,IAAA,MAAM,OAAA,IAAW,MAAM,OAAA,EAAS;oBACvB,WAAA;gBAAA,OAAA,IACF,MAAM,QAAA,EAAU;oBACd,WAAA;gBACb;gBAEA,MAAM,UAAU,IAAA,CAAK,eAAA,CAAgB,SAAS,QAAQ;gBAEtD,IAAI,SAAS;oBACX,MAAM,cAAA,CAAe;oBAErB,IAAA,CAAK,aAAA,CAAc,WAAW;oBAE9B,MAAM,cAAc;oBAChB,IAAA,MAAM,MAAM,MAAA,GAAS;oBAEzB,IAAI,OAAO;oBAEX,IAAI,MAAM,GAAG;wBACX,OAAO,IAAI,IAAA,CAAK,WAAA;oBAAA,OAAA,IACP,MAAM,GAAG;wBAClB,OAAO,IAAA,CAAK,WAAA;oBACd;oBAEA,OAAQ,SAAS;wBACf,KAAK;4BACE,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;4BAEpC,IAAI,MAAM,GAAG;gCACX,OAAO,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,GAAG;4BAAA,OAAA,IAChC,MAAM,GAAG;gCAClB,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,CAAC,GAAG;4BACxC;4BAEI,IAAA,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,SAAA,EAAW;gCACjC,IAAA;gCAEA,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;oCAChC,aAAA,CAAA,KAAA,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,MAAM,OAAA,EAAS,MAAM,OAAA,EAAS,IAAA,CAAK,UAAU,CAAA,KAAlF,OAAA,KAAA,IAAA,GACT,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAA,EAC7B,cAAA,CAAe,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,EAC/B,GAAA,CAAI,IAAA,CAAK,OAAA,CAAQ,QAAA;gCACtB;gCAEI,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;oCAC5C,aAAA,CAAa,KAAA,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,MAAM,OAAA,EAAS,MAAM,OAAA,EAAS,IAAA,CAAK,UAAU,CAAA,KAAlF,OAAA,KAAA,IAAA,GACT,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAA,EAC7B,GAAA,CAAI,IAAA,CAAK,OAAA,CAAQ,QAAA;gCACtB;gCAEA,IAAI,eAAe,KAAA,GAAW,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,UAAU,CAAC;4BAAA,OACpF;gCACL,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAC;4BACxE;4BAEA,IAAI,IAAA,CAAK,KAAA,EAAO;gCACd,IAAA,CAAK,WAAA,CAAY;gCACjB,IAAA,CAAK,QAAA,CAAS;4BAChB;4BAEK,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;4BAGpC,IAAA,CAAK,aAAA,CAAc,YAAY;4BAE/B,IAAA,CAAK,aAAA,CAAc,SAAS;4BAE5B;wBAEF,KAAK;4BACC,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;gCACvC,IAAA,CAAA,aAAA,CAAc,MAAM,GAAA,EAAK,IAAI;gCAe9B,IAAA,MAAM,MAAA,IAAU,GAAG;oCACrB,MAAM,MAAM,MAAA,GAAS;oCAEd,OAAA;oCAEP,IAAI,MAAM,GAAG;wCACX,OAAO,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,GAAG;oCAAA,OAAA,IAChC,MAAM,GAAG;wCAClB,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,CAAC,GAAG;oCACxC;gCACF;gCAEK,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB;gCACxD,MAAM,IAAI,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gCACrD,IAAI,OAAO,IAAI;gCAGf,uJAAO,YAAA,CAAU,KAAA,CAAM,MAAM,IAAA,CAAK,WAAA,EAAa,IAAA,CAAK,WAAW;gCAEzD,MAAA,IAAI,IAAI,KAAK,GAAA,iJAAI,YAAA,CAAU,OAAA,GAAU,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM,GAAG;gCAGhE,IAAI,yJAAS,YAAA,CAAU,OAAA,GAAA,CAAW,KAAK,IAAA,CAAK,IAAI,IAAI,IAAI,CAAA;gCAGpD,IAAA,SAAS,IAAA,CAAK,MAAA,EAAQ;oCACxB,SAAS,IAAA,CAAK,MAAA;gCAAA,OAAA,IACL,SAAS,IAAA,CAAK,MAAA,EAAQ;oCAC/B,SAAS,IAAA,CAAK,MAAA;gCAChB;gCAEA,MAAM,cAAc,IAAI,KAAK,GAAA,iJAAI,YAAA,CAAU,OAAA,GAAA,CAAW,SAAS,CAAA,CAAE;gCACjE,OAAO,IAAI;gCAEX,IAAA,CAAK,MAAA,CAAO,MAAM;gCACb,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,KAAK,CAAC;4BAC/E;4BAEA,IAAI,IAAA,CAAK,KAAA,EAAO;gCACd,IAAA,CAAK,WAAA,CAAY;gCACjB,IAAA,CAAK,QAAA,CAAS;4BAChB;4BAEK,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;4BAGpC,IAAA,CAAK,aAAA,CAAc,YAAY;4BAE/B,IAAA,CAAK,aAAA,CAAc,SAAS;4BAE5B;oBACJ;gBACF;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,oBAAmB,CAAC,OAAqB,cAA+B;YAC1E,IAAA,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,EAAY;gBAEnC,IAAA,CAAK,aAAA,CAAc,WAAW;gBAE9B,IAAA,CAAK,SAAA,CAAU,MAAM,OAAA,EAAS,MAAM,OAAO;gBAE3C,OAAQ,WAAW;oBACjB,KAAK;wBACH,IAAI,CAAC,IAAA,CAAK,SAAA,EAAW;wBAEjB,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;4BAC3B,qBAAqB,IAAA,CAAK,YAAY;4BACtC,IAAA,CAAK,YAAA,GAAe,CAAA;4BACpB,IAAA,CAAK,UAAA,GAAa,CAAA;4BAElB,IAAA,CAAK,cAAA,CAAe,KAAK;4BAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;wBACjC;wBAEA,IAAI,IAAA,CAAK,MAAA,EAAQ;4BACV,IAAA,CAAA,aAAA,CAAc,MAAM,GAAA,EAAK,IAAI;4BAC5B,MAAA,SAAS,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU;4BACzF,IAAI,WAAW,KAAA,GAAW;gCACnB,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,MAAM;4BACvC;4BACA,IAAI,IAAA,CAAK,UAAA,EAAY;gCACnB,IAAA,CAAK,QAAA,CAAS;gCAEd,IAAA,CAAK,aAAA,CAAc,YAAY;4BACjC;wBACF;wBAEA;oBAEF,KAAK;wBACH,IAAI,CAAC,IAAA,CAAK,YAAA,EAAc;wBAEpB,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;4BAC3B,qBAAqB,IAAA,CAAK,YAAY;4BACtC,IAAA,CAAK,YAAA,GAAe,CAAA;4BACpB,IAAA,CAAK,UAAA,GAAa,CAAA;wBACpB;wBAEA,IAAI,IAAA,CAAK,MAAA,EAAQ;4BACV,IAAA,CAAA,aAAA,CAAc,MAAM,MAAA,EAAQ,IAAI;4BACrC,MAAM,SAAS,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAA,EAAY,IAAA,CAAK,SAAS;4BAC3G,IAAI,WAAW,KAAA,GAAW;gCACnB,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,MAAM;4BACvC;4BACA,IAAA,CAAK,cAAA,CAAe,IAAI;4BACxB,IAAI,IAAA,CAAK,gBAAA,EAAkB;gCACzB,IAAA,CAAK,SAAA,GAAY,IAAA,CAAK,YAAA,GAAe,YAAY,GAAA,CAAI;gCAChD,IAAA,CAAA,aAAA,GAAgB,IAAA,CAAK,UAAA,GAAa;gCAClC,IAAA,CAAA,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,oBAAoB;gCAC7C,IAAA,CAAA,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,cAAc;gCAC5C,IAAA,CAAK,MAAA,GAAS;gCACd,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,MAAA;4BACrB;wBACF;wBAGA,IAAA,CAAK,aAAA,CAAc,YAAY;wBAC/B;oBAEF,KAAK;wBACH,IAAI,CAAC,IAAA,CAAK,UAAA,EAAY;wBAElB,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;4BACxC,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;gCAC3B,qBAAqB,IAAA,CAAK,YAAY;gCACtC,IAAA,CAAK,YAAA,GAAe,CAAA;gCACpB,IAAA,CAAK,UAAA,GAAa,CAAA;gCAElB,IAAA,CAAK,cAAA,CAAe,KAAK;gCAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;4BACjC;4BAEK,IAAA,CAAA,aAAA,CAAc,MAAM,GAAA,EAAK,IAAI;4BAClC,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;4BAC1F,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;wBAC5D;wBACA;oBAEF,KAAK;wBACH,IAAI,CAAC,IAAA,CAAK,UAAA,EAAY;wBAElB,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;4BAC3B,qBAAqB,IAAA,CAAK,YAAY;4BACtC,IAAA,CAAK,YAAA,GAAe,CAAA;4BACpB,IAAA,CAAK,UAAA,GAAa,CAAA;4BAElB,IAAA,CAAK,cAAA,CAAe,KAAK;4BAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;wBACjC;wBAEK,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;wBACpC,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;wBAC1F,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;wBAC1D;gBACJ;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,mBAAkB,CAAC,OAAqB,YAA0B;YACpE,IAAA,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,EAAY;gBAC7B,MAAA,UAAU,WAAW,IAAA,CAAK,MAAA;gBAChC,IAAA,CAAK,SAAA,CAAU,MAAM,OAAA,EAAS,MAAM,OAAO;gBAE3C,OAAQ,SAAS;oBACf,KAAK,MAAM,GAAA;wBACL,IAAA,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,MAAA,EAAQ;4BACjC,IAAI,SAAS;gCAIX,IAAA,CAAK,aAAA,CAAc,SAAS;gCAE5B,IAAA,CAAK,aAAA,CAAc,WAAW;gCAEzB,IAAA,CAAA,aAAA,CAAc,SAAS,IAAI;gCAC1B,MAAA,SAAS,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU;gCACzF,IAAI,WAAW,KAAA,GAAW;oCACnB,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,MAAM;gCACvC;gCACA,IAAI,IAAA,CAAK,UAAA,EAAY;oCACnB,IAAA,CAAK,QAAA,CAAS;gCAChB;gCAEA,IAAA,CAAK,cAAA,CAAe,KAAK;4BAAA,OACpB;gCAEC,MAAA,SAAS,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU;gCACzF,IAAI,WAAW,KAAA,GAAW;oCACnB,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,MAAM;gCACzC;gCACA,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,GAAA,CAAI,IAAA,CAAK,oBAAA,EAAsB,IAAA,CAAK,sBAAsB,CAAC;4BAC5F;wBACF;wBAEA;oBAEF,KAAK,MAAM,MAAA;wBACL,IAAA,IAAA,CAAK,YAAA,IAAgB,IAAA,CAAK,MAAA,EAAQ;4BACpC,IAAI,SAAS;gCAIX,IAAA,CAAK,aAAA,CAAc,SAAS;gCAE5B,IAAA,CAAK,aAAA,CAAc,WAAW;gCAEzB,IAAA,CAAA,aAAA,CAAc,SAAS,IAAI;gCAChC,MAAM,SAAS,IAAA,CAAK,oBAAA,CAClB,IAAA,CAAK,MAAA,EACL,QAAQ,CAAA,EACR,QAAQ,CAAA,EACR,IAAA,CAAK,UAAA,EACL,IAAA,CAAK,SAAA;gCAEP,IAAI,WAAW,KAAA,GAAW;oCACnB,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,MAAM;gCACvC;gCAEA,IAAI,IAAA,CAAK,UAAA,EAAY;oCACnB,IAAA,CAAK,WAAA,CAAY;gCACnB;gCAEA,IAAA,CAAK,cAAA,CAAe,IAAI;4BAAA,OACnB;gCAEL,MAAM,SAAS,IAAA,CAAK,oBAAA,CAClB,IAAA,CAAK,MAAA,EACL,QAAQ,CAAA,EACR,QAAQ,CAAA,EACR,IAAA,CAAK,UAAA,EACL,IAAA,CAAK,SAAA;gCAEP,IAAI,WAAW,KAAA,GAAW;oCACnB,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,MAAM;gCACzC;gCAEA,MAAM,WAAW,IAAA,CAAK,oBAAA,CAAqB,UAAA,CAAW,IAAA,CAAK,sBAAsB;gCACjF,MAAM,QAAQ,IAAA,CAAK,oBAAA,CAAqB,OAAA,CAAQ,IAAA,CAAK,sBAAsB;gCAC3E,MAAM,SAAS,KAAK,GAAA,CAAI,WAAW,IAAA,CAAK,SAAA,EAAW,KAAK;gCAEnD,IAAA,CAAA,oBAAA,CACH,IAAA,CAAK,MAAA,CAAO,IAAA,CAAK,qBAAA,CAAsB,IAAA,CAAK,oBAAA,EAAsB,IAAA,CAAK,sBAAsB,GAAG,MAAM;gCAGxG,IAAI,IAAA,CAAK,gBAAA,EAAkB;oCACzB,IAAA,CAAK,SAAA,GAAY,IAAA,CAAK,YAAA;oCACjB,IAAA,CAAA,YAAA,GAAe,YAAY,GAAA;oCAChC,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,aAAA;oCACvB,IAAA,CAAK,aAAA,GAAgB;oCAChB,IAAA,CAAA,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,cAAc;oCACvC,IAAA,CAAA,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,sBAAsB;oCACpD,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,MAAA;oCACnB,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,qBAAA,CACjB,IAAA,CAAK,UAAA,EACL,IAAA,CAAK,aAAA,EACL,IAAA,CAAK,SAAA,EACL,IAAA,CAAK,YAAA;gCAET;4BACF;wBACF;wBAEA;oBAEF,KAAK,MAAM,KAAA;wBACT,IAAI,IAAA,CAAK,UAAA,EAAY;4BACnB,IAAI,SAAS;gCAIX,IAAA,CAAK,aAAA,CAAc,SAAS;gCAE5B,IAAA,CAAK,aAAA,CAAc,WAAW;gCAEzB,IAAA,CAAA,aAAA,CAAc,SAAS,IAAI;gCAChC,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gCAC1F,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;gCAE1D,IAAI,IAAA,CAAK,UAAA,EAAY;oCACnB,IAAA,CAAK,WAAA,CAAY;gCACnB;gCAEA,IAAA,CAAK,cAAA,CAAe,KAAK;4BAAA,OACpB;gCAEL,MAAM,gBAAgB;gCACtB,IAAA,CAAK,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gCAEjG,MAAM,WAAW,IAAA,CAAK,sBAAA,CAAuB,CAAA,GAAI,IAAA,CAAK,oBAAA,CAAqB,CAAA;gCAE3E,IAAI,OAAO;gCAEX,IAAI,WAAW,GAAG;oCAChB,OAAO,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,CAAC,WAAW,aAAa;gCAAA,OAAA,IACtD,WAAW,GAAG;oCACvB,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,WAAW,aAAa;gCAC5D;gCAEA,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAC;4BACxE;wBACF;wBAEA;oBAEF,KAAK,MAAM,GAAA;wBACT,IAAI,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,MAAA,2JAAkB,qBAAA,EAAmB;4BAC/D,IAAI,SAAS;gCAIX,IAAA,CAAK,aAAA,CAAc,SAAS;gCAE5B,IAAA,CAAK,aAAA,CAAc,WAAW;gCAEzB,IAAA,CAAA,aAAA,CAAc,SAAS,IAAI;gCAChC,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gCAC1F,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;gCAE1D,IAAI,IAAA,CAAK,UAAA,EAAY;oCACnB,IAAA,CAAK,WAAA,CAAY;gCACnB;gCAEA,IAAA,CAAK,cAAA,CAAe,KAAK;4BAAA,OACpB;gCAEL,MAAM,gBAAgB;gCACtB,IAAA,CAAK,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gCAEjG,MAAM,WAAW,IAAA,CAAK,sBAAA,CAAuB,CAAA,GAAI,IAAA,CAAK,oBAAA,CAAqB,CAAA;gCAE3E,IAAI,OAAO;gCAEX,IAAI,WAAW,GAAG;oCAChB,OAAO,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,CAAC,WAAW,aAAa;gCAAA,OAAA,IACtD,WAAW,GAAG;oCACvB,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,WAAW,aAAa;gCAC5D;gCAEK,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB;gCACxD,MAAM,IAAI,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gCACrD,IAAI,OAAO,IAAI;gCAGf,OAAO,4JAAA,CAAU,KAAA,CAAM,MAAM,IAAA,CAAK,WAAA,EAAa,IAAA,CAAK,WAAW;gCAEzD,MAAA,IAAI,IAAI,KAAK,GAAA,CAAI,4JAAA,CAAU,OAAA,GAAU,IAAA,CAAK,SAAA,GAAY,GAAG;gCAG/D,IAAI,wJAAS,aAAA,CAAU,OAAA,GAAA,CAAW,KAAK,IAAA,CAAK,IAAI,IAAI,IAAI,CAAA;gCAGxD,yJAAS,YAAA,CAAU,KAAA,CAAM,QAAQ,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,MAAM;gCAEzD,MAAM,cAAc,IAAI,KAAK,GAAA,iJAAI,YAAA,CAAU,OAAA,GAAA,CAAW,SAAS,CAAA,CAAE;gCACjE,OAAO,IAAI;gCACN,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;gCAEvD,IAAA,CAAK,MAAA,CAAO,MAAM;gCAClB,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,KAAA,EAAO,KAAK,CAAC;gCAGlE,MAAM,YAAY,IAAA,CAAK,OAAA,CAAQ,QAAA,CAC5B,KAAA,CACA,EAAA,GAAA,CAAI,IAAA,CAAK,MAAA,CAAO,QAAQ,EACxB,SAAA,CAAA,EACA,cAAA,CAAe,cAAc,CAAC;gCACjC,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,UAAU,CAAA,EAAG,UAAU,CAAA,EAAG,UAAU,CAAC;4BAClE;wBACF;wBAEA;gBACJ;gBAGA,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QAGM,cAAA,IAAA,EAAA,kBAAiB,MAAY;YAC/B,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;gBAC3B,IAAA,CAAC,IAAA,CAAK,YAAA,EAAc;oBACtB;gBACF;gBAEA,IAAI,IAAA,CAAK,gBAAA,EAAkB;oBAEzB,MAAM,YAAY,YAAY,GAAA,CAAI,IAAI,IAAA,CAAK,YAAA;oBAC3C,IAAI,YAAY,KAAK;wBACnB,MAAM,IAAI,KAAK,GAAA,CAAA,CAAK,IAAA,CAAK,MAAA,GAAS,IAAA,CAAK,MAAA,IAAU,CAAC;wBAElD,MAAM,OAAO,IAAA;wBACb,IAAA,CAAK,YAAA,GAAe,OAAO,qBAAA,CAAsB,SAAU,CAAA,EAAG;4BACvD,KAAA,aAAA,CAAc,MAAM,gBAAA,EAAkB,IAAI;4BAC/C,MAAM,eAAe,KAAK,qBAAA,CAAsB,KAAK,cAAA,EAAgB,KAAK,cAAc;4BAEnF,KAAA,cAAA,CAAe,GAAG,cAAc,KAAK,GAAA,CAAI,GAAG,KAAK,IAAI,CAAC;wBAAA,CAC5D;oBAAA,OACI;wBAEA,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;wBACpC,IAAA,CAAK,cAAA,CAAe,KAAK;wBAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;oBACjC;gBAAA,OACK;oBACA,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;oBACpC,IAAA,CAAK,cAAA,CAAe,KAAK;oBAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;gBACjC;YAAA,OAAA,IACS,IAAA,CAAK,MAAA,IAAU,MAAM,GAAA,IAAO,IAAA,CAAK,MAAA,IAAU,MAAM,IAAA,EAAM;gBAC3D,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;gBAEpC,IAAI,IAAA,CAAK,UAAA,EAAY;oBACnB,IAAA,CAAK,WAAA,CAAY;gBACnB;gBAEA,IAAA,CAAK,cAAA,CAAe,KAAK;gBAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;YAGA,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAGtB,cAAA,IAAA,EAAA,eAAc,CAAC,UAA8B;YAC/C,IAAA,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,KAAA,IAAS,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,UAAA,EAAY;gBAElF,IAAA,CAAK,aAAA,CAAc,WAAW;gBAE9B,IAAA,CAAK,SAAA,CAAU,MAAM,OAAA,EAAS,MAAM,OAAO;gBAC3C,MAAM,OAAO,IAAA,CAAK,cAAA,CAAe,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,GAAG,IAAA,CAAK,MAAM;gBAElG,IAAA,QAAQ,IAAA,CAAK,gBAAA,EAAkB;oBACjC,MAAM,OAAO,IAAA;oBACT,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;wBACpB,OAAA,oBAAA,CAAqB,IAAA,CAAK,YAAY;oBAC/C;oBAEA,IAAA,CAAK,UAAA,GAAa,CAAA;oBAClB,IAAA,CAAK,YAAA,GAAe,OAAO,qBAAA,CAAsB,SAAU,CAAA,EAAG;wBACvD,KAAA,aAAA,CAAc,MAAM,eAAA,EAAiB,IAAI;wBAC9C,KAAK,WAAA,CAAY,GAAG,MAAM,KAAK,kBAAA,EAAoB,KAAK,iBAAiB;oBAAA,CAC1E;gBACQ,OAAA,IAAA,QAAQ,CAAC,IAAA,CAAK,gBAAA,EAAkB;oBACpC,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;oBAC/B,IAAA,CAAA,KAAA,CAAM,MAAM,IAAA,CAAK,WAAW;oBAC5B,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;oBAEpC,IAAA,CAAK,aAAA,CAAc,YAAY;gBACjC;YACF;YAGA,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAGtB,cAAA,IAAA,EAAA,oBAAmB,MAAY;YACrC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,UAAA,EAAY;gBAEpE,IAAA,CAAK,aAAA,CAAc,WAAW;gBAEzB,IAAA,CAAA,aAAA,CAAc,MAAM,GAAA,EAAK,IAAI;gBAE7B,IAAA,CAAA,SAAA,CAAA,CACF,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW,GAAA,CACjE,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW;gBAG9D,MAAA,SAAS,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAA,EAAY,IAAI;gBAC/F,IAAI,WAAW,KAAA,GAAW;oBACnB,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,MAAM;gBACvC;gBACK,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;gBAE1D,IAAA,CAAK,cAAA,CAAe,KAAK;YAC3B;QAAA;QAGM,cAAA,IAAA,EAAA,mBAAkB,MAAY;YACpC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,SAAA,IAAa,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,UAAA,EAAY;gBAC/D,IAAA,CAAA,SAAA,CAAA,CACF,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW,GAAA,CACjE,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW;gBAGhE,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,GAAA,EAAK;oBACvB,IAAA,CAAA,aAAA,CAAc,MAAM,GAAA,EAAK,IAAI;oBAC7B,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,sBAAsB;gBAC5D;gBAEM,MAAA,SAAS,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAA,EAAY,IAAI;gBAC/F,IAAI,WAAW,KAAA,GAAgB,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,MAAM;gBAC5D,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,GAAA,CAAI,IAAA,CAAK,oBAAA,EAAsB,IAAA,CAAK,sBAAA,EAAwB,IAAI,CAAC;gBAEhG,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QAGM,cAAA,IAAA,EAAA,kBAAiB,MAAY;YAC9B,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;YAEpC,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAGtB,cAAA,IAAA,EAAA,iBAAgB,MAAY;;YAC9B,IAAA,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,YAAA,EAAc;gBAErC,IAAA,CAAK,aAAA,CAAc,WAAW;gBAEzB,IAAA,CAAA,aAAA,CAAc,MAAM,OAAA,EAAS,IAAI;gBAIjC,IAAA,CAAA,oBAAA,GACH,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,EAAG,IAAA,CAAK,aAAA,CAAc,CAAC,CAAC,IAC1D,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,WAAA,CAAY,CAAC,CAAA,EAAG,IAAA,CAAK,WAAA,CAAY,CAAC,CAAC;gBACxD,IAAA,CAAK,sBAAA,GAAyB,IAAA,CAAK,oBAAA;gBAE9B,CAAA,KAAA,IAAA,CAAA,MAAA,KAAA,OAAA,KAAA,IAAA,GAAQ,iBAAA,CAAkB,IAAA,CAAK,aAAA;gBAEpC,IAAI,CAAC,IAAA,CAAK,SAAA,IAAa,CAAC,IAAA,CAAK,UAAA,EAAY;oBACvC,IAAA,CAAK,cAAA,CAAe,IAAI;gBAC1B;YACF;QAAA;QAGM,cAAA,IAAA,EAAA,gBAAe,MAAY;;YACjC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,YAAA,IAAgB,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,UAAA,EAAY;gBAClE,IAAA,CAAA,SAAA,CAAA,CACF,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW,GAAA,CACjE,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW;gBAEhE,IAAA;gBAEA,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,OAAA,EAAS;oBAC3B,IAAA,CAAA,aAAA,CAAc,MAAM,OAAA,EAAS,IAAI;oBACtC,IAAA,CAAK,oBAAA,GAAuB,IAAA,CAAK,sBAAA;gBACnC;gBAGK,IAAA,CAAA,sBAAA,GACH,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,EAAG,IAAA,CAAK,aAAA,CAAc,CAAC,CAAC,IAC1D,IAAA,CAAK,QAAA,CAAS,IAAA,CAAK,WAAA,CAAY,CAAC,CAAA,EAAG,IAAA,CAAK,WAAA,CAAY,CAAC,CAAC;gBAEpD,IAAA,CAAC,IAAA,CAAK,SAAA,EAAW;oBACnB,gBAAgB,oJAAI,UAAA,CAAU,EAAA,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;gBAAA,OAAA,IACjE,IAAA,CAAK,MAAA,EAAQ;oBACjB,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;oBACvC,gBAAA,CAAA,KAAA,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,CAAA,KAA1E,OAAA,KAAA,IAAA,GACZ,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAA,EAC7B,cAAA,CAAe,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,EAC/B,GAAA,CAAI,IAAA,CAAK,KAAA;gBACd;gBAEA,MAAM,yJAAS,YAAA,CAAU,OAAA,GAAA,CAAW,IAAA,CAAK,oBAAA,GAAuB,IAAA,CAAK,sBAAA;gBAErE,IAAI,kBAAkB,KAAA,GAAW;oBAC/B,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,OAAA,CAAQ,eAAe,MAAM,CAAC;gBAC/D;gBAEA,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QAGM,cAAA,IAAA,EAAA,eAAc,MAAY;YAC3B,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;YACpC,IAAA,CAAK,cAAA,CAAe,KAAK;YAEzB,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAGtB,cAAA,IAAA,EAAA,gBAAe,MAAY;YAC7B,IAAA,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,EAAY;gBAEnC,IAAA,CAAK,aAAA,CAAc,WAAW;gBACzB,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;gBAE/B,IAAA,CAAA,oBAAA,GAAuB,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,EAAG,IAAA,CAAK,aAAA,CAAc,CAAC,CAAC;gBACvG,IAAA,CAAK,sBAAA,GAAyB,IAAA,CAAK,oBAAA;gBAEnC,IAAA,CAAK,cAAA,CAAe,KAAK;YAC3B;QAAA;QAGM,cAAA,IAAA,EAAA,eAAc,MAAY;;YAChC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,UAAA,EAAY;gBACjD,IAAA,CAAA,SAAA,CAAA,CACF,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW,GAAA,CACjE,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,GAAU,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA,IAAW;gBAEpE,MAAM,cAAc;gBAEhB,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,KAAA,EAAO;oBAC9B,IAAA,CAAK,oBAAA,GAAuB,IAAA,CAAK,sBAAA;oBAC5B,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;gBACtC;gBAEA,IAAA,CAAK,sBAAA,GAAyB,KAAK,GAAA,CACjC,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,EAAG,IAAA,CAAK,aAAA,CAAc,CAAC,CAAC,GAC3E,cAAc,IAAA,CAAK,WAAA;gBAEf,MAAA,SAAS,IAAA,CAAK,sBAAA,GAAyB,IAAA,CAAK,oBAAA;gBAE9C,IAAA;gBAEA,IAAA,CAAC,IAAA,CAAK,SAAA,EAAW;oBACnB,aAAa,IAAA,CAAK,OAAA,CAAQ,QAAA;gBAAA,OACrB;oBACD,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;wBAChC,aAAA,CAAA,KAAA,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,CAAA,KAA1E,OAAA,KAAA,IAAA,GACT,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAA,EAC7B,cAAA,CAAe,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,EAC/B,GAAA,CAAI,IAAA,CAAK,OAAA,CAAQ,QAAA;oBAAQ,OAAA,IACnB,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;wBACnD,aAAA,CAAa,KAAA,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,MAAA,EAAQ,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,CAAA,KAA1E,OAAA,KAAA,IAAA,GACT,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAA,EAC7B,GAAA,CAAI,IAAA,CAAK,OAAA,CAAQ,QAAA;oBACtB;gBACF;gBAEA,IAAI,eAAe,KAAA,GAAW;oBAC5B,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,QAAQ,UAAU,CAAC;gBAC/D;gBAEA,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QAGM,cAAA,IAAA,EAAA,cAAa,MAAY;YAC1B,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;YAEpC,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAGtB,cAAA,IAAA,EAAA,oBAAmB,MAAY;YACrC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,UAAA,EAAY;gBAEtD,IAAA,CAAK,aAAA,CAAc,WAAW;gBAEzB,IAAA,CAAA,aAAA,CAAc,MAAM,KAAA,EAAO,IAAI;gBAGpC,IAAI,UAAU;gBACd,IAAI,UAAU;gBACR,MAAA,WAAW,IAAA,CAAK,aAAA,CAAc,MAAA;gBAEpC,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,IAAK;oBACtB,WAAA,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA;oBACtB,WAAA,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA;gBACnC;gBAEA,IAAA,CAAK,SAAA,CAAU,UAAU,UAAU,UAAU,QAAQ;gBAErD,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gBAC1F,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,oBAAoB;YAC5D;QAAA;QAGM,cAAA,IAAA,EAAA,mBAAkB,MAAY;YACpC,IAAI,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,UAAA,IAAc,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,UAAA,EAAY;gBAYrE,IAAI,UAAU;gBACd,IAAI,UAAU;gBACR,MAAA,WAAW,IAAA,CAAK,aAAA,CAAc,MAAA;gBAEpC,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,IAAK;oBACtB,WAAA,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA;oBACtB,WAAA,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,OAAA;gBACnC;gBAEA,IAAA,CAAK,SAAA,CAAU,UAAU,UAAU,UAAU,QAAQ;gBAErD,MAAM,gBAAgB;gBACtB,IAAA,CAAK,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,QAAQ,CAAA,EAAG,QAAQ,CAAA,EAAG,IAAA,CAAK,UAAU,EAAE,CAAA,GAAI,GAAG;gBAEjG,MAAM,WAAW,IAAA,CAAK,sBAAA,CAAuB,CAAA,GAAI,IAAA,CAAK,oBAAA,CAAqB,CAAA;gBAE3E,IAAI,OAAO;gBAEX,IAAI,WAAW,GAAG;oBAChB,OAAO,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,CAAC,WAAW,aAAa;gBAAA,OAAA,IACtD,WAAW,GAAG;oBACvB,OAAO,KAAK,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,WAAW,aAAa;gBAC5D;gBAEK,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB;gBACxD,MAAM,IAAI,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBACrD,IAAI,OAAO,IAAI;gBAGf,OAAO,4JAAA,CAAU,KAAA,CAAM,MAAM,IAAA,CAAK,WAAA,EAAa,IAAA,CAAK,WAAW;gBAEzD,MAAA,IAAI,IAAI,KAAK,GAAA,iJAAI,YAAA,CAAU,OAAA,GAAU,IAAA,CAAK,SAAA,GAAY,GAAG;gBAG/D,IAAI,yJAAS,YAAA,CAAU,OAAA,GAAA,CAAW,KAAK,IAAA,CAAK,IAAI,IAAI,IAAI,CAAA;gBAGxD,yJAAS,YAAA,CAAU,KAAA,CAAM,QAAQ,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,MAAM;gBAEzD,MAAM,cAAc,IAAI,KAAK,GAAA,iJAAI,YAAA,CAAU,OAAA,GAAA,CAAW,SAAS,CAAA,CAAE;gBACjE,OAAO,IAAI;gBACN,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;gBAEvD,IAAA,CAAK,MAAA,CAAO,MAAM;gBAClB,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,KAAA,EAAO,KAAK,CAAC;gBAGlE,MAAM,YAAY,IAAA,CAAK,OAAA,CAAQ,QAAA,CAC5B,KAAA,CACA,EAAA,GAAA,CAAI,IAAA,CAAK,MAAA,CAAO,QAAQ,EACxB,SAAA,CAAA,EACA,cAAA,CAAe,cAAc,CAAC;gBACjC,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,UAAU,CAAA,EAAG,UAAU,CAAA,EAAG,UAAU,CAAC;gBAGhE,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QAGM,cAAA,IAAA,EAAA,kBAAiB,MAAY;YAC9B,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;YAEpC,IAAA,CAAK,aAAA,CAAc,SAAS;QAAA;QAStB;;;;KAAA,GAAA,cAAA,IAAA,EAAA,aAAY,CAAC,SAAiB,YAA0B;YAC9D,QAAQ,CAAA,GAAI;YACZ,QAAQ,CAAA,GAAI;QAAA;QAMN;;KAAA,GAAA,cAAA,IAAA,EAAA,0BAAyB,MAAY;YACtC,IAAA,CAAA,cAAA,CAAe,OAAO,GAAG,MAAM;YAC/B,IAAA,CAAA,cAAA,CAAe,OAAO,CAAC;YAEvB,IAAA,CAAA,cAAA,CAAe,UAAU,CAAC;YAE1B,IAAA,CAAA,cAAA,CAAe,QAAQ,OAAO;YAC9B,IAAA,CAAA,cAAA,CAAe,QAAQ,CAAC;YAExB,IAAA,CAAA,cAAA,CAAe,OAAO,SAAS,OAAO;YACtC,IAAA,CAAA,cAAA,CAAe,OAAO,GAAG,OAAO;QAAA;QAU/B;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,kBAAiB,CAAC,WAAsB,OAAwB,MAA0B,IAAA,KAAkB;YAClH,MAAM,iBAAiB;gBAAC;gBAAO;gBAAU;gBAAQ,KAAK;aAAA;YACtD,MAAM,aAAa;gBAAC;gBAAG;gBAAG;gBAAG,OAAO;aAAA;YACpC,MAAM,WAAW;gBAAC;gBAAQ;gBAAS,IAAI;aAAA;YACnC,IAAA;YAEJ,IAAI,CAAC,eAAe,QAAA,CAAS,SAAS,KAAK,CAAC,WAAW,QAAA,CAAS,KAAK,KAAK,CAAC,SAAS,QAAA,CAAS,GAAG,GAAG;gBAE1F,OAAA;YACT;YAEA,IAAI,SAAS,SAAS;gBAChB,IAAA,aAAa,UAAU,aAAa,OAAO;oBAEtC,OAAA;gBACT;YACF;YAEA,OAAQ,WAAW;gBACjB,KAAK;oBACH,QAAQ,MAAM,GAAA;oBACd;gBAEF,KAAK;oBACH,QAAQ,MAAM,MAAA;oBACd;gBAEF,KAAK;oBACH,QAAQ,MAAM,KAAA;oBACd;gBAEF,KAAK;oBACH,QAAQ,MAAM,GAAA;oBACd;YACJ;YAEA,MAAM,SAAS;gBACb;gBACA;gBACA;gBACA;YAAA;YAGF,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;gBACjD,IAAI,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA,CAAE,KAAA,IAAS,OAAO,KAAA,IAAS,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA,CAAE,GAAA,IAAO,OAAO,GAAA,EAAK;oBACxF,IAAA,CAAK,YAAA,CAAa,MAAA,CAAO,GAAG,GAAG,MAAM;oBAC9B,OAAA;gBACT;YACF;YAEK,IAAA,CAAA,YAAA,CAAa,IAAA,CAAK,MAAM;YACtB,OAAA;QAAA;QASD;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,mBAAkB,CAAC,OAAwB,QAA8C;YAC3F,IAAA;YAEJ,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;gBACxC,SAAA,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA;gBAC5B,IAAI,OAAO,KAAA,IAAS,SAAS,OAAO,GAAA,IAAO,KAAK;oBAC9C,OAAO,OAAO,SAAA;gBAChB;YACF;YAEA,IAAI,KAAK;gBACP,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;oBACxC,SAAA,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA;oBAC5B,IAAI,OAAO,KAAA,IAAS,SAAS,OAAO,GAAA,IAAO,MAAM;wBAC/C,OAAO,OAAO,SAAA;oBAChB;gBACF;YACF;YAEO,OAAA;QAAA;QASD;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,wBAAuB,CAAC,OAAwB,QAA2C;YAC7F,IAAA;YAEJ,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;gBACxC,SAAA,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA;gBAC5B,IAAI,OAAO,KAAA,IAAS,SAAS,OAAO,GAAA,IAAO,KAAK;oBAC9C,OAAO,OAAO,KAAA;gBAChB;YACF;YAEA,IAAI,KAAK;gBACP,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,YAAA,CAAa,MAAA,EAAQ,IAAK;oBACxC,SAAA,IAAA,CAAK,YAAA,CAAa,CAAC,CAAA;oBAC5B,IAAI,OAAO,KAAA,IAAS,SAAS,OAAO,GAAA,IAAO,MAAM;wBAC/C,OAAO,OAAO,KAAA;oBAChB;gBACF;YACF;YAEO,OAAA;QAAA;QASD;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,YAAW,CAAC,IAAkB,OAA6B;YACjE,OAAQ,KAAK,KAAA,CAAM,GAAG,OAAA,GAAU,GAAG,OAAA,EAAS,GAAG,OAAA,GAAU,GAAG,OAAO,IAAI,MAAO,KAAK,EAAA;QAAA;QAO7E;;;KAAA,GAAA,cAAA,IAAA,EAAA,oBAAmB,CAAC,UAA8B;YACxD,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,aAAA,CAAc,MAAA,EAAQ,IAAK;gBAClD,IAAI,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,CAAE,SAAA,IAAa,MAAM,SAAA,EAAW;oBACtD,IAAA,CAAK,aAAA,CAAc,MAAA,CAAO,GAAG,GAAG,KAAK;oBACrC;gBACF;YACF;QAAA;QAkFM;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,yBAAwB,CAAC,IAAY,IAAY,IAAY,OAAuB;YAC1F,MAAM,IAAI,KAAK;YACT,MAAA,IAAA,CAAK,KAAK,EAAA,IAAM;YACtB,IAAI,KAAK,GAAG;gBACH,OAAA;YACT;YAEA,OAAO,IAAI;QAAA;QASL;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,6BAA4B,CAAC,IAAkB,OAA6B;YAClF,OAAO,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,GAAG,OAAA,GAAU,GAAG,OAAA,EAAS,CAAC,IAAI,KAAK,GAAA,CAAI,GAAG,OAAA,GAAU,GAAG,OAAA,EAAS,CAAC,CAAC;QAAA;QAStF;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,yBAAwB,CAAC,MAAe,SAA2B;YACpE,IAAA,CAAA,eAAA,CAAgB,eAAA,CAAgB,IAAA,CAAK,kBAAkB;YACvD,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,eAAe;YAErD,IAAA,CAAK,aAAA,CAAc,YAAA,CAAa,MAAM,IAAI,EAAE,eAAA,CAAgB,IAAA,CAAK,KAAK;YACtE,OAAO,IAAA,CAAK,aAAA,CAAc,SAAA,CAAU,EAAE,KAAA,CAAM;QAAA;QAQtC;;;;KAAA,GAAA,cAAA,IAAA,EAAA,qBAAoB,CAAC,WAAuC;YAClE,MAAM,SAAS;YACf,MAAM,WAAW,OAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;YAEjE,IAAI,kKAAkB,oBAAA,EAAmB;gBACvC,MAAM,2JAAW,YAAA,CAAU,OAAA,GAAU,OAAO,GAAA,GAAM;gBAC5C,MAAA,WAAW,KAAK,IAAA,CAAK,OAAO,MAAA,GAAS,KAAK,GAAA,CAAI,QAAQ,CAAC;gBACtD,OAAA,KAAK,GAAA,CAAI,KAAK,GAAA,CAAI,UAAU,QAAQ,CAAC,IAAI,WAAW;YAAA,OAAA,IAClD,kBAAkB,qKAAA,EAAoB;gBAC/C,OAAO,KAAK,GAAA,CAAI,OAAO,GAAA,EAAK,OAAO,KAAK,IAAI;YAC9C;QAAA;QASM;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,SAAQ,CAAC,OAAgB,MAAc,SAAS,CAAA,KAAY;YAClE,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACT,MAAA,aAAa,MAAM,KAAA;gBAGzB,WAAW,GAAA,CAAI,IAAA,CAAK,OAAA,CAAQ,QAAQ,EAAE,cAAA,CAAe,MAAM;gBAC3D,IAAA,CAAK,kBAAA,CAAmB,eAAA,CAAgB,WAAW,CAAA,EAAG,WAAW,CAAA,EAAG,WAAW,CAAC;gBAE1E,MAAA,iBAAiB,IAAA,CAAK,iBAAA,CAAkB,KAAA,CAAM;gBAC/C,IAAA,CAAA,iBAAA,CAAkB,WAAA,CAAY,IAAA,CAAK,kBAAkB;gBACrD,IAAA,CAAA,iBAAA,CAAkB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;gBAE7F,MAAA,kBAAkB,IAAA,CAAK,kBAAA,CAAmB,KAAA,CAAM;gBACjD,IAAA,CAAA,kBAAA,CAAmB,WAAA,CAAY,IAAA,CAAK,kBAAkB;gBACtD,IAAA,CAAA,kBAAA,CAAmB,SAAA,CAAU,IAAA,CAAK,MAAA,CAAO,QAAA,EAAU,IAAA,CAAK,MAAA,CAAO,UAAA,EAAY,IAAA,CAAK,MAAA,CAAO,KAAK;gBAGjG,IAAI,IAAA,CAAK,UAAA,EAAY;oBACnB,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,MAAM,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAC;gBACxE;gBAEK,IAAA,CAAA,iBAAA,CAAkB,IAAA,CAAK,cAAc;gBACrC,IAAA,CAAA,kBAAA,CAAmB,IAAA,CAAK,eAAe;YAC9C;QAAA;QAMM;;KAAA,GAAA,cAAA,IAAA,EAAA,YAAW,MAAY;YAC7B,IAAI,IAAA,CAAK,KAAA,EAAO;gBACd,MAAM,QAAQ;gBACd,MAAM,aAAa;gBACf,IAAA,MAAM,WAAW,WAAW;gBAE5B,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;oBAC7C,MAAM,QAAQ,IAAA,CAAK,MAAA,CAAO,KAAA,GAAQ,IAAA,CAAK,MAAA,CAAO,IAAA;oBAC9C,MAAM,SAAS,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,IAAA,CAAK,MAAA,CAAO,GAAA;oBAEpC,YAAA,KAAK,GAAA,CAAI,OAAO,MAAM;oBAClC,OAAO,YAAY;oBAEX,OAAA,YAAY,IAAA,CAAK,MAAA,CAAO,IAAA,GAAQ;oBAC3B,YAAA,OAAO,OAAQ,IAAA,CAAK,MAAA,CAAO,IAAA;gBAAA,OAAA,IAC/B,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;oBACnD,MAAM,WAAW,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;oBACtE,MAAM,2JAAW,YAAA,CAAU,OAAA,GAAU,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM;oBACjD,MAAA,WAAW,KAAK,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAA,GAAS,KAAK,GAAA,CAAI,QAAQ,CAAC;oBAEtD,YAAA,KAAK,GAAA,CAAI,KAAK,GAAA,CAAI,UAAU,QAAQ,CAAC,IAAI,WAAW;oBAChE,OAAO,YAAY;oBAEnB,OAAO,YAAY;oBACnB,YAAY,OAAO;gBACrB;gBAEA,IAAI,IAAA,CAAK,KAAA,IAAS,QAAQ,IAAA,CAAK,MAAA,EAAQ;oBACrC,IAAA,CAAK,KAAA,GAAQ,oJAAI,aAAA,CAAW,MAAM,WAAW,OAAO,KAAK;oBACzD,IAAA,CAAK,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,QAAQ;oBAC9C,IAAA,CAAK,aAAA,CAAc,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,QAAQ;oBAC3C,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,UAAU;oBACjD,IAAA,CAAK,KAAA,CAAM,OAAA,CAAQ,KAAK,EAAA,GAAK,GAAG;oBAE3B,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAK;gBAC3B;YACF;QAAA;QAGK,cAAA,IAAA,EAAA,WAAU,CAAC,eAAkC;YAGlD,IAAK,eAAuB,UAAU;gBAC5B,QAAA,KAAA,CACN;YAEJ;YACA,IAAA,CAAK,UAAA,GAAa;YAIb,IAAA,CAAA,UAAA,CAAW,KAAA,CAAM,WAAA,GAAc;YACpC,IAAA,CAAK,UAAA,CAAW,gBAAA,CAAiB,eAAe,IAAA,CAAK,aAAa;YAClE,IAAA,CAAK,UAAA,CAAW,gBAAA,CAAiB,eAAe,IAAA,CAAK,aAAa;YAClE,IAAA,CAAK,UAAA,CAAW,gBAAA,CAAiB,iBAAiB,IAAA,CAAK,eAAe;YACtE,IAAA,CAAK,UAAA,CAAW,gBAAA,CAAiB,SAAS,IAAA,CAAK,OAAO;QAAA;QAMjD;;KAAA,GAAA,cAAA,IAAA,EAAA,WAAU,MAAY;;YACvB,IAAA,IAAA,CAAK,YAAA,IAAgB,CAAA,GAAI;gBACpB,OAAA,oBAAA,CAAqB,IAAA,CAAK,YAAY;YAC/C;YAEA,CAAA,KAAA,IAAA,CAAK,UAAA,KAAL,OAAA,KAAA,IAAA,GAAiB,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAA;YACzD,CAAA,KAAA,IAAA,CAAK,UAAA,KAAL,OAAA,KAAA,IAAA,GAAiB,mBAAA,CAAoB,iBAAiB,IAAA,CAAK,eAAA;YAC3D,CAAA,KAAA,IAAA,CAAK,UAAA,KAAL,OAAA,KAAA,IAAA,GAAiB,mBAAA,CAAoB,SAAS,IAAA,CAAK,OAAA;YACnD,CAAA,KAAA,IAAA,CAAK,UAAA,KAAL,OAAA,KAAA,IAAA,GAAiB,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAA;YAElD,OAAA,mBAAA,CAAoB,eAAe,IAAA,CAAK,aAAa;YACrD,OAAA,mBAAA,CAAoB,aAAa,IAAA,CAAK,WAAW;YAEjD,OAAA,mBAAA,CAAoB,UAAU,IAAA,CAAK,cAAc;YAEnD,CAAA,KAAA,IAAA,CAAA,KAAA,KAAA,OAAA,KAAA,IAAA,GAAO,MAAA,CAAO,IAAA,CAAK,OAAA;YACxB,IAAA,CAAK,WAAA,CAAY;QAAA;QAMX;;KAAA,GAAA,cAAA,IAAA,EAAA,eAAc,MAAY;YAC5B,IAAA,IAAA,CAAK,KAAA,IAAS,IAAA,CAAK,KAAA,EAAO;gBACvB,IAAA,CAAA,KAAA,CAAM,MAAA,CAAO,IAAA,CAAK,KAAK;gBAC5B,IAAA,CAAK,KAAA,GAAQ;YACf;QAAA;QAQM;;;;KAAA,GAAA,cAAA,IAAA,EAAA,gBAAe,CAAC,MAAsB;YAC5C,OAAO,IAAI,KAAK,GAAA,CAAI,IAAI,GAAG,CAAC;QAAA;QAOtB;;;KAAA,GAAA,cAAA,IAAA,EAAA,kBAAiB,CAAC,aAA4B;YACzC,KAAA,MAAA,SAAS,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAU;gBACvC,MAAyC,QAAA,CAAS,SAAA,CAAU;oBAAE,SAAS,WAAW,IAAI;gBAAA,CAAK;YAC/F;QAAA;QAUM;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,gBAAe,CAAC,SAAiB,SAAiB,WAAiC;YACnF,MAAA,aAAa,OAAO,qBAAA;YACrB,IAAA,CAAA,KAAA,CAAM,IAAA,CAAA,CAAO,UAAU,WAAW,IAAA,IAAQ,WAAW,KAAA,GAAS,IAAI,CAAC;YACnE,IAAA,CAAA,KAAA,CAAM,IAAA,CAAA,CAAO,WAAW,MAAA,GAAS,OAAA,IAAW,WAAW,MAAA,GAAU,IAAI,CAAC;YACpE,OAAA,IAAA,CAAK,KAAA,CAAM,KAAA;QAAM;QAUlB;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,qBAAoB,CAAC,SAAiB,SAAiB,WAAiC;YAC9F,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,SAAS,SAAS,MAAM,CAAC;YACvD,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;gBAC7C,IAAA,CAAK,KAAA,CAAM,CAAA,IAAA,CAAM,IAAA,CAAK,MAAA,CAAO,KAAA,GAAQ,IAAA,CAAK,MAAA,CAAO,IAAA,IAAQ;gBACzD,IAAA,CAAK,KAAA,CAAM,CAAA,IAAA,CAAM,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,MAAA,CAAO,MAAA,IAAU;YAC3D;YACO,OAAA,IAAA,CAAK,KAAA,CAAM,KAAA;QAAM;QAOlB;;;KAAA,GAAA,cAAA,IAAA,EAAA,aAAY,CAAC,WAAgC;YACnD,IAAI,QAAQ;gBACH,OAAA,MAAA,CAAO,IAAA,CAAK,MAAM;gBACzB,OAAO,YAAA,CAAa;gBAGpB,IAAI,kKAAkB,oBAAA,EAAmB;oBACvC,IAAA,CAAK,KAAA,GAAQ,OAAO,GAAA;oBACpB,IAAA,CAAK,SAAA,GAAY,OAAO,GAAA;gBAC1B;gBAEK,IAAA,CAAA,mBAAA,CAAoB,IAAA,CAAK,OAAO,MAAM;gBACtC,IAAA,CAAA,kBAAA,CAAmB,IAAA,CAAK,IAAA,CAAK,mBAAmB;gBAChD,IAAA,CAAA,sBAAA,CAAuB,IAAA,CAAK,OAAO,gBAAgB;gBACxD,IAAA,CAAK,MAAA,GAAS,OAAO,IAAA;gBACrB,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,MAAA;gBAEvB,IAAA,CAAK,YAAA,GAAe,OAAO,IAAA;gBAC3B,IAAA,CAAK,SAAA,GAAY,OAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,MAAM,IAAI,OAAO,IAAA;gBAClE,IAAA,CAAK,QAAA,GAAW,IAAA,CAAK,YAAA;gBAErB,IAAA,CAAK,WAAA,GAAc,OAAO,GAAA;gBAC1B,IAAA,CAAK,QAAA,GAAW,OAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,MAAM,IAAI,OAAO,GAAA;gBACjE,IAAA,CAAK,OAAA,GAAU,IAAA,CAAK,WAAA;gBAEf,IAAA,CAAA,IAAA,CAAK,IAAA,CAAK,OAAO,EAAE;gBACnB,IAAA,CAAA,QAAA,CAAS,IAAA,CAAK,OAAO,EAAE;gBAE5B,IAAA,CAAK,MAAA,GAAS;gBAEd,IAAA,CAAK,MAAA,CAAO,sBAAA;gBAGN,MAAA,WAAW,IAAA,CAAK,iBAAA,CAAkB,MAAM;gBAC9C,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBACA,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,SAAS;YAC7C;QAAA;QAkBM;;;;KAAA,GAAA,cAAA,IAAA,EAAA,cAAa,CAAC,UAAmB,aAA2B;YAElE,MAAM,QAAQ,oJAAI,eAAA,CAAa,GAAG,GAAG,UAAU,QAAQ;YACvD,MAAM,SAAS,MAAM,SAAA,CAAU,IAAA,CAAK,SAAS;YAG7C,MAAM,gBAAgB,oJAAI,iBAAA,CAAe,EAAE,aAAA,CAAc,MAAM;YAG/D,MAAM,iBAAiB,oJAAI,oBAAA,CAAkB;gBAAE,OAAO;gBAAU,KAAK;gBAAO,aAAa;gBAAM,SAAS;YAAK,CAAA;YAC7G,MAAM,iBAAiB,IAAI,oKAAA,CAAkB;gBAAE,OAAO;gBAAU,KAAK;gBAAO,aAAa;gBAAM,SAAS;YAAK,CAAA;YAC7G,MAAM,iBAAiB,oJAAI,oBAAA,CAAkB;gBAAE,OAAO;gBAAU,KAAK;gBAAO,aAAa;gBAAM,SAAS;YAAK,CAAA;YAG7G,MAAM,SAAS,oJAAI,OAAA,CAAK,eAAe,cAAc;YACrD,MAAM,SAAS,oJAAI,OAAA,CAAK,eAAe,cAAc;YACrD,MAAM,SAAS,oJAAI,OAAA,CAAK,eAAe,cAAc;YAE/C,MAAA,WAAW,KAAK,EAAA,GAAK;YAC3B,OAAO,QAAA,CAAS,CAAA,GAAI;YACpB,OAAO,QAAA,CAAS,CAAA,GAAI;YAGpB,IAAA,CAAK,kBAAA,CAAmB,QAAA,CAAW,EAAA,WAAA,CAAY,QAAQ;YAClD,IAAA,CAAA,iBAAA,CAAkB,IAAA,CAAK,IAAA,CAAK,kBAAkB;YAEnD,IAAI,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,MAAA,CAAO,IAAA,IAAQ,GAAG;gBAElC,MAAA,OAAO,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA;gBAC7B,IAAA,CAAK,YAAA,CAAa,SAAA,CAAU,MAAM,MAAM,IAAI;gBACvC,IAAA,CAAA,kBAAA,CAAmB,eAAA,CAAgB,CAAC,SAAS,CAAA,EAAG,CAAC,SAAS,CAAA,EAAG,CAAC,SAAS,CAAC;gBAE7E,IAAA,CAAK,iBAAA,CAAkB,WAAA,CAAY,IAAA,CAAK,kBAAkB,EAAE,WAAA,CAAY,IAAA,CAAK,YAAY;gBACzF,IAAA,CAAK,kBAAA,CAAmB,eAAA,CAAgB,SAAS,CAAA,EAAG,SAAS,CAAA,EAAG,SAAS,CAAC;gBACrE,IAAA,CAAA,iBAAA,CAAkB,WAAA,CAAY,IAAA,CAAK,kBAAkB;YAC5D;YAEK,IAAA,CAAA,iBAAA,CAAkB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;YAEnG,IAAA,CAAK,OAAA,CAAQ,KAAA;YAER,IAAA,CAAA,OAAA,CAAQ,GAAA,CAAI,MAAM;YAClB,IAAA,CAAA,OAAA,CAAQ,GAAA,CAAI,MAAM;YAClB,IAAA,CAAA,OAAA,CAAQ,GAAA,CAAI,MAAM;QAAA;QAUjB;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,eAAc,CAAC,MAAc,OAAgB,cAAuB,gBAA+B;YACrG,IAAA,IAAA,CAAK,UAAA,IAAc,CAAA,GAAI;gBAEzB,IAAA,CAAK,UAAA,GAAa;YACpB;YAEI,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,eAAA,EAAiB;gBAClC,MAAA,YAAY,OAAO,IAAA,CAAK,UAAA;gBACxB,MAAA,WAAW,YAAY,IAAA,CAAK,kBAAA;gBAE7B,IAAA,CAAA,iBAAA,CAAkB,IAAA,CAAK,WAAW;gBAEvC,IAAI,YAAY,GAAG;oBAGZ,IAAA,CAAA,iBAAA,CAAkB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;oBAE9F,IAAA,CAAA,KAAA,CAAM,OAAO,IAAA,CAAK,WAAW;oBAElC,IAAA,CAAK,UAAA,GAAa,CAAA;oBACb,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;oBACpC,IAAA,CAAK,cAAA,CAAe,KAAK;oBAGzB,IAAA,CAAK,aAAA,CAAc,YAAY;gBAAA,OAC1B;oBACC,MAAA,SAAS,IAAA,CAAK,YAAA,CAAa,QAAQ;oBACzC,MAAM,OAAO,IAAI,SAAS,IAAA,CAAK,WAAA,GAAc;oBAExC,IAAA,CAAA,iBAAA,CAAkB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;oBAC9F,IAAA,CAAA,KAAA,CAAM,OAAO,MAAM,MAAM;oBAG9B,IAAA,CAAK,aAAA,CAAc,YAAY;oBAC/B,MAAM,OAAO,IAAA;oBACb,IAAA,CAAK,YAAA,GAAe,OAAO,qBAAA,CAAsB,SAAU,CAAA,EAAG;wBAC5D,KAAK,WAAA,CAAY,GAAG,OAAO,cAAc,YAAY,KAAA,EAAO;oBAAA,CAC7D;gBACH;YAAA,OACK;gBAGL,IAAA,CAAK,YAAA,GAAe,CAAA;gBACpB,IAAA,CAAK,UAAA,GAAa,CAAA;YACpB;QAAA;QASM;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,kBAAiB,CAAC,MAAc,cAAuB,OAAqB;YAC9E,IAAA,IAAA,CAAK,UAAA,IAAc,CAAA,GAAI;gBAEzB,IAAA,CAAK,UAAA,GAAa;gBAClB,IAAA,CAAK,aAAA,GAAgB;gBACrB,IAAA,CAAK,UAAA,GAAa;YACpB;YAEI,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,gBAAA,EAAkB;gBAEnC,MAAA,YAAA,CAAa,OAAO,IAAA,CAAK,UAAA,IAAc;gBAC7C,MAAM,IAAI,KAAK,CAAC,IAAA,CAAK,aAAA,GAAgB;gBAErC,IAAI,IAAI,GAAG;oBAEJ,IAAA,CAAA,aAAA,GAAgB,MAAM,CAAC,IAAA,CAAK,aAAA,GAAgB,KAAK,GAAA,CAAI,WAAW,CAAC,IAAI,KAAK,YAAY;oBAC3F,IAAA,CAAK,oBAAA,CAAqB,IAAA,CAAK,MAAA,CAAO,cAAc,IAAA,CAAK,aAAa,CAAC;oBAEvE,IAAA,CAAK,aAAA,CAAc,YAAY;oBAC/B,MAAM,OAAO,IAAA;oBACb,IAAA,CAAK,YAAA,GAAe,OAAO,qBAAA,CAAsB,SAAU,CAAA,EAAG;wBACvD,KAAA,cAAA,CAAe,GAAG,cAAc,EAAE;oBAAA,CACxC;gBAAA,OACI;oBACL,IAAA,CAAK,YAAA,GAAe,CAAA;oBACpB,IAAA,CAAK,UAAA,GAAa,CAAA;oBAEb,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;oBACpC,IAAA,CAAK,cAAA,CAAe,KAAK;oBAGzB,IAAA,CAAK,aAAA,CAAc,YAAY;gBACjC;YAAA,OACK;gBAGL,IAAA,CAAK,YAAA,GAAe,CAAA;gBACpB,IAAA,CAAK,UAAA,GAAa,CAAA;gBAEd,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,EAAQ;oBAC/B,IAAA,CAAK,cAAA,CAAe,KAAK;oBAEzB,IAAA,CAAK,aAAA,CAAc,YAAY;gBACjC;YACF;QAAA;QASM;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,OAAM,CAAC,IAAa,IAAa,SAAS,KAAA,KAA0B;YAC1E,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACf,MAAM,WAAW,GAAG,KAAA,CAAM,EAAE,GAAA,CAAI,EAAE;gBAE9B,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;oBAE7C,SAAS,cAAA,CAAe,IAAI,IAAA,CAAK,MAAA,CAAO,IAAI;gBAC9C;gBAEI,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,IAAqB,QAAQ;oBAEjD,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,mBAAmB;oBACpD,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB;oBACxD,MAAM,iBACJ,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,IAAA,CAAK,KAAK,IAAI,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;oBAClF,SAAA,cAAA,CAAe,IAAI,cAAc;gBAC5C;gBAEK,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,SAAS,CAAA,EAAG,SAAS,CAAA,EAAG,CAAC,EAAE,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAU;gBAE3E,IAAA,CAAA,KAAA,CAAM,eAAA,CAAgB,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAC;gBAEnE,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,KAAK;YACvD;YACO,OAAA;QAAA;QAMF;;KAAA,GAAA,cAAA,IAAA,EAAA,SAAQ,MAAY;YACzB,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACV,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,MAAA;gBAEpB,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;oBACvC,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,KAAA;gBACzB;gBAEK,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,QAAA;gBACnB,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,OAAA;gBAClB,IAAA,CAAA,kBAAA,CAAmB,IAAA,CAAK,IAAA,CAAK,mBAAmB;gBAChD,IAAA,CAAA,kBAAA,CAAmB,SAAA,CAAU,IAAA,CAAK,MAAA,CAAO,QAAA,EAAU,IAAA,CAAK,MAAA,CAAO,UAAA,EAAY,IAAA,CAAK,MAAA,CAAO,KAAK;gBACjG,IAAA,CAAK,MAAA,CAAO,EAAA,CAAG,IAAA,CAAK,IAAA,CAAK,IAAI;gBAE7B,IAAA,CAAK,MAAA,CAAO,YAAA;gBACZ,IAAA,CAAK,MAAA,CAAO,sBAAA;gBAEP,IAAA,CAAA,iBAAA,CAAkB,IAAA,CAAK,IAAA,CAAK,kBAAkB;gBAC9C,IAAA,CAAA,kBAAA,CAAmB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;gBACpG,IAAA,CAAK,OAAA,CAAQ,YAAA;gBAEb,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBACA,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,SAAS;gBAErD,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBAEnC,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;gBAGpC,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QASM;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,UAAS,CAAC,MAAe,UAAkC;YAC3D,MAAA,QAAQ,IAAA,CAAK,OAAA,CAAQ,QAAA;YACtB,IAAA,CAAA,kBAAA,CAAmB,eAAA,CAAgB,CAAC,MAAM,CAAA,EAAG,CAAC,MAAM,CAAA,EAAG,CAAC,MAAM,CAAC;YACpE,IAAA,CAAK,eAAA,CAAgB,gBAAA,CAAiB,MAAM,CAAC,KAAK;YAGlD,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,MAAM,CAAA,EAAG,MAAM,CAAA,EAAG,MAAM,CAAC;YAC/C,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,eAAe;YACnC,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,kBAAkB;YAEtC,IAAA,CAAA,yBAAA,CAA0B,IAAA,CAAK,KAAK;YAElC,OAAA;QAAA;QAGF,cAAA,IAAA,EAAA,aAAY,MAAY;YAC7B,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACf,MAAM,QAAQ,KAAK,SAAA,CACjB,IAAA,CAAK,MAAA,4JAAkB,qBAAA,GACnB;oBACE,cAAc;wBACZ,WAAW,IAAA,CAAK,MAAA,CAAO,GAAA;wBACvB,cAAc,IAAA,CAAK,MAAA,CAAO,MAAA;wBAC1B,YAAY,IAAA,CAAK,MAAA,CAAO,IAAA;wBACxB,UAAU,IAAA,CAAK,MAAA,CAAO,EAAA;wBACtB,YAAY,IAAA,CAAK,MAAA,CAAO,IAAA;wBACxB,aAAa,IAAA,CAAK,OAAA,CAAQ,MAAA;oBAC5B;gBAAA,IAEF;oBACE,cAAc;wBACZ,WAAW,IAAA,CAAK,MAAA,CAAO,GAAA;wBACvB,WAAW,IAAA,CAAK,MAAA,CAAO,GAAA;wBACvB,cAAc,IAAA,CAAK,MAAA,CAAO,MAAA;wBAC1B,YAAY,IAAA,CAAK,MAAA,CAAO,IAAA;wBACxB,UAAU,IAAA,CAAK,MAAA,CAAO,EAAA;wBACtB,YAAY,IAAA,CAAK,MAAA,CAAO,IAAA;wBACxB,aAAa,IAAA,CAAK,OAAA,CAAQ,MAAA;oBAC5B;gBACF;gBAGI,UAAA,SAAA,CAAU,SAAA,CAAU,KAAK;YACrC;QAAA;QAGK,cAAA,IAAA,EAAA,cAAa,MAAY;YAC9B,MAAM,OAAO,IAAA;YACb,UAAU,SAAA,CAAU,QAAA,CAAS,EAAE,IAAA,CAAK,SAAS,SAAS,KAAA,EAAO;gBAC3D,KAAK,gBAAA,CAAiB,KAAK;YAAA,CAC5B;QAAA;QAMI;;KAAA,GAAA,cAAA,IAAA,EAAA,aAAY,MAAY;YAC7B,IAAI,CAAC,IAAA,CAAK,MAAA,EAAQ;YAElB,IAAA,CAAK,mBAAA,CAAoB,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAM;YAChD,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,MAAM;YAC3C,IAAA,CAAA,QAAA,GAAW,IAAA,CAAK,MAAA,CAAO,IAAA;YACvB,IAAA,CAAA,OAAA,GAAU,IAAA,CAAK,MAAA,CAAO,GAAA;YACtB,IAAA,CAAA,MAAA,GAAS,IAAA,CAAK,MAAA,CAAO,IAAA;YAC1B,IAAA,CAAK,IAAA,CAAK,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,EAAE;YAEzB,IAAA,IAAA,CAAK,MAAA,2JAAkB,qBAAA,EAAmB;gBACvC,IAAA,CAAA,KAAA,GAAQ,IAAA,CAAK,MAAA,CAAO,GAAA;YAC3B;QAAA;QAUM;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,cAAa,CAAC,MAAc,OAAgB,cAAc,IAAA,KAAqC;YACrG,IAAI,CAAC,IAAA,CAAK,MAAA,EAAQ;YAEZ,MAAA,aAAa,MAAM,KAAA;YACzB,IAAI,cAAc,IAAI;YAElB,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;gBAExC,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,UAAA;gBACxB,IAAA,CAAK,MAAA,CAAO,IAAA,IAAQ;gBAGpB,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA,EAAS;oBAC9B,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA;oBACV,cAAA,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,OAAA;gBAC5B,OAAA,IAAA,IAAA,CAAK,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA,EAAS;oBACrC,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA;oBACV,cAAA,IAAA,CAAK,UAAA,GAAa,IAAA,CAAK,OAAA;gBACvC;gBAEA,IAAA,CAAK,MAAA,CAAO,sBAAA;gBAEP,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;gBAGvD,IAAA,CAAK,YAAA,CAAa,SAAA,CAAU,aAAa,aAAa,WAAW;gBACjE,IAAA,CAAK,kBAAA,CAAmB,eAAA,CAAgB,CAAC,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAA,CAAK,KAAA,CAAM,CAAC;gBAEnF,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAC,EAAE,QAAA,CAAS,IAAA,CAAK,YAAY;gBAC1F,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,kBAAkB;gBAGhC,WAAA,GAAA,CAAI,IAAA,CAAK,KAAK;gBAEzB,MAAM,SAAS,WAAW,KAAA,CAAM,EAAE,cAAA,CAAe,WAAW;gBAC5D,WAAW,GAAA,CAAI,MAAM;gBAErB,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,WAAW,CAAA,EAAG,WAAW,CAAA,EAAG,WAAW,CAAC;gBAC9D,IAAA,CAAA,KAAA,CAAM,WAAA,CAAY,IAAA,CAAK,KAAK;gBAEjC,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,KAAK;gBAC9C,OAAA;YACT;YAEI,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;gBACvC,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB;gBACnD,IAAA,CAAA,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB;gBAGvD,IAAI,WAAW,IAAA,CAAK,KAAA,CAAM,UAAA,CAAW,UAAU;gBAC3C,IAAA,SAAS,WAAW,WAAW;gBAGnC,MAAM,cAAc,WAAW;gBAC3B,IAAA,cAAc,IAAA,CAAK,WAAA,EAAa;oBAClC,cAAc,IAAA,CAAK,WAAA,GAAc;oBACjC,SAAS,WAAW,WAAW;gBAAA,OAAA,IACtB,cAAc,IAAA,CAAK,WAAA,EAAa;oBACzC,cAAc,IAAA,CAAK,WAAA,GAAc;oBACjC,SAAS,WAAW,WAAW;gBACjC;gBAEI,IAAA,YAAY,WAAW,KAAA,CAAA,EAAQ,GAAA,CAAI,IAAA,CAAK,KAAK,EAAE,SAAA,CAAA,EAAY,cAAA,CAAe,MAAM;gBAEpF,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,UAAU,CAAA,EAAG,UAAU,CAAA,EAAG,UAAU,CAAC;gBAEhE,IAAI,aAAa;oBAEf,MAAM,MAAM,IAAA,CAAK,KAAA;oBAEN,WAAA,IAAI,UAAA,CAAW,UAAU;oBACpC,SAAS,WAAW,WAAW;oBACnB,YAAA,WAAW,KAAA,CAAM,EAAE,GAAA,CAAI,IAAA,CAAK,KAAK,EAAE,SAAA,CAAA,EAAY,cAAA,CAAe,MAAM;oBAEhF,IAAA,CAAK,kBAAA,CAAmB,eAAA,CAAgB,IAAI,CAAA,EAAG,IAAI,CAAA,EAAG,IAAI,CAAC;oBAC3D,IAAA,CAAK,YAAA,CAAa,SAAA,CAAU,aAAa,aAAa,WAAW;oBAE5D,IAAA,CAAA,KAAA,CAAM,eAAA,CAAgB,UAAU,CAAA,EAAG,UAAU,CAAA,EAAG,UAAU,CAAC,EAAE,QAAA,CAAS,IAAA,CAAK,kBAAkB;oBAC7F,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,YAAY;oBAEhC,IAAA,CAAA,kBAAA,CAAmB,eAAA,CAAgB,CAAC,IAAI,CAAA,EAAG,CAAC,IAAI,CAAA,EAAG,CAAC,IAAI,CAAC;oBAEzD,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,kBAAkB;oBAC3C,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,KAAK;gBAAA,OAChD;oBACA,IAAA,CAAA,yBAAA,CAA0B,IAAA,CAAK,KAAK;gBAC3C;gBAEO,OAAA;YACT;QAAA;QAOM;;;KAAA,GAAA,cAAA,IAAA,EAAA,UAAS,CAAC,UAAwB;YACpC,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;gBACvC,IAAA,CAAA,MAAA,CAAO,GAAA,mJAAM,YAAA,CAAU,KAAA,CAAM,OAAO,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,MAAM;gBACjE,IAAA,CAAK,MAAA,CAAO,sBAAA;YACd;QAAA;QASK;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,aAAY,CAAC,GAAW,GAAW,MAAoB;YAC5D,IAAI,IAAA,CAAK,MAAA,EAAQ;gBACf,IAAA,CAAK,MAAA,CAAO,GAAA,CAAI,GAAG,GAAG,CAAC;gBACvB,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAS,GAAA,CAAI,GAAG,GAAG,CAAC;gBACjC,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBACA,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,SAAS;gBACtC,IAAA,CAAA,MAAA,CAAO,MAAA,CAAO,IAAA,CAAK,MAAM;YAChC;QAAA;QAoCM;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,WAAU,CAAC,OAAgB,UAAkC;YACnE,IAAA,CAAK,eAAA,CAAgB,gBAAA,CAAiB,IAAA,CAAK,aAAA,EAAe,KAAK;YAC1D,IAAA,CAAA,kBAAA,CAAmB,eAAA,CAAgB,CAAC,MAAM,CAAA,EAAG,CAAC,MAAM,CAAA,EAAG,CAAC,MAAM,CAAC;YAEpE,IAAA,CAAK,KAAA,CAAM,eAAA,CAAgB,MAAM,CAAA,EAAG,MAAM,CAAA,EAAG,MAAM,CAAC;YAC/C,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,eAAe;YACnC,IAAA,CAAA,KAAA,CAAM,QAAA,CAAS,IAAA,CAAK,kBAAkB;YAE3C,IAAA,CAAK,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,iBAAiB,EAAE,GAAA,CAAI,KAAK;YAC7D,IAAA,CAAA,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,KAAK,EAAE,cAAA,CAAe,IAAA,CAAK,aAAA,EAAe,KAAK;YAC/D,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAK;YAEpB,IAAA,CAAA,KAAA,CAAM,eAAA,CAAgB,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAC;YAEnE,IAAA,CAAK,yBAAA,CAA0B,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,KAAK;YAC9C,OAAA;QAAA;QASD;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,kBAAiB,CAAC,QAAiB,WAAmC;YAC5E,IAAI,CAAC,IAAA,CAAK,KAAA,EAAc,OAAA;YAElB,MAAA,YAAY,oJAAI,YAAA;YACtB,UAAU,IAAA,GAAO,OAAO,IAAA;YACxB,UAAU,GAAA,GAAM,OAAO,GAAA;YACb,UAAA,aAAA,CAAc,QAAQ,MAAM;YAEtC,MAAM,YAAY,UAAU,gBAAA,CAAiB,IAAA,CAAK,KAAA,CAAM,QAAA,EAAU,IAAI;YACtE,IAAA,IAAS,IAAI,GAAG,IAAI,UAAU,MAAA,EAAQ,IAAK;gBACrC,IAAA,SAAA,CAAU,CAAC,CAAA,CAAE,MAAA,CAAO,IAAA,IAAQ,IAAA,CAAK,OAAA,CAAQ,IAAA,IAAQ,SAAA,CAAU,CAAC,CAAA,CAAE,IAAA,EAAM;oBACtE,OAAO,SAAA,CAAU,CAAC,CAAA,CAAE,KAAA,CAAM,KAAA,CAAM;gBAClC;YACF;YAEO,OAAA;QAAA;QAYD;;;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,wBAAuB,CAC7B,QACA,SACA,SACA,QACA,aACwB;YACxB,IAAI,kKAAkB,qBAAA,EAAoB;gBACxC,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,iBAAA,CAAkB,SAAS,SAAS,MAAM,CAAC;gBAC3D,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC;gBAE5C,MAAM,KAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC;gBACnC,MAAM,KAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC;gBACnC,MAAM,KAAK,KAAK,GAAA,CAAI,IAAA,CAAK,SAAA,EAAW,CAAC;gBAEjC,IAAA,KAAK,MAAM,KAAK,KAAK;oBAEvB,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,KAAK,IAAA,CAAK,KAAA,CAAM,KAAK,EAAA,CAAG,CAAC;gBAAA,OACpC;oBAEA,IAAA,CAAA,KAAA,CAAM,IAAA,CAAM,KAAK,MAAO,KAAK,IAAA,CAAK,KAAK,EAAE,CAAC;gBACjD;gBAEA,OAAO,IAAA,CAAK,KAAA;YACd;YAEA,IAAI,kKAAkB,oBAAA,EAAmB;gBAEvC,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,SAAS,SAAS,MAAM,CAAC;gBAEtD,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAA,CAAE;gBACxC,IAAA,CAAA,KAAA,CAAM,YAAA,CAAa,OAAO,uBAAuB;gBAEtD,MAAM,SAAS,IAAA,CAAK,KAAA,CAAM,KAAA,GAAQ,SAAA,CAAU;gBAC5C,MAAM,sBAAsB,OAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBAC5E,MAAM,UAAU,KAAK,GAAA,CAAI,UAAU,CAAC;gBAY9B,MAAA,IAAI,IAAA,CAAK,KAAA,CAAM,CAAA;gBACrB,MAAM,IAAI,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC;gBAEzE,IAAI,KAAK,GAAG;oBAEV,OAAO,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,QAAQ;oBACxC,OAAA;gBACT;gBAEA,MAAM,IAAI,IAAI;gBACd,MAAM,IAAI;gBASV,IAAI,IAAI,KAAK,GAAA,CAAI,GAAG,CAAC,IAAI;gBACrB,IAAA,IAAI,IAAI,IAAI;gBAChB,IAAI,IAAI,KAAK,GAAA,CAAI,GAAG,CAAC,IAAI;gBACzB,IAAI,QAAQ,KAAK,GAAA,CAAI,GAAG,CAAC,IAAI,IAAI,IAAI;gBAErC,IAAI,SAAS,GAAG;oBAET,IAAA,CAAA,KAAA,CAAM,IAAA,CAAA,CAAM,CAAC,IAAI,KAAK,IAAA,CAAK,KAAK,CAAA,IAAA,CAAM,IAAI,CAAA,CAAE;oBACjD,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAI,IAAA,CAAK,KAAA,CAAM,CAAA,GAAI,CAAC;oBAEpC,MAAM,wJAAQ,YAAA,CAAU,OAAA,GAAU,IAAA,CAAK,KAAA,CAAM,KAAA;oBAE7C,IAAI,SAAS,IAAI;wBAIf,MAAMA,aAAY,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,KAAK,GAAA,CAAI,sBAAsB,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC;wBACvG,OAAO,cAAA,CAAeA,UAAS;wBAC/B,OAAO,CAAA,IAAK;wBACL,OAAA;oBACT;gBACF;gBAUI,IAAA;gBACA,IAAA;gBACJ,IAAI,CAAC,UAAU;gBACf,QAAQ,KAAK,GAAA,CAAI,GAAG,CAAC,IAAI,IAAI,IAAI;gBAC5B,IAAA,CAAA,KAAA,CAAM,IAAA,CAAA,CAAM,CAAC,IAAI,KAAK,IAAA,CAAK,KAAK,CAAA,IAAA,CAAM,IAAI,CAAA,CAAE;gBACjD,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAI,IAAA,CAAK,KAAA,CAAM,CAAA,GAAI,CAAC;gBAEpC,MAAM,YAAY,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,KAAK,GAAA,CAAI,sBAAsB,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC;gBAEvG,OAAO,cAAA,CAAe,SAAS;gBAC/B,OAAO,CAAA,IAAK;gBACL,OAAA;YACT;QAAA;QAYM;;;;;;;;KAAA,GAAA,cAAA,IAAA,EAAA,sBAAqB,CAC3B,QACA,SACA,SACA,QACA,kBAAkB,KAAA,KACM;YACxB,IAAI,kKAAkB,qBAAA,EAAoB;gBACxC,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,iBAAA,CAAkB,SAAS,SAAS,MAAM,CAAC;gBAC3D,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC;gBAErC,OAAA,IAAA,CAAK,KAAA,CAAM,KAAA;YACpB;YAEA,IAAI,kKAAkB,oBAAA,EAAmB;gBACvC,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,YAAA,CAAa,SAAS,SAAS,MAAM,CAAC;gBAGtD,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAA,CAAE;gBACxC,IAAA,CAAA,KAAA,CAAM,YAAA,CAAa,OAAO,uBAAuB;gBAEtD,MAAM,SAAS,IAAA,CAAK,KAAA,CAAM,KAAA,GAAQ,SAAA,CAAU;gBAYtC,MAAA,IAAI,IAAA,CAAK,KAAA,CAAM,CAAA;gBACrB,MAAM,IAAI,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,IAAI,KAAK,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAC,CAAC;gBACrE,IAAA;gBAEJ,IAAI,iBAAiB;oBACnB,sBAAsB,IAAA,CAAK,KAAA,CACxB,qBAAA,CAAsB,IAAA,CAAK,mBAAmB,EAC9C,UAAA,CAAW,IAAA,CAAK,KAAA,CAAM,qBAAA,CAAsB,IAAA,CAAK,kBAAkB,CAAC;gBAAA,OAClE;oBACL,sBAAsB,OAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBACxE;gBASA,IAAI,KAAK,GAAG;oBAEH,OAAA,GAAA,CAAI,GAAG,GAAG,CAAC;oBACX,OAAA;gBACT;gBAEA,MAAM,IAAI,IAAI;gBACd,MAAM,IAAI;gBACJ,MAAA,IAAI,CAAC,IAAI;gBAEf,MAAM,YAAY,KAAK,IAAA,CAAK,KAAK,GAAA,CAAI,GAAG,CAAC,IAAI,KAAK,GAAA,CAAI,GAAG,CAAC,CAAC;gBAC3D,OAAO,cAAA,CAAe,SAAS;gBAC/B,OAAO,CAAA,GAAI;gBACJ,OAAA;YACT;QAAA;QAMM;;KAAA,GAAA,cAAA,IAAA,EAAA,qBAAoB,MAAY;YACtC,IAAI,CAAC,IAAA,CAAK,MAAA,EAAQ;YAGlB,IAAA,CAAK,kBAAA,CAAmB,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,MAAM;YAC/C,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,IAAA,CAAK,OAAA,CAAQ,MAAM;YAE3C,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;gBAC7C,IAAA,CAAK,sBAAA,CAAuB,IAAA,CAAK,IAAA,CAAK,MAAA,CAAO,gBAAgB;gBAC7D,IAAA,CAAK,MAAA,CAAO,sBAAA;gBACP,IAAA,CAAA,UAAA,GAAa,IAAA,CAAK,MAAA,CAAO,IAAA;YAChC;YAEI,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;gBACvC,IAAA,CAAA,SAAA,GAAY,IAAA,CAAK,MAAA,CAAO,GAAA;YAC/B;QAAA;QAQM;;;;KAAA,GAAA,cAAA,IAAA,EAAA,iBAAgB,CAAC,UAAkB,mBAAkC;YAC3E,IAAA,CAAK,MAAA,GAAS;YACd,IAAI,gBAAgB;gBAClB,IAAA,CAAK,iBAAA,CAAkB;YACzB;QAAA;QAGK,cAAA,IAAA,EAAA,UAAS,MAAY;YAC1B,MAAM,MAAM;YAGR,IAAA,CAAC,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,IAAA,CAAK,cAAc,KAAK,IAAA,CAAK,MAAA,EAAQ;gBACtD,IAAA,CAAA,OAAA,CAAQ,QAAA,CAAS,GAAA,CAAI,IAAA,CAAK,MAAA,CAAO,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,CAAA,EAAG,IAAA,CAAK,MAAA,CAAO,CAAC;gBACrE,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBACA,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,SAAS;gBACtC,IAAA,CAAA,cAAA,CAAe,IAAA,CAAK,IAAA,CAAK,MAAM;YACtC;YAEA,IAAI,CAAC,IAAA,CAAK,MAAA,EAAQ;YAGd,IAAA,IAAA,CAAK,MAAA,4JAAkB,qBAAA,EAAoB;gBAEzC,IAAA,IAAA,CAAK,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA,IAAW,IAAA,CAAK,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,OAAA,EAAS;oBAChE,MAAA,0JAAU,YAAA,CAAU,KAAA,CAAM,IAAA,CAAK,MAAA,CAAO,IAAA,EAAM,IAAA,CAAK,OAAA,EAAS,IAAA,CAAK,OAAO;oBACvE,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,UAAU,IAAA,CAAK,MAAA,CAAO,IAAA,EAAM,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAI,CAAC;gBACpG;YACF;YAEI,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;gBAE5C,MAAM,WAAW,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBAEtE,IAAI,WAAW,IAAA,CAAK,WAAA,GAAc,OAAO,WAAW,IAAA,CAAK,WAAA,GAAc,KAAK;oBAC1E,MAAM,8JAAc,YAAA,CAAU,KAAA,CAAM,UAAU,IAAA,CAAK,WAAA,EAAa,IAAA,CAAK,WAAW;oBAC3E,IAAA,CAAA,oBAAA,CAAqB,IAAA,CAAK,UAAA,CAAW,cAAc,UAAU,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAC;oBACxF,IAAA,CAAK,iBAAA,CAAkB;gBACzB;gBAGI,IAAA,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,MAAA,IAAU,IAAA,CAAK,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,MAAA,EAAQ;oBAC7D,IAAA,CAAA,MAAA,CAAO,GAAA,mJAAM,YAAA,CAAU,KAAA,CAAM,IAAA,CAAK,MAAA,CAAO,GAAA,EAAK,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,MAAM;oBAC3E,IAAA,CAAK,MAAA,CAAO,sBAAA;gBACd;gBAEA,MAAM,YAAY,IAAA,CAAK,SAAA;gBACvB,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBAEA,IAAI,YAAY,IAAA,CAAK,SAAA,GAAY,OAAO,YAAY,IAAA,CAAK,SAAA,GAAY,KAAK;oBACxE,MAAM,QAAA,CAAS,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,GAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,GAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAM,CAAA,IAAK;oBAC/E,MAAA,YAAY,IAAA,CAAK,SAAA,GAAY;oBAEnC,MAAM,QAAQ,IAAI,+JAAA,CAAa,GAAG,GAAG,WAAW,SAAS;oBACzD,MAAM,SAAS,MAAM,SAAA,CAAU,IAAA,CAAK,SAAS;oBAC7C,MAAM,gBAAgB,oJAAI,iBAAA,CAAe,EAAE,aAAA,CAAc,MAAM;oBAEpD,IAAA,MAAA,SAAS,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAU;wBACzC,MAAM,QAAQ,IAAA,CAAK,OAAA,CAAQ,QAAA,CAAS,KAAK,CAAA;wBACzC,MAAM,QAAA,GAAW;oBACnB;gBACF;YACF;YAEA,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,IAAA,CAAK,OAAA,CAAQ,QAAQ;QAAA;QAGlC,cAAA,IAAA,EAAA,oBAAmB,CAAC,SAAuB;YAC3C,MAAA,QAAQ,KAAK,KAAA,CAAM,IAAI;YAEzB,IAAA,MAAM,YAAA,IAAgB,IAAA,CAAK,MAAA,EAAQ;gBACrC,IAAA,CAAK,kBAAA,CAAmB,SAAA,CAAU,MAAM,YAAA,CAAa,YAAA,CAAa,QAAQ;gBACrE,IAAA,CAAA,kBAAA,CAAmB,SAAA,CAAU,IAAA,CAAK,MAAA,CAAO,QAAA,EAAU,IAAA,CAAK,MAAA,CAAO,UAAA,EAAY,IAAA,CAAK,MAAA,CAAO,KAAK;gBAEjG,IAAA,CAAK,MAAA,CAAO,EAAA,CAAG,IAAA,CAAK,MAAM,YAAA,CAAa,QAAQ;gBAC1C,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,MAAM,YAAA,CAAa,UAAA;gBACjC,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,MAAM,YAAA,CAAa,SAAA;gBAEhC,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,MAAM,YAAA,CAAa,UAAA;gBAElC,IAAA,IAAA,CAAK,MAAA,4JAAkB,oBAAA,EAAmB;oBACvC,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,MAAM,YAAA,CAAa,SAAA;gBACvC;gBAEA,IAAA,CAAK,iBAAA,CAAkB,SAAA,CAAU,MAAM,YAAA,CAAa,WAAA,CAAY,QAAQ;gBACnE,IAAA,CAAA,iBAAA,CAAkB,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;gBAEnG,IAAA,CAAK,MAAA,CAAO,YAAA;gBACZ,IAAA,CAAK,MAAA,CAAO,sBAAA;gBAEZ,IAAA,CAAK,OAAA,CAAQ,YAAA;gBAEb,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;gBACnD,IAAI,aAAa,KAAA,GAAW;oBAC1B,IAAA,CAAK,SAAA,GAAY;gBACnB;gBACA,MAAM,WAAW,oJAAI,UAAA,CAAA,EAAU,IAAA,CAAK,IAAA,CAAK,kBAAkB;gBAC3D,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,SAAS;gBAChD,IAAA,CAAA,kBAAA,CAAmB,IAAA,CAAK,QAAQ;gBAErC,IAAA,CAAK,MAAA,CAAO,MAAA,CAAO,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBACnC,IAAA,CAAA,aAAA,CAAc,MAAM,IAAA,EAAM,KAAK;gBAGpC,IAAA,CAAK,aAAA,CAAc,YAAY;YACjC;QAAA;QA5jFA,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,KAAA,GAAQ;QAEb,IAAA,CAAK,YAAA,GAAe,EAAA;QACpB,IAAA,CAAK,QAAA,GAAW;QAGX,IAAA,CAAA,KAAA,GAAQ,oJAAI,UAAA;QACZ,IAAA,CAAA,KAAA,GAAQ,oJAAI,UAAA;QACZ,IAAA,CAAA,KAAA,GAAQ,oJAAI,UAAA;QAEZ,IAAA,CAAA,KAAA,GAAQ,oJAAI,UAAA;QACZ,IAAA,CAAA,KAAA,GAAQ,oJAAI,UAAA;QAEZ,IAAA,CAAA,KAAA,GAAQ,oJAAI,aAAA;QAGZ,IAAA,CAAA,kBAAA,GAAqB,oJAAI,UAAA;QACzB,IAAA,CAAA,eAAA,GAAkB,oJAAI,UAAA;QACtB,IAAA,CAAA,YAAA,GAAe,oJAAI,UAAA;QAEnB,IAAA,CAAA,aAAA,GAAgB,oJAAI,UAAA;QAGpB,IAAA,CAAA,kBAAA,GAAqB,oJAAI,UAAA;QACzB,IAAA,CAAA,sBAAA,GAAyB,oJAAI,UAAA;QAElC,IAAA,CAAK,SAAA,GAAY;QACZ,IAAA,CAAA,QAAA,GAAW,oJAAI,UAAA;QACpB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,QAAA,GAAW;QAChB,IAAA,CAAK,OAAA,GAAU;QAEV,IAAA,CAAA,iBAAA,GAAoB,oJAAI,UAAA;QAGxB,IAAA,CAAA,IAAA,GAAO,oJAAI,UAAA;QAChB,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,YAAA,GAAe;QACpB,IAAA,CAAK,SAAA,GAAY;QACjB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,QAAA,GAAW;QACX,IAAA,CAAA,mBAAA,GAAsB,mJAAI,WAAA;QAC1B,IAAA,CAAA,kBAAA,GAAqB,oJAAI,UAAA;QAG9B,IAAA,CAAK,OAAA,GAAU,CAAA;QACf,IAAA,CAAK,WAAA,GAAc,EAAA;QACnB,IAAA,CAAK,aAAA,GAAgB,EAAA;QACrB,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;QAGpB,IAAA,CAAK,kBAAA,GAAqB;QAC1B,IAAA,CAAK,oBAAA,GAAuB;QAC5B,IAAA,CAAK,sBAAA,GAAyB;QAC9B,IAAA,CAAK,oBAAA,GAAuB;QAC5B,IAAA,CAAK,sBAAA,GAAyB;QAG9B,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,QAAA,GAAW;QAChB,IAAA,CAAK,WAAA,GAAc,EAAA;QACnB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,YAAA,GAAe;QACpB,IAAA,CAAK,YAAA,GAAe;QACpB,IAAA,CAAK,aAAA,GAAgB;QACrB,IAAA,CAAK,kBAAA,GAAqB;QAGrB,IAAA,CAAA,sBAAA,GAAyB,oJAAI,UAAA;QAC7B,IAAA,CAAA,oBAAA,GAAuB,IAAI,0JAAA;QAGhC,IAAA,CAAK,KAAA,GAAQ;QACR,IAAA,CAAA,aAAA,GAAgB,oJAAI,UAAA;QAGpB,IAAA,CAAA,OAAA,GAAU,oJAAI,QAAA;QACnB,IAAA,CAAK,SAAA,GAAY;QAGjB,IAAA,CAAK,UAAA,GAAa,CAAA;QAClB,IAAA,CAAK,YAAA,GAAe,CAAA;QAGpB,IAAA,CAAK,kBAAA,GAAqB;QAG1B,IAAA,CAAK,SAAA,GAAY;QACjB,IAAA,CAAK,YAAA,GAAe;QACpB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,aAAA,GAAgB;QAChB,IAAA,CAAA,cAAA,GAAiB,oJAAI,UAAA;QACrB,IAAA,CAAA,cAAA,GAAiB,IAAI,0JAAA;QAC1B,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,MAAA,GAAS;QAGd,IAAA,CAAK,aAAA,GAAgB;QACrB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,aAAA,GAAgB;QACrB,IAAA,CAAK,IAAA,GAAO;QACZ,IAAA,CAAK,gBAAA,GAAmB;QACxB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,UAAA,GAAa;QAClB,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,MAAA,GAAS;QAEd,IAAA,CAAK,OAAA,GAAU;QACf,IAAA,CAAK,SAAA,GAAY;QACjB,IAAA,CAAK,YAAA,GAAe;QACpB,IAAA,CAAK,UAAA,GAAa;QAElB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,WAAA,GAAc;QACnB,IAAA,CAAK,OAAA,GAAU;QACf,IAAA,CAAK,OAAA,GAAU;QAGf,IAAA,CAAK,MAAA,GAAS,IAAI,0JAAA,CAAQ,GAAG,GAAG,CAAC;QACjC,IAAA,CAAK,cAAA,GAAiB,oJAAI,UAAA,CAAQ,GAAG,GAAG,CAAC;QAEzC,IAAA,CAAK,SAAA,GAAY;QAGjB,IAAA,CAAK,MAAA,GAAS,MAAM,IAAA;QAEpB,IAAA,CAAK,SAAA,CAAU,MAAM;QAErB,IAAI,IAAA,CAAK,KAAA,EAAO;YACT,IAAA,CAAA,KAAA,CAAM,GAAA,CAAI,IAAA,CAAK,OAAO;QAC7B;QAEA,IAAA,CAAK,WAAA,GAAc,OAAO,gBAAA;QAE1B,IAAA,CAAK,sBAAA,CAAuB;QAE5B,IAAI,IAAA,CAAK,UAAA,EAAiB,IAAA,CAAA,OAAA,CAAQ,IAAA,CAAK,UAAU;QAE1C,OAAA,gBAAA,CAAiB,UAAU,IAAA,CAAK,cAAc;IACvD;IAAA;;;GAAA,GA2vCQ,qBAAqB,cAAA,EAAkD;QACzE,IAAA,CAAA,kBAAA,OAAA,KAAA,IAAA,eAAgB,MAAA,KAAU,IAAA,CAAK,MAAA,EAAQ;YACzC,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,kBAAkB,EAAE,WAAA,CAAY,eAAe,MAAM;YACrE,IAAA,CAAA,KAAA,CAAM,SAAA,CAAU,IAAA,CAAK,MAAA,CAAO,QAAA,EAAU,IAAA,CAAK,MAAA,CAAO,UAAA,EAAY,IAAA,CAAK,MAAA,CAAO,KAAK;YACpF,IAAA,CAAK,MAAA,CAAO,YAAA;YAGR,IAAA,IAAA,CAAK,MAAA,IAAU,MAAM,MAAA,IAAU,IAAA,CAAK,MAAA,IAAU,MAAM,OAAA,IAAW,IAAA,CAAK,MAAA,IAAU,MAAM,gBAAA,EAAkB;gBACnG,IAAA,CAAA,MAAA,CAAO,EAAA,CAAG,IAAA,CAAK,IAAA,CAAK,QAAQ,EAAE,eAAA,CAAgB,IAAA,CAAK,MAAA,CAAO,UAAU;YAC3E;QACF;QAEA,IAAI,kBAAA,OAAA,KAAA,IAAA,eAAgB,MAAA,EAAQ;YAC1B,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,IAAA,CAAK,iBAAiB,EAAE,WAAA,CAAY,eAAe,MAAM;YACpE,IAAA,CAAA,KAAA,CAAM,SAAA,CAAU,IAAA,CAAK,OAAA,CAAQ,QAAA,EAAU,IAAA,CAAK,OAAA,CAAQ,UAAA,EAAY,IAAA,CAAK,OAAA,CAAQ,KAAK;YACvF,IAAA,CAAK,OAAA,CAAQ,YAAA;QACf;QAEA,IAAA,CACG,IAAA,CAAK,MAAA,IAAU,MAAM,KAAA,IAAS,IAAA,CAAK,MAAA,IAAU,MAAM,KAAA,IAAS,IAAA,CAAK,MAAA,IAAU,MAAM,eAAA,KAClF,IAAA,CAAK,MAAA,EACL;YACA,MAAM,WAAW,IAAA,CAAK,iBAAA,CAAkB,IAAA,CAAK,MAAM;YACnD,IAAI,aAAa,KAAA,GAAW;gBAC1B,IAAA,CAAK,SAAA,GAAY;YACnB;YAEA,IAAI,IAAA,CAAK,aAAA,EAAe;gBACtB,MAAM,iBAAiB,IAAA,CAAK,MAAA,CAAO,QAAA,CAAS,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,QAAQ;gBAEtE,MAAA,KAAK,IAAI,uJAAA;gBACZ,GAAA,aAAA,CAAc,IAAA,CAAK,OAAO;gBACvB,MAAA,SAAS,oJAAI,SAAA;gBACnB,GAAG,iBAAA,CAAkB,MAAM;gBAErB,MAAA,uBAAuB,KAAK,GAAA,CAAI,IAAA,CAAK,SAAA,EAAW,OAAO,MAAA,GAAS,OAAO,MAAA,CAAO,MAAA,CAAQ,CAAA;gBACtF,MAAA,sBAAsB,iBAAiB,IAAA,CAAK,YAAA;gBAElD,MAAM,aAAa,KAAK,GAAA,CAAI,sBAAsB,mBAAmB;gBAChE,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,iBAAiB;gBAE9B,MAAA,sBAAsB,KAAK,GAAA,CAAI,IAAA,CAAK,QAAA,EAAU,CAAC,OAAO,MAAA,GAAS,OAAO,MAAA,CAAO,MAAA,CAAQ,CAAA;gBACrF,MAAA,qBAAqB,iBAAiB,IAAA,CAAK,WAAA;gBAEjD,MAAM,YAAY,KAAK,GAAA,CAAI,qBAAqB,kBAAkB;gBAC7D,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,iBAAiB;gBAEnC,IAAA,CAAK,MAAA,CAAO,sBAAA;YAAuB,OAC9B;gBACL,IAAI,SAAS;gBAEb,IAAI,IAAA,CAAK,MAAA,CAAO,IAAA,IAAQ,IAAA,CAAK,YAAA,EAAc;oBACpC,IAAA,CAAA,MAAA,CAAO,IAAA,GAAO,IAAA,CAAK,YAAA;oBACf,SAAA;gBACX;gBAEA,IAAI,IAAA,CAAK,MAAA,CAAO,GAAA,IAAO,IAAA,CAAK,WAAA,EAAa;oBAClC,IAAA,CAAA,MAAA,CAAO,GAAA,GAAM,IAAA,CAAK,WAAA;oBACd,SAAA;gBACX;gBAEA,IAAI,QAAQ;oBACV,IAAA,CAAK,MAAA,CAAO,sBAAA;gBACd;YACF;QACF;IACF;IAAA;;;GAAA,GA4RO,iBAAiB,KAAA,EAAsB;QAC5C,IAAA,CAAK,OAAA,CAAQ,OAAA,GAAU;QAEvB,IAAA,CAAK,aAAA,CAAc,YAAY;IACjC;IAAA;;;;GAAA,GA2bQ,0BAA0B,SAAyB,IAAA,EAAM,SAAyB,IAAA,EAAY;QACpG,IAAI,QAAQ;YACV,IAAI,gBAAgB,MAAA,EAAQ;gBACV,gBAAA,MAAA,CAAO,IAAA,CAAK,MAAM;YAAA,OAC7B;gBACW,gBAAA,MAAA,GAAS,OAAO,KAAA;YAClC;QAAA,OACK;YACL,gBAAgB,MAAA,GAAS;QAC3B;QAEA,IAAI,QAAQ;YACV,IAAI,gBAAgB,MAAA,EAAQ;gBACV,gBAAA,MAAA,CAAO,IAAA,CAAK,MAAM;YAAA,OAC7B;gBACW,gBAAA,MAAA,GAAS,OAAO,KAAA;YAClC;QAAA,OACK;YACL,gBAAgB,MAAA,GAAS;QAC3B;IACF;AAmYF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16739, "column": 0}, "map": {"version":3,"file":"TransformControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/TransformControls.ts"],"sourcesContent":["import {\n  BoxGeometry,\n  BufferGeometry,\n  Color,\n  CylinderGeometry,\n  DoubleSide,\n  Euler,\n  Float32BufferAttribute,\n  Line,\n  LineBasicMaterial,\n  Material,\n  Matrix4,\n  Mesh,\n  MeshBasicMaterial,\n  Object3D,\n  OctahedronGeometry,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PlaneGeometry,\n  Quaternion,\n  Raycaster,\n  SphereGeometry,\n  Intersection,\n  TorusGeometry,\n  Vector3,\n  Camera,\n  Vector2,\n} from 'three'\n\nexport interface TransformControlsPointerObject {\n  x: number\n  y: number\n  button: number\n}\n\nclass TransformControls<TCamera extends Camera = Camera> extends Object3D {\n  public readonly isTransformControls = true\n\n  public visible = false\n\n  private domElement: HTMLElement | undefined\n\n  private raycaster = new Raycaster()\n\n  private gizmo: TransformControlsGizmo\n  private plane: TransformControlsPlane\n\n  private tempVector = new Vector3()\n  private tempVector2 = new Vector3()\n  private tempQuaternion = new Quaternion()\n  private unit = {\n    X: new Vector3(1, 0, 0),\n    Y: new Vector3(0, 1, 0),\n    Z: new Vector3(0, 0, 1),\n  }\n\n  private pointStart = new Vector3()\n  private pointEnd = new Vector3()\n  private offset = new Vector3()\n  private rotationAxis = new Vector3()\n  private startNorm = new Vector3()\n  private endNorm = new Vector3()\n  private rotationAngle = 0\n\n  private cameraPosition = new Vector3()\n  private cameraQuaternion = new Quaternion()\n  private cameraScale = new Vector3()\n\n  private parentPosition = new Vector3()\n  private parentQuaternion = new Quaternion()\n  private parentQuaternionInv = new Quaternion()\n  private parentScale = new Vector3()\n\n  private worldPositionStart = new Vector3()\n  private worldQuaternionStart = new Quaternion()\n  private worldScaleStart = new Vector3()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n  private worldQuaternionInv = new Quaternion()\n  private worldScale = new Vector3()\n\n  private eye = new Vector3()\n\n  private positionStart = new Vector3()\n  private quaternionStart = new Quaternion()\n  private scaleStart = new Vector3()\n\n  private camera: TCamera\n  private object: Object3D | undefined\n  private enabled = true\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private translationSnap: number | null = null\n  private rotationSnap: number | null = null\n  private scaleSnap: number | null = null\n  private space = 'world'\n  private size = 1\n  private dragging = false\n  private showX = true\n  private showY = true\n  private showZ = true\n\n  // events\n  private changeEvent = { type: 'change' }\n  private mouseDownEvent = { type: 'mouseDown', mode: this.mode }\n  private mouseUpEvent = { type: 'mouseUp', mode: this.mode }\n  private objectChangeEvent = { type: 'objectChange' }\n\n  constructor(camera: TCamera, domElement: HTMLElement | undefined) {\n    super()\n\n    this.domElement = domElement\n    this.camera = camera\n\n    this.gizmo = new TransformControlsGizmo()\n    this.add(this.gizmo)\n\n    this.plane = new TransformControlsPlane()\n    this.add(this.plane)\n\n    // Defined getter, setter and store for a property\n    const defineProperty = <TValue>(propName: string, defaultValue: TValue): void => {\n      let propValue = defaultValue\n\n      Object.defineProperty(this, propName, {\n        get: function () {\n          return propValue !== undefined ? propValue : defaultValue\n        },\n\n        set: function (value) {\n          if (propValue !== value) {\n            propValue = value\n            this.plane[propName] = value\n            this.gizmo[propName] = value\n\n            this.dispatchEvent({ type: propName + '-changed', value: value })\n            this.dispatchEvent(this.changeEvent)\n          }\n        },\n      })\n\n      //@ts-ignore\n      this[propName] = defaultValue\n      // @ts-ignore\n      this.plane[propName] = defaultValue\n      // @ts-ignore\n      this.gizmo[propName] = defaultValue\n    }\n\n    defineProperty('camera', this.camera)\n    defineProperty('object', this.object)\n    defineProperty('enabled', this.enabled)\n    defineProperty('axis', this.axis)\n    defineProperty('mode', this.mode)\n    defineProperty('translationSnap', this.translationSnap)\n    defineProperty('rotationSnap', this.rotationSnap)\n    defineProperty('scaleSnap', this.scaleSnap)\n    defineProperty('space', this.space)\n    defineProperty('size', this.size)\n    defineProperty('dragging', this.dragging)\n    defineProperty('showX', this.showX)\n    defineProperty('showY', this.showY)\n    defineProperty('showZ', this.showZ)\n    defineProperty('worldPosition', this.worldPosition)\n    defineProperty('worldPositionStart', this.worldPositionStart)\n    defineProperty('worldQuaternion', this.worldQuaternion)\n    defineProperty('worldQuaternionStart', this.worldQuaternionStart)\n    defineProperty('cameraPosition', this.cameraPosition)\n    defineProperty('cameraQuaternion', this.cameraQuaternion)\n    defineProperty('pointStart', this.pointStart)\n    defineProperty('pointEnd', this.pointEnd)\n    defineProperty('rotationAxis', this.rotationAxis)\n    defineProperty('rotationAngle', this.rotationAngle)\n    defineProperty('eye', this.eye)\n\n    // connect events\n    if (domElement !== undefined) this.connect(domElement)\n  }\n\n  private intersectObjectWithRay = (\n    object: Object3D,\n    raycaster: Raycaster,\n    includeInvisible?: boolean,\n  ): false | Intersection => {\n    const allIntersections = raycaster.intersectObject(object, true)\n\n    for (let i = 0; i < allIntersections.length; i++) {\n      if (allIntersections[i].object.visible || includeInvisible) {\n        return allIntersections[i]\n      }\n    }\n\n    return false\n  }\n\n  // Set current object\n  public attach = (object: Object3D): this => {\n    this.object = object\n    this.visible = true\n\n    return this\n  }\n\n  // Detatch from object\n  public detach = (): this => {\n    this.object = undefined\n    this.visible = false\n    this.axis = null\n\n    return this\n  }\n\n  // Reset\n  public reset = (): this => {\n    if (!this.enabled) return this\n\n    if (this.dragging) {\n      if (this.object !== undefined) {\n        this.object.position.copy(this.positionStart)\n        this.object.quaternion.copy(this.quaternionStart)\n        this.object.scale.copy(this.scaleStart)\n        // @ts-ignore\n        this.dispatchEvent(this.changeEvent)\n        // @ts-ignore\n        this.dispatchEvent(this.objectChangeEvent)\n        this.pointStart.copy(this.pointEnd)\n      }\n    }\n\n    return this\n  }\n\n  public updateMatrixWorld = (): void => {\n    if (this.object !== undefined) {\n      this.object.updateMatrixWorld()\n\n      if (this.object.parent === null) {\n        console.error('TransformControls: The attached 3D object must be a part of the scene graph.')\n      } else {\n        this.object.parent.matrixWorld.decompose(this.parentPosition, this.parentQuaternion, this.parentScale)\n      }\n\n      this.object.matrixWorld.decompose(this.worldPosition, this.worldQuaternion, this.worldScale)\n\n      this.parentQuaternionInv.copy(this.parentQuaternion).invert()\n      this.worldQuaternionInv.copy(this.worldQuaternion).invert()\n    }\n\n    this.camera.updateMatrixWorld()\n    this.camera.matrixWorld.decompose(this.cameraPosition, this.cameraQuaternion, this.cameraScale)\n\n    this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize()\n\n    super.updateMatrixWorld()\n  }\n\n  private pointerHover = (pointer: TransformControlsPointerObject): void => {\n    if (this.object === undefined || this.dragging === true) return\n\n    this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n    const intersect = this.intersectObjectWithRay(this.gizmo.picker[this.mode], this.raycaster)\n\n    if (intersect) {\n      this.axis = intersect.object.name\n    } else {\n      this.axis = null\n    }\n  }\n\n  private pointerDown = (pointer: TransformControlsPointerObject): void => {\n    if (this.object === undefined || this.dragging === true || pointer.button !== 0) return\n\n    if (this.axis !== null) {\n      this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n      const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true)\n\n      if (planeIntersect) {\n        let space = this.space\n\n        if (this.mode === 'scale') {\n          space = 'local'\n        } else if (this.axis === 'E' || this.axis === 'XYZE' || this.axis === 'XYZ') {\n          space = 'world'\n        }\n\n        if (space === 'local' && this.mode === 'rotate') {\n          const snap = this.rotationSnap\n\n          if (this.axis === 'X' && snap) this.object.rotation.x = Math.round(this.object.rotation.x / snap) * snap\n          if (this.axis === 'Y' && snap) this.object.rotation.y = Math.round(this.object.rotation.y / snap) * snap\n          if (this.axis === 'Z' && snap) this.object.rotation.z = Math.round(this.object.rotation.z / snap) * snap\n        }\n\n        this.object.updateMatrixWorld()\n\n        if (this.object.parent) {\n          this.object.parent.updateMatrixWorld()\n        }\n\n        this.positionStart.copy(this.object.position)\n        this.quaternionStart.copy(this.object.quaternion)\n        this.scaleStart.copy(this.object.scale)\n\n        this.object.matrixWorld.decompose(this.worldPositionStart, this.worldQuaternionStart, this.worldScaleStart)\n\n        this.pointStart.copy(planeIntersect.point).sub(this.worldPositionStart)\n      }\n\n      this.dragging = true\n      this.mouseDownEvent.mode = this.mode\n      // @ts-ignore\n      this.dispatchEvent(this.mouseDownEvent)\n    }\n  }\n\n  private pointerMove = (pointer: TransformControlsPointerObject): void => {\n    const axis = this.axis\n    const mode = this.mode\n    const object = this.object\n    let space = this.space\n\n    if (mode === 'scale') {\n      space = 'local'\n    } else if (axis === 'E' || axis === 'XYZE' || axis === 'XYZ') {\n      space = 'world'\n    }\n\n    if (object === undefined || axis === null || this.dragging === false || pointer.button !== -1) return\n\n    this.raycaster.setFromCamera((pointer as unknown) as Vector2, this.camera)\n\n    const planeIntersect = this.intersectObjectWithRay(this.plane, this.raycaster, true)\n\n    if (!planeIntersect) return\n\n    this.pointEnd.copy(planeIntersect.point).sub(this.worldPositionStart)\n\n    if (mode === 'translate') {\n      // Apply translate\n\n      this.offset.copy(this.pointEnd).sub(this.pointStart)\n\n      if (space === 'local' && axis !== 'XYZ') {\n        this.offset.applyQuaternion(this.worldQuaternionInv)\n      }\n\n      if (axis.indexOf('X') === -1) this.offset.x = 0\n      if (axis.indexOf('Y') === -1) this.offset.y = 0\n      if (axis.indexOf('Z') === -1) this.offset.z = 0\n\n      if (space === 'local' && axis !== 'XYZ') {\n        this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale)\n      } else {\n        this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale)\n      }\n\n      object.position.copy(this.offset).add(this.positionStart)\n\n      // Apply translation snap\n\n      if (this.translationSnap) {\n        if (space === 'local') {\n          object.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert())\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap\n          }\n\n          object.position.applyQuaternion(this.quaternionStart)\n        }\n\n        if (space === 'world') {\n          if (object.parent) {\n            object.position.add(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld))\n          }\n\n          if (axis.search('X') !== -1) {\n            object.position.x = Math.round(object.position.x / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Y') !== -1) {\n            object.position.y = Math.round(object.position.y / this.translationSnap) * this.translationSnap\n          }\n\n          if (axis.search('Z') !== -1) {\n            object.position.z = Math.round(object.position.z / this.translationSnap) * this.translationSnap\n          }\n\n          if (object.parent) {\n            object.position.sub(this.tempVector.setFromMatrixPosition(object.parent.matrixWorld))\n          }\n        }\n      }\n    } else if (mode === 'scale') {\n      if (axis.search('XYZ') !== -1) {\n        let d = this.pointEnd.length() / this.pointStart.length()\n\n        if (this.pointEnd.dot(this.pointStart) < 0) d *= -1\n\n        this.tempVector2.set(d, d, d)\n      } else {\n        this.tempVector.copy(this.pointStart)\n        this.tempVector2.copy(this.pointEnd)\n\n        this.tempVector.applyQuaternion(this.worldQuaternionInv)\n        this.tempVector2.applyQuaternion(this.worldQuaternionInv)\n\n        this.tempVector2.divide(this.tempVector)\n\n        if (axis.search('X') === -1) {\n          this.tempVector2.x = 1\n        }\n\n        if (axis.search('Y') === -1) {\n          this.tempVector2.y = 1\n        }\n\n        if (axis.search('Z') === -1) {\n          this.tempVector2.z = 1\n        }\n      }\n\n      // Apply scale\n\n      object.scale.copy(this.scaleStart).multiply(this.tempVector2)\n\n      if (this.scaleSnap && this.object) {\n        if (axis.search('X') !== -1) {\n          this.object.scale.x = Math.round(object.scale.x / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n\n        if (axis.search('Y') !== -1) {\n          object.scale.y = Math.round(object.scale.y / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n\n        if (axis.search('Z') !== -1) {\n          object.scale.z = Math.round(object.scale.z / this.scaleSnap) * this.scaleSnap || this.scaleSnap\n        }\n      }\n    } else if (mode === 'rotate') {\n      this.offset.copy(this.pointEnd).sub(this.pointStart)\n\n      const ROTATION_SPEED =\n        20 / this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld))\n\n      if (axis === 'E') {\n        this.rotationAxis.copy(this.eye)\n        this.rotationAngle = this.pointEnd.angleTo(this.pointStart)\n\n        this.startNorm.copy(this.pointStart).normalize()\n        this.endNorm.copy(this.pointEnd).normalize()\n\n        this.rotationAngle *= this.endNorm.cross(this.startNorm).dot(this.eye) < 0 ? 1 : -1\n      } else if (axis === 'XYZE') {\n        this.rotationAxis.copy(this.offset).cross(this.eye).normalize()\n        this.rotationAngle = this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye)) * ROTATION_SPEED\n      } else if (axis === 'X' || axis === 'Y' || axis === 'Z') {\n        this.rotationAxis.copy(this.unit[axis])\n\n        this.tempVector.copy(this.unit[axis])\n\n        if (space === 'local') {\n          this.tempVector.applyQuaternion(this.worldQuaternion)\n        }\n\n        this.rotationAngle = this.offset.dot(this.tempVector.cross(this.eye).normalize()) * ROTATION_SPEED\n      }\n\n      // Apply rotation snap\n\n      if (this.rotationSnap) {\n        this.rotationAngle = Math.round(this.rotationAngle / this.rotationSnap) * this.rotationSnap\n      }\n\n      // Apply rotate\n      if (space === 'local' && axis !== 'E' && axis !== 'XYZE') {\n        object.quaternion.copy(this.quaternionStart)\n        object.quaternion\n          .multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle))\n          .normalize()\n      } else {\n        this.rotationAxis.applyQuaternion(this.parentQuaternionInv)\n        object.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis, this.rotationAngle))\n        object.quaternion.multiply(this.quaternionStart).normalize()\n      }\n    }\n\n    // @ts-ignore\n    this.dispatchEvent(this.changeEvent)\n    // @ts-ignore\n    this.dispatchEvent(this.objectChangeEvent)\n  }\n\n  private pointerUp = (pointer: TransformControlsPointerObject): void => {\n    if (pointer.button !== 0) return\n\n    if (this.dragging && this.axis !== null) {\n      this.mouseUpEvent.mode = this.mode\n      // @ts-ignore\n      this.dispatchEvent(this.mouseUpEvent)\n    }\n\n    this.dragging = false\n    this.axis = null\n  }\n\n  private getPointer = (event: Event): TransformControlsPointerObject => {\n    if (this.domElement && this.domElement.ownerDocument?.pointerLockElement) {\n      return {\n        x: 0,\n        y: 0,\n        button: (event as MouseEvent).button,\n      }\n    } else {\n      const pointer = (event as TouchEvent).changedTouches\n        ? (event as TouchEvent).changedTouches[0]\n        : (event as MouseEvent)\n\n      const rect = this.domElement!.getBoundingClientRect()\n\n      return {\n        x: ((pointer.clientX - rect.left) / rect.width) * 2 - 1,\n        y: (-(pointer.clientY - rect.top) / rect.height) * 2 + 1,\n        button: (event as MouseEvent).button,\n      }\n    }\n  }\n\n  private onPointerHover = (event: Event): void => {\n    if (!this.enabled) return\n\n    switch ((event as PointerEvent).pointerType) {\n      case 'mouse':\n      case 'pen':\n        this.pointerHover(this.getPointer(event))\n        break\n    }\n  }\n\n  private onPointerDown = (event: Event): void => {\n    if (!this.enabled || !this.domElement) return\n\n    this.domElement.style.touchAction = 'none' // disable touch scroll\n    this.domElement.ownerDocument.addEventListener('pointermove', this.onPointerMove)\n    this.pointerHover(this.getPointer(event))\n    this.pointerDown(this.getPointer(event))\n  }\n\n  private onPointerMove = (event: Event): void => {\n    if (!this.enabled) return\n\n    this.pointerMove(this.getPointer(event))\n  }\n\n  private onPointerUp = (event: Event): void => {\n    if (!this.enabled || !this.domElement) return\n\n    this.domElement.style.touchAction! = ''\n    this.domElement.ownerDocument.removeEventListener('pointermove', this.onPointerMove)\n\n    this.pointerUp(this.getPointer(event))\n  }\n\n  public getMode = (): TransformControls['mode'] => this.mode\n\n  public setMode = (mode: TransformControls['mode']): void => {\n    this.mode = mode\n  }\n\n  public setTranslationSnap = (translationSnap: number): void => {\n    this.translationSnap = translationSnap\n  }\n\n  public setRotationSnap = (rotationSnap: number): void => {\n    this.rotationSnap = rotationSnap\n  }\n\n  public setScaleSnap = (scaleSnap: number): void => {\n    this.scaleSnap = scaleSnap\n  }\n\n  public setSize = (size: number): void => {\n    this.size = size\n  }\n\n  public setSpace = (space: string): void => {\n    this.space = space\n  }\n\n  public update = (): void => {\n    console.warn(\n      'THREE.TransformControls: update function has no more functionality and therefore has been deprecated.',\n    )\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    if ((domElement as any) === document) {\n      console.error(\n        'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.',\n      )\n    }\n    this.domElement = domElement\n\n    this.domElement.addEventListener('pointerdown', this.onPointerDown)\n    this.domElement.addEventListener('pointermove', this.onPointerHover)\n    this.domElement.ownerDocument.addEventListener('pointerup', this.onPointerUp)\n  }\n\n  public dispose = (): void => {\n    this.domElement?.removeEventListener('pointerdown', this.onPointerDown)\n    this.domElement?.removeEventListener('pointermove', this.onPointerHover)\n    this.domElement?.ownerDocument?.removeEventListener('pointermove', this.onPointerMove)\n    this.domElement?.ownerDocument?.removeEventListener('pointerup', this.onPointerUp)\n\n    this.traverse((child) => {\n      const mesh = child as Mesh<BufferGeometry, Material>\n      if (mesh.geometry) {\n        mesh.geometry.dispose()\n      }\n      if (mesh.material) {\n        mesh.material.dispose()\n      }\n    })\n  }\n}\n\ntype TransformControlsGizmoPrivateGizmos = {\n  ['translate']: Object3D\n  ['scale']: Object3D\n  ['rotate']: Object3D\n  ['visible']: boolean\n}\n\nclass TransformControlsGizmo extends Object3D {\n  private isTransformControlsGizmo = true\n  public type = 'TransformControlsGizmo'\n\n  private tempVector = new Vector3(0, 0, 0)\n  private tempEuler = new Euler()\n  private alignVector = new Vector3(0, 1, 0)\n  private zeroVector = new Vector3(0, 0, 0)\n  private lookAtMatrix = new Matrix4()\n  private tempQuaternion = new Quaternion()\n  private tempQuaternion2 = new Quaternion()\n  private identityQuaternion = new Quaternion()\n\n  private unitX = new Vector3(1, 0, 0)\n  private unitY = new Vector3(0, 1, 0)\n  private unitZ = new Vector3(0, 0, 1)\n\n  private gizmo: TransformControlsGizmoPrivateGizmos\n  public picker: TransformControlsGizmoPrivateGizmos\n  private helper: TransformControlsGizmoPrivateGizmos\n\n  // these are set from parent class TransformControls\n  private rotationAxis = new Vector3()\n\n  private cameraPosition = new Vector3()\n\n  private worldPositionStart = new Vector3()\n  private worldQuaternionStart = new Quaternion()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n\n  private eye = new Vector3()\n\n  private camera: PerspectiveCamera | OrthographicCamera = null!\n  private enabled = true\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private space = 'world'\n  private size = 1\n  private dragging = false\n  private showX = true\n  private showY = true\n  private showZ = true\n\n  constructor() {\n    super()\n\n    const gizmoMaterial = new MeshBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      side: DoubleSide,\n      fog: false,\n      toneMapped: false,\n    })\n\n    const gizmoLineMaterial = new LineBasicMaterial({\n      depthTest: false,\n      depthWrite: false,\n      transparent: true,\n      linewidth: 1,\n      fog: false,\n      toneMapped: false,\n    })\n\n    // Make unique material for each axis/color\n\n    const matInvisible = gizmoMaterial.clone()\n    matInvisible.opacity = 0.15\n\n    const matHelper = gizmoMaterial.clone()\n    matHelper.opacity = 0.33\n\n    const matRed = gizmoMaterial.clone() as MeshBasicMaterial\n    matRed.color.set(0xff0000)\n\n    const matGreen = gizmoMaterial.clone() as MeshBasicMaterial\n    matGreen.color.set(0x00ff00)\n\n    const matBlue = gizmoMaterial.clone() as MeshBasicMaterial\n    matBlue.color.set(0x0000ff)\n\n    const matWhiteTransparent = gizmoMaterial.clone() as MeshBasicMaterial\n    matWhiteTransparent.opacity = 0.25\n\n    const matYellowTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matYellowTransparent.color.set(0xffff00)\n\n    const matCyanTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matCyanTransparent.color.set(0x00ffff)\n\n    const matMagentaTransparent = matWhiteTransparent.clone() as MeshBasicMaterial\n    matMagentaTransparent.color.set(0xff00ff)\n\n    const matYellow = gizmoMaterial.clone() as MeshBasicMaterial\n    matYellow.color.set(0xffff00)\n\n    const matLineRed = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineRed.color.set(0xff0000)\n\n    const matLineGreen = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineGreen.color.set(0x00ff00)\n\n    const matLineBlue = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineBlue.color.set(0x0000ff)\n\n    const matLineCyan = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineCyan.color.set(0x00ffff)\n\n    const matLineMagenta = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineMagenta.color.set(0xff00ff)\n\n    const matLineYellow = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineYellow.color.set(0xffff00)\n\n    const matLineGray = gizmoLineMaterial.clone() as LineBasicMaterial\n    matLineGray.color.set(0x787878)\n\n    const matLineYellowTransparent = matLineYellow.clone() as LineBasicMaterial\n    matLineYellowTransparent.opacity = 0.25\n\n    // reusable geometry\n\n    const arrowGeometry = new CylinderGeometry(0, 0.05, 0.2, 12, 1, false)\n\n    const scaleHandleGeometry = new BoxGeometry(0.125, 0.125, 0.125)\n\n    const lineGeometry = new BufferGeometry()\n    lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 0, 0], 3))\n\n    const CircleGeometry = (radius: number, arc: number): BufferGeometry => {\n      const geometry = new BufferGeometry()\n      const vertices = []\n\n      for (let i = 0; i <= 64 * arc; ++i) {\n        vertices.push(0, Math.cos((i / 32) * Math.PI) * radius, Math.sin((i / 32) * Math.PI) * radius)\n      }\n\n      geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3))\n\n      return geometry\n    }\n\n    // Special geometry for transform helper. If scaled with position vector it spans from [0,0,0] to position\n\n    const TranslateHelperGeometry = (): BufferGeometry => {\n      const geometry = new BufferGeometry()\n\n      geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 1, 1, 1], 3))\n\n      return geometry\n    }\n\n    // Gizmo definitions - custom hierarchy definitions for setupGizmo() function\n\n    const gizmoTranslate = {\n      X: [\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, -Math.PI / 2], null, 'fwd'],\n        [new Mesh(arrowGeometry, matRed), [1, 0, 0], [0, 0, Math.PI / 2], null, 'bwd'],\n        [new Line(lineGeometry, matLineRed)],\n      ],\n      Y: [\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], null, null, 'fwd'],\n        [new Mesh(arrowGeometry, matGreen), [0, 1, 0], [Math.PI, 0, 0], null, 'bwd'],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2]],\n      ],\n      Z: [\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [Math.PI / 2, 0, 0], null, 'fwd'],\n        [new Mesh(arrowGeometry, matBlue), [0, 0, 1], [-Math.PI / 2, 0, 0], null, 'bwd'],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0]],\n      ],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.1, 0), matWhiteTransparent.clone()), [0, 0, 0], [0, 0, 0]]],\n      XY: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matYellowTransparent.clone()), [0.15, 0.15, 0]],\n        [new Line(lineGeometry, matLineYellow), [0.18, 0.3, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.3, 0.18, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n      ],\n      YZ: [\n        [new Mesh(new PlaneGeometry(0.295, 0.295), matCyanTransparent.clone()), [0, 0.15, 0.15], [0, Math.PI / 2, 0]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.18, 0.3], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.3, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XZ: [\n        [\n          new Mesh(new PlaneGeometry(0.295, 0.295), matMagentaTransparent.clone()),\n          [0.15, 0, 0.15],\n          [-Math.PI / 2, 0, 0],\n        ],\n        [new Line(lineGeometry, matLineMagenta), [0.18, 0, 0.3], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.3, 0, 0.18], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n    }\n\n    const pickerTranslate = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0.6, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0.6, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 1, 4, 1, false), matInvisible), [0, 0, 0.6], [Math.PI / 2, 0, 0]]],\n      XYZ: [[new Mesh(new OctahedronGeometry(0.2, 0), matInvisible)]],\n      XY: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0.2, 0]]],\n      YZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0, 0.2, 0.2], [0, Math.PI / 2, 0]]],\n      XZ: [[new Mesh(new PlaneGeometry(0.4, 0.4), matInvisible), [0.2, 0, 0.2], [-Math.PI / 2, 0, 0]]],\n    }\n\n    const helperTranslate = {\n      START: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      END: [[new Mesh(new OctahedronGeometry(0.01, 2), matHelper), null, null, null, 'helper']],\n      DELTA: [[new Line(TranslateHelperGeometry(), matHelper), null, null, null, 'helper']],\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']],\n    }\n\n    const gizmoRotate = {\n      X: [\n        [new Line(CircleGeometry(1, 0.5), matLineRed)],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matRed), [0, 0, 0.99], null, [1, 3, 1]],\n      ],\n      Y: [\n        [new Line(CircleGeometry(1, 0.5), matLineGreen), null, [0, 0, -Math.PI / 2]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matGreen), [0, 0, 0.99], null, [3, 1, 1]],\n      ],\n      Z: [\n        [new Line(CircleGeometry(1, 0.5), matLineBlue), null, [0, Math.PI / 2, 0]],\n        [new Mesh(new OctahedronGeometry(0.04, 0), matBlue), [0.99, 0, 0], null, [1, 3, 1]],\n      ],\n      E: [\n        [new Line(CircleGeometry(1.25, 1), matLineYellowTransparent), null, [0, Math.PI / 2, 0]],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [1.17, 0, 0],\n          [0, 0, -Math.PI / 2],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [-1.17, 0, 0],\n          [0, 0, Math.PI / 2],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, -1.17, 0],\n          [Math.PI, 0, 0],\n          [1, 1, 0.001],\n        ],\n        [\n          new Mesh(new CylinderGeometry(0.03, 0, 0.15, 4, 1, false), matLineYellowTransparent),\n          [0, 1.17, 0],\n          [0, 0, 0],\n          [1, 1, 0.001],\n        ],\n      ],\n      XYZE: [[new Line(CircleGeometry(1, 1), matLineGray), null, [0, Math.PI / 2, 0]]],\n    }\n\n    const helperRotate = {\n      AXIS: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n    }\n\n    const pickerRotate = {\n      X: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, -Math.PI / 2, -Math.PI / 2]]],\n      Y: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [Math.PI / 2, 0, 0]]],\n      Z: [[new Mesh(new TorusGeometry(1, 0.1, 4, 24), matInvisible), [0, 0, 0], [0, 0, -Math.PI / 2]]],\n      E: [[new Mesh(new TorusGeometry(1.25, 0.1, 2, 24), matInvisible)]],\n      XYZE: [[new Mesh(new SphereGeometry(0.7, 10, 8), matInvisible)]],\n    }\n\n    const gizmoScale = {\n      X: [\n        [new Mesh(scaleHandleGeometry, matRed), [0.8, 0, 0], [0, 0, -Math.PI / 2]],\n        [new Line(lineGeometry, matLineRed), null, null, [0.8, 1, 1]],\n      ],\n      Y: [\n        [new Mesh(scaleHandleGeometry, matGreen), [0, 0.8, 0]],\n        [new Line(lineGeometry, matLineGreen), null, [0, 0, Math.PI / 2], [0.8, 1, 1]],\n      ],\n      Z: [\n        [new Mesh(scaleHandleGeometry, matBlue), [0, 0, 0.8], [Math.PI / 2, 0, 0]],\n        [new Line(lineGeometry, matLineBlue), null, [0, -Math.PI / 2, 0], [0.8, 1, 1]],\n      ],\n      XY: [\n        [new Mesh(scaleHandleGeometry, matYellowTransparent), [0.85, 0.85, 0], null, [2, 2, 0.2]],\n        [new Line(lineGeometry, matLineYellow), [0.855, 0.98, 0], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineYellow), [0.98, 0.855, 0], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n      ],\n      YZ: [\n        [new Mesh(scaleHandleGeometry, matCyanTransparent), [0, 0.85, 0.85], null, [0.2, 2, 2]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.855, 0.98], [0, 0, Math.PI / 2], [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineCyan), [0, 0.98, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XZ: [\n        [new Mesh(scaleHandleGeometry, matMagentaTransparent), [0.85, 0, 0.85], null, [2, 0.2, 2]],\n        [new Line(lineGeometry, matLineMagenta), [0.855, 0, 0.98], null, [0.125, 1, 1]],\n        [new Line(lineGeometry, matLineMagenta), [0.98, 0, 0.855], [0, -Math.PI / 2, 0], [0.125, 1, 1]],\n      ],\n      XYZX: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.125, 0.125, 0.125), matWhiteTransparent.clone()), [0, 0, 1.1]]],\n    }\n\n    const pickerScale = {\n      X: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0.5, 0, 0], [0, 0, -Math.PI / 2]]],\n      Y: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0.5, 0]]],\n      Z: [[new Mesh(new CylinderGeometry(0.2, 0, 0.8, 4, 1, false), matInvisible), [0, 0, 0.5], [Math.PI / 2, 0, 0]]],\n      XY: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0.85, 0], null, [3, 3, 0.2]]],\n      YZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0, 0.85, 0.85], null, [0.2, 3, 3]]],\n      XZ: [[new Mesh(scaleHandleGeometry, matInvisible), [0.85, 0, 0.85], null, [3, 0.2, 3]]],\n      XYZX: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [1.1, 0, 0]]],\n      XYZY: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 1.1, 0]]],\n      XYZZ: [[new Mesh(new BoxGeometry(0.2, 0.2, 0.2), matInvisible), [0, 0, 1.1]]],\n    }\n\n    const helperScale = {\n      X: [[new Line(lineGeometry, matHelper.clone()), [-1e3, 0, 0], null, [1e6, 1, 1], 'helper']],\n      Y: [[new Line(lineGeometry, matHelper.clone()), [0, -1e3, 0], [0, 0, Math.PI / 2], [1e6, 1, 1], 'helper']],\n      Z: [[new Line(lineGeometry, matHelper.clone()), [0, 0, -1e3], [0, -Math.PI / 2, 0], [1e6, 1, 1], 'helper']],\n    }\n\n    // Creates an Object3D with gizmos described in custom hierarchy definition.\n    // this is nearly impossible to Type so i'm leaving it\n    const setupGizmo = (gizmoMap: any): Object3D => {\n      const gizmo = new Object3D()\n\n      for (let name in gizmoMap) {\n        for (let i = gizmoMap[name].length; i--; ) {\n          const object = gizmoMap[name][i][0].clone() as Mesh\n          const position = gizmoMap[name][i][1]\n          const rotation = gizmoMap[name][i][2]\n          const scale = gizmoMap[name][i][3]\n          const tag = gizmoMap[name][i][4]\n\n          // name and tag properties are essential for picking and updating logic.\n          object.name = name\n          // @ts-ignore\n          object.tag = tag\n\n          if (position) {\n            object.position.set(position[0], position[1], position[2])\n          }\n\n          if (rotation) {\n            object.rotation.set(rotation[0], rotation[1], rotation[2])\n          }\n\n          if (scale) {\n            object.scale.set(scale[0], scale[1], scale[2])\n          }\n\n          object.updateMatrix()\n\n          const tempGeometry = object.geometry.clone()\n          tempGeometry.applyMatrix4(object.matrix)\n          object.geometry = tempGeometry\n          object.renderOrder = Infinity\n\n          object.position.set(0, 0, 0)\n          object.rotation.set(0, 0, 0)\n          object.scale.set(1, 1, 1)\n\n          gizmo.add(object)\n        }\n      }\n\n      return gizmo\n    }\n\n    this.gizmo = {} as TransformControlsGizmoPrivateGizmos\n    this.picker = {} as TransformControlsGizmoPrivateGizmos\n    this.helper = {} as TransformControlsGizmoPrivateGizmos\n\n    this.add((this.gizmo['translate'] = setupGizmo(gizmoTranslate)))\n    this.add((this.gizmo['rotate'] = setupGizmo(gizmoRotate)))\n    this.add((this.gizmo['scale'] = setupGizmo(gizmoScale)))\n    this.add((this.picker['translate'] = setupGizmo(pickerTranslate)))\n    this.add((this.picker['rotate'] = setupGizmo(pickerRotate)))\n    this.add((this.picker['scale'] = setupGizmo(pickerScale)))\n    this.add((this.helper['translate'] = setupGizmo(helperTranslate)))\n    this.add((this.helper['rotate'] = setupGizmo(helperRotate)))\n    this.add((this.helper['scale'] = setupGizmo(helperScale)))\n\n    // Pickers should be hidden always\n\n    this.picker['translate'].visible = false\n    this.picker['rotate'].visible = false\n    this.picker['scale'].visible = false\n  }\n\n  // updateMatrixWorld will update transformations and appearance of individual handles\n  public updateMatrixWorld = (): void => {\n    let space = this.space\n\n    if (this.mode === 'scale') {\n      space = 'local' // scale always oriented to local rotation\n    }\n\n    const quaternion = space === 'local' ? this.worldQuaternion : this.identityQuaternion\n\n    // Show only gizmos for current transform mode\n\n    this.gizmo['translate'].visible = this.mode === 'translate'\n    this.gizmo['rotate'].visible = this.mode === 'rotate'\n    this.gizmo['scale'].visible = this.mode === 'scale'\n\n    this.helper['translate'].visible = this.mode === 'translate'\n    this.helper['rotate'].visible = this.mode === 'rotate'\n    this.helper['scale'].visible = this.mode === 'scale'\n\n    let handles: Array<Object3D & { tag?: string }> = []\n    handles = handles.concat(this.picker[this.mode].children)\n    handles = handles.concat(this.gizmo[this.mode].children)\n    handles = handles.concat(this.helper[this.mode].children)\n\n    for (let i = 0; i < handles.length; i++) {\n      const handle = handles[i]\n\n      // hide aligned to camera\n\n      handle.visible = true\n      handle.rotation.set(0, 0, 0)\n      handle.position.copy(this.worldPosition)\n\n      let factor\n\n      if ((this.camera as OrthographicCamera).isOrthographicCamera) {\n        factor =\n          ((this.camera as OrthographicCamera).top - (this.camera as OrthographicCamera).bottom) /\n          (this.camera as OrthographicCamera).zoom\n      } else {\n        factor =\n          this.worldPosition.distanceTo(this.cameraPosition) *\n          Math.min((1.9 * Math.tan((Math.PI * (this.camera as PerspectiveCamera).fov) / 360)) / this.camera.zoom, 7)\n      }\n\n      handle.scale.set(1, 1, 1).multiplyScalar((factor * this.size) / 7)\n\n      // TODO: simplify helpers and consider decoupling from gizmo\n\n      if (handle.tag === 'helper') {\n        handle.visible = false\n\n        if (handle.name === 'AXIS') {\n          handle.position.copy(this.worldPositionStart)\n          handle.visible = !!this.axis\n\n          if (this.axis === 'X') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, 0))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'Y') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, 0, Math.PI / 2))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'Z') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0))\n            handle.quaternion.copy(quaternion).multiply(this.tempQuaternion)\n\n            if (Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > 0.9) {\n              handle.visible = false\n            }\n          }\n\n          if (this.axis === 'XYZE') {\n            this.tempQuaternion.setFromEuler(this.tempEuler.set(0, Math.PI / 2, 0))\n            this.alignVector.copy(this.rotationAxis)\n            handle.quaternion.setFromRotationMatrix(\n              this.lookAtMatrix.lookAt(this.zeroVector, this.alignVector, this.unitY),\n            )\n            handle.quaternion.multiply(this.tempQuaternion)\n            handle.visible = this.dragging\n          }\n\n          if (this.axis === 'E') {\n            handle.visible = false\n          }\n        } else if (handle.name === 'START') {\n          handle.position.copy(this.worldPositionStart)\n          handle.visible = this.dragging\n        } else if (handle.name === 'END') {\n          handle.position.copy(this.worldPosition)\n          handle.visible = this.dragging\n        } else if (handle.name === 'DELTA') {\n          handle.position.copy(this.worldPositionStart)\n          handle.quaternion.copy(this.worldQuaternionStart)\n          this.tempVector\n            .set(1e-10, 1e-10, 1e-10)\n            .add(this.worldPositionStart)\n            .sub(this.worldPosition)\n            .multiplyScalar(-1)\n          this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert())\n          handle.scale.copy(this.tempVector)\n          handle.visible = this.dragging\n        } else {\n          handle.quaternion.copy(quaternion)\n\n          if (this.dragging) {\n            handle.position.copy(this.worldPositionStart)\n          } else {\n            handle.position.copy(this.worldPosition)\n          }\n\n          if (this.axis) {\n            handle.visible = this.axis.search(handle.name) !== -1\n          }\n        }\n\n        // If updating helper, skip rest of the loop\n        continue\n      }\n\n      // Align handles to current local or world rotation\n\n      handle.quaternion.copy(quaternion)\n\n      if (this.mode === 'translate' || this.mode === 'scale') {\n        // Hide translate and scale axis facing the camera\n\n        const AXIS_HIDE_TRESHOLD = 0.99\n        const PLANE_HIDE_TRESHOLD = 0.2\n        const AXIS_FLIP_TRESHOLD = 0.0\n\n        if (handle.name === 'X' || handle.name === 'XYZX') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'Y' || handle.name === 'XYZY') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'Z' || handle.name === 'XYZZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) > AXIS_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'XY') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'YZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        if (handle.name === 'XZ') {\n          if (\n            Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye)) < PLANE_HIDE_TRESHOLD\n          ) {\n            handle.scale.set(1e-10, 1e-10, 1e-10)\n            handle.visible = false\n          }\n        }\n\n        // Flip translate and scale axis ocluded behind another axis\n\n        if (handle.name.search('X') !== -1) {\n          if (this.alignVector.copy(this.unitX).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.x *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n\n        if (handle.name.search('Y') !== -1) {\n          if (this.alignVector.copy(this.unitY).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.y *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n\n        if (handle.name.search('Z') !== -1) {\n          if (this.alignVector.copy(this.unitZ).applyQuaternion(quaternion).dot(this.eye) < AXIS_FLIP_TRESHOLD) {\n            if (handle.tag === 'fwd') {\n              handle.visible = false\n            } else {\n              handle.scale.z *= -1\n            }\n          } else if (handle.tag === 'bwd') {\n            handle.visible = false\n          }\n        }\n      } else if (this.mode === 'rotate') {\n        // Align handles to current local or world rotation\n\n        this.tempQuaternion2.copy(quaternion)\n        this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(quaternion).invert())\n\n        if (handle.name.search('E') !== -1) {\n          handle.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye, this.zeroVector, this.unitY))\n        }\n\n        if (handle.name === 'X') {\n          this.tempQuaternion.setFromAxisAngle(this.unitX, Math.atan2(-this.alignVector.y, this.alignVector.z))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n\n        if (handle.name === 'Y') {\n          this.tempQuaternion.setFromAxisAngle(this.unitY, Math.atan2(this.alignVector.x, this.alignVector.z))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n\n        if (handle.name === 'Z') {\n          this.tempQuaternion.setFromAxisAngle(this.unitZ, Math.atan2(this.alignVector.y, this.alignVector.x))\n          this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2, this.tempQuaternion)\n          handle.quaternion.copy(this.tempQuaternion)\n        }\n      }\n\n      // Hide disabled axes\n      handle.visible = handle.visible && (handle.name.indexOf('X') === -1 || this.showX)\n      handle.visible = handle.visible && (handle.name.indexOf('Y') === -1 || this.showY)\n      handle.visible = handle.visible && (handle.name.indexOf('Z') === -1 || this.showZ)\n      handle.visible = handle.visible && (handle.name.indexOf('E') === -1 || (this.showX && this.showY && this.showZ))\n\n      // highlight selected axis\n\n      //@ts-ignore\n      handle.material.tempOpacity = handle.material.tempOpacity || handle.material.opacity\n      //@ts-ignore\n      handle.material.tempColor = handle.material.tempColor || handle.material.color.clone()\n      //@ts-ignore\n      handle.material.color.copy(handle.material.tempColor)\n      //@ts-ignore\n      handle.material.opacity = handle.material.tempOpacity\n\n      if (!this.enabled) {\n        //@ts-ignore\n        handle.material.opacity *= 0.5\n        //@ts-ignore\n        handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n      } else if (this.axis) {\n        if (handle.name === this.axis) {\n          //@ts-ignore\n          handle.material.opacity = 1.0\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        } else if (\n          this.axis.split('').some(function (a) {\n            return handle.name === a\n          })\n        ) {\n          //@ts-ignore\n          handle.material.opacity = 1.0\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        } else {\n          //@ts-ignore\n          handle.material.opacity *= 0.25\n          //@ts-ignore\n          handle.material.color.lerp(new Color(1, 1, 1), 0.5)\n        }\n      }\n    }\n\n    super.updateMatrixWorld()\n  }\n}\n\nclass TransformControlsPlane extends Mesh<PlaneGeometry, MeshBasicMaterial> {\n  private isTransformControlsPlane = true\n  public type = 'TransformControlsPlane'\n\n  constructor() {\n    super(\n      new PlaneGeometry(100000, 100000, 2, 2),\n      new MeshBasicMaterial({\n        visible: false,\n        wireframe: true,\n        side: DoubleSide,\n        transparent: true,\n        opacity: 0.1,\n        toneMapped: false,\n      }),\n    )\n  }\n\n  private unitX = new Vector3(1, 0, 0)\n  private unitY = new Vector3(0, 1, 0)\n  private unitZ = new Vector3(0, 0, 1)\n\n  private tempVector = new Vector3()\n  private dirVector = new Vector3()\n  private alignVector = new Vector3()\n  private tempMatrix = new Matrix4()\n  private identityQuaternion = new Quaternion()\n\n  // these are set from parent class TransformControls\n  private cameraQuaternion = new Quaternion()\n\n  private worldPosition = new Vector3()\n  private worldQuaternion = new Quaternion()\n\n  private eye = new Vector3()\n\n  private axis: string | null = null\n  private mode: 'translate' | 'rotate' | 'scale' = 'translate'\n  private space = 'world'\n\n  public updateMatrixWorld = (): void => {\n    let space = this.space\n\n    this.position.copy(this.worldPosition)\n\n    if (this.mode === 'scale') space = 'local' // scale always oriented to local rotation\n\n    this.unitX.set(1, 0, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n    this.unitY.set(0, 1, 0).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n    this.unitZ.set(0, 0, 1).applyQuaternion(space === 'local' ? this.worldQuaternion : this.identityQuaternion)\n\n    // Align the plane for current transform mode, axis and space.\n\n    this.alignVector.copy(this.unitY)\n\n    switch (this.mode) {\n      case 'translate':\n      case 'scale':\n        switch (this.axis) {\n          case 'X':\n            this.alignVector.copy(this.eye).cross(this.unitX)\n            this.dirVector.copy(this.unitX).cross(this.alignVector)\n            break\n          case 'Y':\n            this.alignVector.copy(this.eye).cross(this.unitY)\n            this.dirVector.copy(this.unitY).cross(this.alignVector)\n            break\n          case 'Z':\n            this.alignVector.copy(this.eye).cross(this.unitZ)\n            this.dirVector.copy(this.unitZ).cross(this.alignVector)\n            break\n          case 'XY':\n            this.dirVector.copy(this.unitZ)\n            break\n          case 'YZ':\n            this.dirVector.copy(this.unitX)\n            break\n          case 'XZ':\n            this.alignVector.copy(this.unitZ)\n            this.dirVector.copy(this.unitY)\n            break\n          case 'XYZ':\n          case 'E':\n            this.dirVector.set(0, 0, 0)\n            break\n        }\n\n        break\n      case 'rotate':\n      default:\n        // special case for rotate\n        this.dirVector.set(0, 0, 0)\n    }\n\n    if (this.dirVector.length() === 0) {\n      // If in rotate mode, make the plane parallel to camera\n      this.quaternion.copy(this.cameraQuaternion)\n    } else {\n      this.tempMatrix.lookAt(this.tempVector.set(0, 0, 0), this.dirVector, this.alignVector)\n\n      this.quaternion.setFromRotationMatrix(this.tempMatrix)\n    }\n\n    super.updateMatrixWorld()\n  }\n}\n\nexport { TransformControls, TransformControlsGizmo, TransformControlsPlane }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18812, "column": 0}, "map": {"version":3,"file":"PointerLockControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/PointerLockControls.ts"],"sourcesContent":["import { Euler, Camera, Vector3 } from 'three'\nimport { EventDispatcher } from './EventDispatcher'\n\nconst _euler = /* @__PURE__ */ new Euler(0, 0, 0, 'YXZ')\nconst _vector = /* @__PURE__ */ new Vector3()\nconst _changeEvent = { type: 'change' }\nconst _lockEvent = { type: 'lock' }\nconst _unlockEvent = { type: 'unlock' }\nconst _MOUSE_SENSITIVITY = 0.002\nconst _PI_2 = Math.PI / 2\n\nexport interface PointerLockControlsEventMap {\n  /**\n   * Fires when the user moves the mouse.\n   */\n  change: {}\n\n  /**\n   * Fires when the pointer lock status is \"locked\" (in other words: the mouse is captured).\n   */\n  lock: {}\n\n  /**\n   * Fires when the pointer lock status is \"unlocked\" (in other words: the mouse is not captured anymore).\n   */\n  unlock: {}\n}\n\nclass PointerLockControls extends EventDispatcher<PointerLockControlsEventMap> {\n  public camera: Camera\n  public domElement?: HTMLElement\n  public isLocked: boolean\n  public minPolarAngle: number\n  public maxPolarAngle: number\n  public pointerSpeed: number\n\n  constructor(camera: Camera, domElement?: HTMLElement) {\n    super()\n\n    this.camera = camera\n    this.domElement = domElement\n    this.isLocked = false\n\n    // Set to constrain the pitch of the camera\n    // Range is 0 to Math.PI radians\n    this.minPolarAngle = 0 // radians\n    this.maxPolarAngle = Math.PI // radians\n\n    this.pointerSpeed = 1.0\n    if (domElement) this.connect(domElement)\n  }\n\n  private onMouseMove = (event: MouseEvent): void => {\n    if (!this.domElement || this.isLocked === false) return\n    _euler.setFromQuaternion(this.camera.quaternion)\n    _euler.y -= event.movementX * _MOUSE_SENSITIVITY * this.pointerSpeed\n    _euler.x -= event.movementY * _MOUSE_SENSITIVITY * this.pointerSpeed\n    _euler.x = Math.max(_PI_2 - this.maxPolarAngle, Math.min(_PI_2 - this.minPolarAngle, _euler.x))\n    this.camera.quaternion.setFromEuler(_euler)\n    // @ts-ignore\n    this.dispatchEvent(_changeEvent)\n  }\n\n  private onPointerlockChange = (): void => {\n    if (!this.domElement) return\n    if (this.domElement.ownerDocument.pointerLockElement === this.domElement) {\n      // @ts-ignore\n      this.dispatchEvent(_lockEvent)\n      this.isLocked = true\n    } else {\n      // @ts-ignore\n      this.dispatchEvent(_unlockEvent)\n      this.isLocked = false\n    }\n  }\n\n  private onPointerlockError = (): void => {\n    console.error('THREE.PointerLockControls: Unable to use Pointer Lock API')\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    this.domElement = domElement || this.domElement\n    if (!this.domElement) return\n    this.domElement.ownerDocument.addEventListener('mousemove', this.onMouseMove)\n    this.domElement.ownerDocument.addEventListener('pointerlockchange', this.onPointerlockChange)\n    this.domElement.ownerDocument.addEventListener('pointerlockerror', this.onPointerlockError)\n  }\n\n  public disconnect = (): void => {\n    if (!this.domElement) return\n    this.domElement.ownerDocument.removeEventListener('mousemove', this.onMouseMove)\n    this.domElement.ownerDocument.removeEventListener('pointerlockchange', this.onPointerlockChange)\n    this.domElement.ownerDocument.removeEventListener('pointerlockerror', this.onPointerlockError)\n  }\n\n  public dispose = (): void => {\n    this.disconnect()\n  }\n\n  public getObject = (): Camera => {\n    // retaining this method for backward compatibility\n    return this.camera\n  }\n\n  private direction = new Vector3(0, 0, -1)\n  public getDirection = (v: Vector3): Vector3 => {\n    return v.copy(this.direction).applyQuaternion(this.camera.quaternion)\n  }\n\n  public moveForward = (distance: number): void => {\n    // move forward parallel to the xz-plane\n    // assumes camera.up is y-up\n    _vector.setFromMatrixColumn(this.camera.matrix, 0)\n    _vector.crossVectors(this.camera.up, _vector)\n    this.camera.position.addScaledVector(_vector, distance)\n  }\n\n  public moveRight = (distance: number): void => {\n    _vector.setFromMatrixColumn(this.camera.matrix, 0)\n    this.camera.position.addScaledVector(_vector, distance)\n  }\n\n  public lock = (): void => {\n    if (this.domElement) this.domElement.requestPointerLock()\n  }\n\n  public unlock = (): void => {\n    if (this.domElement) this.domElement.ownerDocument.exitPointerLock()\n  }\n}\n\nexport { PointerLockControls }\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18929, "column": 0}, "map": {"version":3,"file":"FirstPersonControls.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/controls/FirstPersonControls.ts"],"sourcesContent":["import { MathUtils, Spherical, Vector3, Camera } from 'three'\nimport { EventDispatcher } from './EventDispatcher'\nimport { StandardControlsEventMap } from './StandardControlsEventMap'\n\nconst targetPosition = /* @__PURE__ */ new Vector3()\n\nexport class FirstPersonControls extends EventDispatcher<{}> {\n  public object: Camera\n  public domElement?: HTMLElement | null\n\n  public enabled = true\n\n  public movementSpeed = 1.0\n  public lookSpeed = 0.005\n\n  public lookVertical = true\n  public autoForward = false\n\n  public activeLook = true\n\n  public heightSpeed = false\n  public heightCoef = 1.0\n  public heightMin = 0.0\n  public heightMax = 1.0\n\n  public constrainVertical = false\n  public verticalMin = 0\n  public verticalMax = Math.PI\n\n  public mouseDragOn = false\n\n  // internals\n\n  private autoSpeedFactor = 0.0\n\n  private mouseX = 0\n  private mouseY = 0\n\n  private moveForward = false\n  private moveBackward = false\n  private moveLeft = false\n  private moveRight = false\n  private moveUp = false\n  private moveDown = false\n\n  private viewHalfX = 0\n  private viewHalfY = 0\n\n  private lat = 0\n  private lon = 0\n\n  private lookDirection = new Vector3()\n  private spherical = new Spherical()\n  readonly target = new Vector3()\n\n  constructor(object: Camera, domElement?: HTMLElement | null) {\n    super()\n\n    this.object = object\n    this.domElement = domElement\n\n    this.setOrientation()\n\n    if (domElement) this.connect(domElement)\n  }\n\n  public connect = (domElement: HTMLElement): void => {\n    domElement.setAttribute('tabindex', '-1')\n\n    domElement.style.touchAction = 'none'\n\n    domElement.addEventListener('contextmenu', this.contextmenu)\n    domElement.addEventListener('mousemove', this.onMouseMove)\n    domElement.addEventListener('mousedown', this.onMouseDown)\n    domElement.addEventListener('mouseup', this.onMouseUp)\n\n    this.domElement = domElement\n\n    window.addEventListener('keydown', this.onKeyDown)\n    window.addEventListener('keyup', this.onKeyUp)\n\n    this.handleResize()\n  }\n\n  public dispose = (): void => {\n    this.domElement?.removeEventListener('contextmenu', this.contextmenu)\n    this.domElement?.removeEventListener('mousedown', this.onMouseDown)\n    this.domElement?.removeEventListener('mousemove', this.onMouseMove)\n    this.domElement?.removeEventListener('mouseup', this.onMouseUp)\n\n    window.removeEventListener('keydown', this.onKeyDown)\n    window.removeEventListener('keyup', this.onKeyUp)\n  }\n\n  public handleResize = (): void => {\n    if (this.domElement) {\n      this.viewHalfX = this.domElement.offsetWidth / 2\n      this.viewHalfY = this.domElement.offsetHeight / 2\n    }\n  }\n\n  private onMouseDown = (event: MouseEvent): void => {\n    this.domElement?.focus()\n\n    if (this.activeLook) {\n      switch (event.button) {\n        case 0:\n          this.moveForward = true\n          break\n        case 2:\n          this.moveBackward = true\n          break\n      }\n    }\n\n    this.mouseDragOn = true\n  }\n\n  private onMouseUp = (event: MouseEvent): void => {\n    if (this.activeLook) {\n      switch (event.button) {\n        case 0:\n          this.moveForward = false\n          break\n        case 2:\n          this.moveBackward = false\n          break\n      }\n    }\n\n    this.mouseDragOn = false\n  }\n\n  private onMouseMove = (event: MouseEvent): void => {\n    if (this.domElement) {\n      this.mouseX = event.pageX - this.domElement.offsetLeft - this.viewHalfX\n      this.mouseY = event.pageY - this.domElement.offsetTop - this.viewHalfY\n    }\n  }\n\n  private onKeyDown = (event: KeyboardEvent): void => {\n    switch (event.code) {\n      case 'ArrowUp':\n      case 'KeyW':\n        this.moveForward = true\n        break\n\n      case 'ArrowLeft':\n      case 'KeyA':\n        this.moveLeft = true\n        break\n\n      case 'ArrowDown':\n      case 'KeyS':\n        this.moveBackward = true\n        break\n\n      case 'ArrowRight':\n      case 'KeyD':\n        this.moveRight = true\n        break\n\n      case 'KeyR':\n        this.moveUp = true\n        break\n      case 'KeyF':\n        this.moveDown = true\n        break\n    }\n  }\n\n  private onKeyUp = (event: KeyboardEvent): void => {\n    switch (event.code) {\n      case 'ArrowUp':\n      case 'KeyW':\n        this.moveForward = false\n        break\n\n      case 'ArrowLeft':\n      case 'KeyA':\n        this.moveLeft = false\n        break\n\n      case 'ArrowDown':\n      case 'KeyS':\n        this.moveBackward = false\n        break\n\n      case 'ArrowRight':\n      case 'KeyD':\n        this.moveRight = false\n        break\n\n      case 'KeyR':\n        this.moveUp = false\n        break\n      case 'KeyF':\n        this.moveDown = false\n        break\n    }\n  }\n\n  public lookAt = (x: Vector3 | number, y?: number, z?: number): this => {\n    if (x instanceof Vector3) {\n      this.target.copy(x)\n    } else if (y && z) {\n      this.target.set(x, y, z)\n    }\n\n    this.object.lookAt(this.target)\n\n    this.setOrientation()\n\n    return this\n  }\n\n  public update = (delta: number): void => {\n    if (!this.enabled) return\n\n    if (this.heightSpeed) {\n      const y = MathUtils.clamp(this.object.position.y, this.heightMin, this.heightMax)\n      const heightDelta = y - this.heightMin\n\n      this.autoSpeedFactor = delta * (heightDelta * this.heightCoef)\n    } else {\n      this.autoSpeedFactor = 0.0\n    }\n\n    const actualMoveSpeed = delta * this.movementSpeed\n\n    if (this.moveForward || (this.autoForward && !this.moveBackward)) {\n      this.object.translateZ(-(actualMoveSpeed + this.autoSpeedFactor))\n    }\n    if (this.moveBackward) this.object.translateZ(actualMoveSpeed)\n\n    if (this.moveLeft) this.object.translateX(-actualMoveSpeed)\n    if (this.moveRight) this.object.translateX(actualMoveSpeed)\n\n    if (this.moveUp) this.object.translateY(actualMoveSpeed)\n    if (this.moveDown) this.object.translateY(-actualMoveSpeed)\n\n    let actualLookSpeed = delta * this.lookSpeed\n\n    if (!this.activeLook) {\n      actualLookSpeed = 0\n    }\n\n    let verticalLookRatio = 1\n\n    if (this.constrainVertical) {\n      verticalLookRatio = Math.PI / (this.verticalMax - this.verticalMin)\n    }\n\n    this.lon -= this.mouseX * actualLookSpeed\n    if (this.lookVertical) this.lat -= this.mouseY * actualLookSpeed * verticalLookRatio\n\n    this.lat = Math.max(-85, Math.min(85, this.lat))\n\n    let phi = MathUtils.degToRad(90 - this.lat)\n    const theta = MathUtils.degToRad(this.lon)\n\n    if (this.constrainVertical) {\n      phi = MathUtils.mapLinear(phi, 0, Math.PI, this.verticalMin, this.verticalMax)\n    }\n\n    const position = this.object.position\n\n    targetPosition.setFromSphericalCoords(1, phi, theta).add(position)\n\n    this.object.lookAt(targetPosition)\n  }\n\n  private contextmenu = (event: Event): void => event.preventDefault()\n\n  private setOrientation = (): void => {\n    this.lookDirection.set(0, 0, -1).applyQuaternion(this.object.quaternion)\n    this.spherical.setFromVector3(this.lookDirection)\n    this.lat = 90 - MathUtils.radToDeg(this.spherical.phi)\n    this.lon = MathUtils.radToDeg(this.spherical.theta)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19166, "column": 0}, "map": {"version":3,"file":"NURBSUtils.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/curves/NURBSUtils.js"],"sourcesContent":["import { Vector3, Vector4 } from 'three'\n\n/**\n * NURBS utils\n *\n * See NURBSCurve and NURBSSurface.\n **/\n\n/**************************************************************\n *\tNURBS Utils\n **************************************************************/\n\n/*\nFinds knot vector span.\n\np : degree\nu : parametric value\nU : knot vector\n\nreturns the span\n*/\nfunction findSpan(p, u, U) {\n  const n = U.length - p - 1\n\n  if (u >= U[n]) {\n    return n - 1\n  }\n\n  if (u <= U[p]) {\n    return p\n  }\n\n  let low = p\n  let high = n\n  let mid = Math.floor((low + high) / 2)\n\n  while (u < U[mid] || u >= U[mid + 1]) {\n    if (u < U[mid]) {\n      high = mid\n    } else {\n      low = mid\n    }\n\n    mid = Math.floor((low + high) / 2)\n  }\n\n  return mid\n}\n\n/*\nCalculate basis functions. See The NURBS Book, page 70, algorithm A2.2\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nU    : knot vector\n\nreturns array[p+1] with basis functions values.\n*/\nfunction calcBasisFunctions(span, u, p, U) {\n  const N = []\n  const left = []\n  const right = []\n  N[0] = 1.0\n\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j]\n    right[j] = U[span + j] - u\n\n    let saved = 0.0\n\n    for (let r = 0; r < j; ++r) {\n      const rv = right[r + 1]\n      const lv = left[j - r]\n      const temp = N[r] / (rv + lv)\n      N[r] = saved + rv * temp\n      saved = lv * temp\n    }\n\n    N[j] = saved\n  }\n\n  return N\n}\n\n/*\nCalculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.\n\np : degree of B-Spline\nU : knot vector\nP : control points (x, y, z, w)\nu : parametric point\n\nreturns point for given u\n*/\nfunction calcBSplinePoint(p, U, P, u) {\n  const span = findSpan(p, u, U)\n  const N = calcBasisFunctions(span, u, p, U)\n  const C = new Vector4(0, 0, 0, 0)\n\n  for (let j = 0; j <= p; ++j) {\n    const point = P[span - p + j]\n    const Nj = N[j]\n    const wNj = point.w * Nj\n    C.x += point.x * wNj\n    C.y += point.y * wNj\n    C.z += point.z * wNj\n    C.w += point.w * Nj\n  }\n\n  return C\n}\n\n/*\nCalculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.\n\nspan : span in which u lies\nu    : parametric point\np    : degree\nn    : number of derivatives to calculate\nU    : knot vector\n\nreturns array[n+1][p+1] with basis functions derivatives\n*/\nfunction calcBasisFunctionDerivatives(span, u, p, n, U) {\n  const zeroArr = []\n  for (let i = 0; i <= p; ++i) zeroArr[i] = 0.0\n\n  const ders = []\n\n  for (let i = 0; i <= n; ++i) ders[i] = zeroArr.slice(0)\n\n  const ndu = []\n\n  for (let i = 0; i <= p; ++i) ndu[i] = zeroArr.slice(0)\n\n  ndu[0][0] = 1.0\n\n  const left = zeroArr.slice(0)\n  const right = zeroArr.slice(0)\n\n  for (let j = 1; j <= p; ++j) {\n    left[j] = u - U[span + 1 - j]\n    right[j] = U[span + j] - u\n\n    let saved = 0.0\n\n    for (let r = 0; r < j; ++r) {\n      const rv = right[r + 1]\n      const lv = left[j - r]\n      ndu[j][r] = rv + lv\n\n      const temp = ndu[r][j - 1] / ndu[j][r]\n      ndu[r][j] = saved + rv * temp\n      saved = lv * temp\n    }\n\n    ndu[j][j] = saved\n  }\n\n  for (let j = 0; j <= p; ++j) {\n    ders[0][j] = ndu[j][p]\n  }\n\n  for (let r = 0; r <= p; ++r) {\n    let s1 = 0\n    let s2 = 1\n\n    const a = []\n    for (let i = 0; i <= p; ++i) {\n      a[i] = zeroArr.slice(0)\n    }\n\n    a[0][0] = 1.0\n\n    for (let k = 1; k <= n; ++k) {\n      let d = 0.0\n      const rk = r - k\n      const pk = p - k\n\n      if (r >= k) {\n        a[s2][0] = a[s1][0] / ndu[pk + 1][rk]\n        d = a[s2][0] * ndu[rk][pk]\n      }\n\n      const j1 = rk >= -1 ? 1 : -rk\n      const j2 = r - 1 <= pk ? k - 1 : p - r\n\n      for (let j = j1; j <= j2; ++j) {\n        a[s2][j] = (a[s1][j] - a[s1][j - 1]) / ndu[pk + 1][rk + j]\n        d += a[s2][j] * ndu[rk + j][pk]\n      }\n\n      if (r <= pk) {\n        a[s2][k] = -a[s1][k - 1] / ndu[pk + 1][r]\n        d += a[s2][k] * ndu[r][pk]\n      }\n\n      ders[k][r] = d\n\n      const j = s1\n      s1 = s2\n      s2 = j\n    }\n  }\n\n  let r = p\n\n  for (let k = 1; k <= n; ++k) {\n    for (let j = 0; j <= p; ++j) {\n      ders[k][j] *= r\n    }\n\n    r *= p - k\n  }\n\n  return ders\n}\n\n/*\n\tCalculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.\n\n\tp  : degree\n\tU  : knot vector\n\tP  : control points\n\tu  : Parametric points\n\tnd : number of derivatives\n\n\treturns array[d+1] with derivatives\n\t*/\nfunction calcBSplineDerivatives(p, U, P, u, nd) {\n  const du = nd < p ? nd : p\n  const CK = []\n  const span = findSpan(p, u, U)\n  const nders = calcBasisFunctionDerivatives(span, u, p, du, U)\n  const Pw = []\n\n  for (let i = 0; i < P.length; ++i) {\n    const point = P[i].clone()\n    const w = point.w\n\n    point.x *= w\n    point.y *= w\n    point.z *= w\n\n    Pw[i] = point\n  }\n\n  for (let k = 0; k <= du; ++k) {\n    const point = Pw[span - p].clone().multiplyScalar(nders[k][0])\n\n    for (let j = 1; j <= p; ++j) {\n      point.add(Pw[span - p + j].clone().multiplyScalar(nders[k][j]))\n    }\n\n    CK[k] = point\n  }\n\n  for (let k = du + 1; k <= nd + 1; ++k) {\n    CK[k] = new Vector4(0, 0, 0)\n  }\n\n  return CK\n}\n\n/*\nCalculate \"K over I\"\n\nreturns k!/(i!(k-i)!)\n*/\nfunction calcKoverI(k, i) {\n  let nom = 1\n\n  for (let j = 2; j <= k; ++j) {\n    nom *= j\n  }\n\n  let denom = 1\n\n  for (let j = 2; j <= i; ++j) {\n    denom *= j\n  }\n\n  for (let j = 2; j <= k - i; ++j) {\n    denom *= j\n  }\n\n  return nom / denom\n}\n\n/*\nCalculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.\n\nPders : result of function calcBSplineDerivatives\n\nreturns array with derivatives for rational curve.\n*/\nfunction calcRationalCurveDerivatives(Pders) {\n  const nd = Pders.length\n  const Aders = []\n  const wders = []\n\n  for (let i = 0; i < nd; ++i) {\n    const point = Pders[i]\n    Aders[i] = new Vector3(point.x, point.y, point.z)\n    wders[i] = point.w\n  }\n\n  const CK = []\n\n  for (let k = 0; k < nd; ++k) {\n    const v = Aders[k].clone()\n\n    for (let i = 1; i <= k; ++i) {\n      v.sub(CK[k - i].clone().multiplyScalar(calcKoverI(k, i) * wders[i]))\n    }\n\n    CK[k] = v.divideScalar(wders[0])\n  }\n\n  return CK\n}\n\n/*\nCalculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.\n\np  : degree\nU  : knot vector\nP  : control points in homogeneous space\nu  : parametric points\nnd : number of derivatives\n\nreturns array with derivatives.\n*/\nfunction calcNURBSDerivatives(p, U, P, u, nd) {\n  const Pders = calcBSplineDerivatives(p, U, P, u, nd)\n  return calcRationalCurveDerivatives(Pders)\n}\n\n/*\nCalculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.\n\np1, p2 : degrees of B-Spline surface\nU1, U2 : knot vectors\nP      : control points (x, y, z, w)\nu, v   : parametric values\n\nreturns point for given (u, v)\n*/\nfunction calcSurfacePoint(p, q, U, V, P, u, v, target) {\n  const uspan = findSpan(p, u, U)\n  const vspan = findSpan(q, v, V)\n  const Nu = calcBasisFunctions(uspan, u, p, U)\n  const Nv = calcBasisFunctions(vspan, v, q, V)\n  const temp = []\n\n  for (let l = 0; l <= q; ++l) {\n    temp[l] = new Vector4(0, 0, 0, 0)\n    for (let k = 0; k <= p; ++k) {\n      const point = P[uspan - p + k][vspan - q + l].clone()\n      const w = point.w\n      point.x *= w\n      point.y *= w\n      point.z *= w\n      temp[l].add(point.multiplyScalar(Nu[k]))\n    }\n  }\n\n  const Sw = new Vector4(0, 0, 0, 0)\n  for (let l = 0; l <= q; ++l) {\n    Sw.add(temp[l].multiplyScalar(Nv[l]))\n  }\n\n  Sw.divideScalar(Sw.w)\n  target.set(Sw.x, Sw.y, Sw.z)\n}\n\nexport {\n  findSpan,\n  calcBasisFunctions,\n  calcBSplinePoint,\n  calcBasisFunctionDerivatives,\n  calcBSplineDerivatives,\n  calcKoverI,\n  calcRationalCurveDerivatives,\n  calcNURBSDerivatives,\n  calcSurfacePoint,\n}\n"],"names":["r","j"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19398, "column": 0}, "map": {"version":3,"file":"NURBSCurve.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/curves/NURBSCurve.js"],"sourcesContent":["import { Curve, Vector3, Vector4 } from 'three'\nimport * as NURBSUtils from '../curves/NURBSUtils'\n\n/**\n * NURBS curve object\n *\n * Derives from Curve, overriding getPoint and getTangent.\n *\n * Implementation is based on (x, y [, z=0 [, w=1]]) control points with w=weight.\n *\n **/\n\nclass NURBSCurve extends Curve {\n  constructor(\n    degree,\n    knots /* array of reals */,\n    controlPoints /* array of Vector(2|3|4) */,\n    startKnot /* index in knots */,\n    endKnot /* index in knots */,\n  ) {\n    super()\n\n    this.degree = degree\n    this.knots = knots\n    this.controlPoints = []\n    // Used by periodic NURBS to remove hidden spans\n    this.startKnot = startKnot || 0\n    this.endKnot = endKnot || this.knots.length - 1\n    for (let i = 0; i < controlPoints.length; ++i) {\n      // ensure Vector4 for control points\n      const point = controlPoints[i]\n      this.controlPoints[i] = new Vector4(point.x, point.y, point.z, point.w)\n    }\n  }\n\n  getPoint(t, optionalTarget) {\n    const point = optionalTarget || new Vector3()\n\n    const u = this.knots[this.startKnot] + t * (this.knots[this.endKnot] - this.knots[this.startKnot]) // linear mapping t->u\n\n    // following results in (wx, wy, wz, w) homogeneous point\n    const hpoint = NURBSUtils.calcBSplinePoint(this.degree, this.knots, this.controlPoints, u)\n\n    if (hpoint.w != 1.0) {\n      // project to 3D space: (wx, wy, wz, w) -> (x, y, z, 1)\n      hpoint.divideScalar(hpoint.w)\n    }\n\n    return point.set(hpoint.x, hpoint.y, hpoint.z)\n  }\n\n  getTangent(t, optionalTarget) {\n    const tangent = optionalTarget || new Vector3()\n\n    const u = this.knots[0] + t * (this.knots[this.knots.length - 1] - this.knots[0])\n    const ders = NURBSUtils.calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, u, 1)\n    tangent.copy(ders[1]).normalize()\n\n    return tangent\n  }\n}\n\nexport { NURBSCurve }\n"],"names":["NURBSUtils.calcBSplinePoint","NURBSUtils.calcNURBSDerivatives"],"mappings":";;;;;;;AAYA,MAAM,mKAAmB,QAAA,CAAM;IAC7B,YACE,MAAA,EACA,KAAA,EACA,aAAA,EACA,SAAA,EACA,OAAA,CACA;QACA,KAAA,CAAO;QAEP,IAAA,CAAK,MAAA,GAAS;QACd,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,aAAA,GAAgB,CAAE,CAAA;QAEvB,IAAA,CAAK,SAAA,GAAY,aAAa;QAC9B,IAAA,CAAK,OAAA,GAAU,WAAW,IAAA,CAAK,KAAA,CAAM,MAAA,GAAS;QAC9C,IAAA,IAAS,IAAI,GAAG,IAAI,cAAc,MAAA,EAAQ,EAAE,EAAG;YAE7C,MAAM,QAAQ,aAAA,CAAc,CAAC,CAAA;YAC7B,IAAA,CAAK,aAAA,CAAc,CAAC,CAAA,GAAI,oJAAI,UAAA,CAAQ,MAAM,CAAA,EAAG,MAAM,CAAA,EAAG,MAAM,CAAA,EAAG,MAAM,CAAC;QACvE;IACF;IAED,SAAS,CAAA,EAAG,cAAA,EAAgB;QAC1B,MAAM,QAAQ,kBAAkB,oJAAI,UAAA,CAAS;QAE7C,MAAM,IAAI,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,SAAS,CAAA,GAAI,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,OAAO,CAAA,GAAI,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,SAAS,CAAA;QAGhG,MAAM,qKAASA,mBAAAA,EAA4B,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,aAAA,EAAe,CAAC;QAEzF,IAAI,OAAO,CAAA,IAAK,GAAK;YAEnB,OAAO,YAAA,CAAa,OAAO,CAAC;QAC7B;QAED,OAAO,MAAM,GAAA,CAAI,OAAO,CAAA,EAAG,OAAO,CAAA,EAAG,OAAO,CAAC;IAC9C;IAED,WAAW,CAAA,EAAG,cAAA,EAAgB;QAC5B,MAAM,UAAU,kBAAkB,oJAAI,UAAA,CAAS;QAE/C,MAAM,IAAI,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA,GAAI,IAAA,CAAK,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,KAAA,CAAM,MAAA,GAAS,CAAC,CAAA,GAAI,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA;QAC/E,MAAM,mKAAOC,uBAAAA,EAAgC,IAAA,CAAK,MAAA,EAAQ,IAAA,CAAK,KAAA,EAAO,IAAA,CAAK,aAAA,EAAe,GAAG,CAAC;QAC9F,QAAQ,IAAA,CAAK,IAAA,CAAK,CAAC,CAAC,EAAE,SAAA,CAAW;QAEjC,OAAO;IACR;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19443, "column": 0}, "map": {"version":3,"file":"FBXLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/FBXLoader.js"],"sourcesContent":["import {\n  AmbientLight,\n  AnimationClip,\n  Bone,\n  BufferGeometry,\n  ClampToEdgeWrapping,\n  Color,\n  DirectionalLight,\n  EquirectangularReflectionMapping,\n  Euler,\n  FileLoader,\n  Float32BufferAttribute,\n  Group,\n  Line,\n  LineBasicMaterial,\n  Loader,\n  LoaderUtils,\n  MathUtils,\n  Matrix3,\n  Matrix4,\n  Mesh,\n  MeshLambertMaterial,\n  MeshPhongMaterial,\n  NumberKeyframeTrack,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  PropertyBinding,\n  Quaternion,\n  QuaternionKeyframeTrack,\n  RepeatWrapping,\n  Skeleton,\n  SkinnedMesh,\n  SpotLight,\n  Texture,\n  TextureLoader,\n  Uint16BufferAttribute,\n  Vector3,\n  Vector4,\n  VectorKeyframeTrack,\n} from 'three'\nimport { unzlibSync } from 'fflate'\nimport { NURBSCurve } from '../curves/NURBSCurve'\nimport { decodeText } from '../_polyfill/LoaderUtils'\nimport { UV1 } from '../_polyfill/uv1'\n\n/**\n * Loader loads FBX file and generates Group representing FBX scene.\n * Requires FBX file to be >= 7.0 and in ASCII or >= 6400 in Binary format\n * Versions lower than this may load but will probably have errors\n *\n * Needs Support:\n *  Morph normals / blend shape normals\n *\n * FBX format references:\n * \thttps://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_index_html (C++ SDK reference)\n *\n * Binary format specification:\n *\thttps://code.blender.org/2013/08/fbx-binary-file-format-specification/\n */\n\nlet fbxTree\nlet connections\nlet sceneGraph\n\nclass FBXLoader extends Loader {\n  constructor(manager) {\n    super(manager)\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    const scope = this\n\n    const path = scope.path === '' ? LoaderUtils.extractUrlBase(url) : scope.path\n\n    const loader = new FileLoader(this.manager)\n    loader.setPath(scope.path)\n    loader.setResponseType('arraybuffer')\n    loader.setRequestHeader(scope.requestHeader)\n    loader.setWithCredentials(scope.withCredentials)\n\n    loader.load(\n      url,\n      function (buffer) {\n        try {\n          onLoad(scope.parse(buffer, path))\n        } catch (e) {\n          if (onError) {\n            onError(e)\n          } else {\n            console.error(e)\n          }\n\n          scope.manager.itemError(url)\n        }\n      },\n      onProgress,\n      onError,\n    )\n  }\n\n  parse(FBXBuffer, path) {\n    if (isFbxFormatBinary(FBXBuffer)) {\n      fbxTree = new BinaryParser().parse(FBXBuffer)\n    } else {\n      const FBXText = convertArrayBufferToString(FBXBuffer)\n\n      if (!isFbxFormatASCII(FBXText)) {\n        throw new Error('THREE.FBXLoader: Unknown format.')\n      }\n\n      if (getFbxVersion(FBXText) < 7000) {\n        throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + getFbxVersion(FBXText))\n      }\n\n      fbxTree = new TextParser().parse(FBXText)\n    }\n\n    // console.log( fbxTree );\n\n    const textureLoader = new TextureLoader(this.manager)\n      .setPath(this.resourcePath || path)\n      .setCrossOrigin(this.crossOrigin)\n\n    return new FBXTreeParser(textureLoader, this.manager).parse(fbxTree)\n  }\n}\n\n// Parse the FBXTree object returned by the BinaryParser or TextParser and return a Group\nclass FBXTreeParser {\n  constructor(textureLoader, manager) {\n    this.textureLoader = textureLoader\n    this.manager = manager\n  }\n\n  parse() {\n    connections = this.parseConnections()\n\n    const images = this.parseImages()\n    const textures = this.parseTextures(images)\n    const materials = this.parseMaterials(textures)\n    const deformers = this.parseDeformers()\n    const geometryMap = new GeometryParser().parse(deformers)\n\n    this.parseScene(deformers, geometryMap, materials)\n\n    return sceneGraph\n  }\n\n  // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )\n  // and details the connection type\n  parseConnections() {\n    const connectionMap = new Map()\n\n    if ('Connections' in fbxTree) {\n      const rawConnections = fbxTree.Connections.connections\n\n      rawConnections.forEach(function (rawConnection) {\n        const fromID = rawConnection[0]\n        const toID = rawConnection[1]\n        const relationship = rawConnection[2]\n\n        if (!connectionMap.has(fromID)) {\n          connectionMap.set(fromID, {\n            parents: [],\n            children: [],\n          })\n        }\n\n        const parentRelationship = { ID: toID, relationship: relationship }\n        connectionMap.get(fromID).parents.push(parentRelationship)\n\n        if (!connectionMap.has(toID)) {\n          connectionMap.set(toID, {\n            parents: [],\n            children: [],\n          })\n        }\n\n        const childRelationship = { ID: fromID, relationship: relationship }\n        connectionMap.get(toID).children.push(childRelationship)\n      })\n    }\n\n    return connectionMap\n  }\n\n  // Parse FBXTree.Objects.Video for embedded image data\n  // These images are connected to textures in FBXTree.Objects.Textures\n  // via FBXTree.Connections.\n  parseImages() {\n    const images = {}\n    const blobs = {}\n\n    if ('Video' in fbxTree.Objects) {\n      const videoNodes = fbxTree.Objects.Video\n\n      for (const nodeID in videoNodes) {\n        const videoNode = videoNodes[nodeID]\n\n        const id = parseInt(nodeID)\n\n        images[id] = videoNode.RelativeFilename || videoNode.Filename\n\n        // raw image data is in videoNode.Content\n        if ('Content' in videoNode) {\n          const arrayBufferContent = videoNode.Content instanceof ArrayBuffer && videoNode.Content.byteLength > 0\n          const base64Content = typeof videoNode.Content === 'string' && videoNode.Content !== ''\n\n          if (arrayBufferContent || base64Content) {\n            const image = this.parseImage(videoNodes[nodeID])\n\n            blobs[videoNode.RelativeFilename || videoNode.Filename] = image\n          }\n        }\n      }\n    }\n\n    for (const id in images) {\n      const filename = images[id]\n\n      if (blobs[filename] !== undefined) images[id] = blobs[filename]\n      else images[id] = images[id].split('\\\\').pop()\n    }\n\n    return images\n  }\n\n  // Parse embedded image data in FBXTree.Video.Content\n  parseImage(videoNode) {\n    const content = videoNode.Content\n    const fileName = videoNode.RelativeFilename || videoNode.Filename\n    const extension = fileName.slice(fileName.lastIndexOf('.') + 1).toLowerCase()\n\n    let type\n\n    switch (extension) {\n      case 'bmp':\n        type = 'image/bmp'\n        break\n\n      case 'jpg':\n      case 'jpeg':\n        type = 'image/jpeg'\n        break\n\n      case 'png':\n        type = 'image/png'\n        break\n\n      case 'tif':\n        type = 'image/tiff'\n        break\n\n      case 'tga':\n        if (this.manager.getHandler('.tga') === null) {\n          console.warn('FBXLoader: TGA loader not found, skipping ', fileName)\n        }\n\n        type = 'image/tga'\n        break\n\n      default:\n        console.warn('FBXLoader: Image type \"' + extension + '\" is not supported.')\n        return\n    }\n\n    if (typeof content === 'string') {\n      // ASCII format\n\n      return 'data:' + type + ';base64,' + content\n    } else {\n      // Binary Format\n\n      const array = new Uint8Array(content)\n      return window.URL.createObjectURL(new Blob([array], { type: type }))\n    }\n  }\n\n  // Parse nodes in FBXTree.Objects.Texture\n  // These contain details such as UV scaling, cropping, rotation etc and are connected\n  // to images in FBXTree.Objects.Video\n  parseTextures(images) {\n    const textureMap = new Map()\n\n    if ('Texture' in fbxTree.Objects) {\n      const textureNodes = fbxTree.Objects.Texture\n      for (const nodeID in textureNodes) {\n        const texture = this.parseTexture(textureNodes[nodeID], images)\n        textureMap.set(parseInt(nodeID), texture)\n      }\n    }\n\n    return textureMap\n  }\n\n  // Parse individual node in FBXTree.Objects.Texture\n  parseTexture(textureNode, images) {\n    const texture = this.loadTexture(textureNode, images)\n\n    texture.ID = textureNode.id\n\n    texture.name = textureNode.attrName\n\n    const wrapModeU = textureNode.WrapModeU\n    const wrapModeV = textureNode.WrapModeV\n\n    const valueU = wrapModeU !== undefined ? wrapModeU.value : 0\n    const valueV = wrapModeV !== undefined ? wrapModeV.value : 0\n\n    // http://download.autodesk.com/us/fbx/SDKdocs/FBX_SDK_Help/files/fbxsdkref/class_k_fbx_texture.html#889640e63e2e681259ea81061b85143a\n    // 0: repeat(default), 1: clamp\n\n    texture.wrapS = valueU === 0 ? RepeatWrapping : ClampToEdgeWrapping\n    texture.wrapT = valueV === 0 ? RepeatWrapping : ClampToEdgeWrapping\n\n    if ('Scaling' in textureNode) {\n      const values = textureNode.Scaling.value\n\n      texture.repeat.x = values[0]\n      texture.repeat.y = values[1]\n    }\n\n    return texture\n  }\n\n  // load a texture specified as a blob or data URI, or via an external URL using TextureLoader\n  loadTexture(textureNode, images) {\n    let fileName\n\n    const currentPath = this.textureLoader.path\n\n    const children = connections.get(textureNode.id).children\n\n    if (children !== undefined && children.length > 0 && images[children[0].ID] !== undefined) {\n      fileName = images[children[0].ID]\n\n      if (fileName.indexOf('blob:') === 0 || fileName.indexOf('data:') === 0) {\n        this.textureLoader.setPath(undefined)\n      }\n    }\n\n    let texture\n\n    const extension = textureNode.FileName.slice(-3).toLowerCase()\n\n    if (extension === 'tga') {\n      const loader = this.manager.getHandler('.tga')\n\n      if (loader === null) {\n        console.warn('FBXLoader: TGA loader not found, creating placeholder texture for', textureNode.RelativeFilename)\n        texture = new Texture()\n      } else {\n        loader.setPath(this.textureLoader.path)\n        texture = loader.load(fileName)\n      }\n    } else if (extension === 'psd') {\n      console.warn(\n        'FBXLoader: PSD textures are not supported, creating placeholder texture for',\n        textureNode.RelativeFilename,\n      )\n      texture = new Texture()\n    } else {\n      texture = this.textureLoader.load(fileName)\n    }\n\n    this.textureLoader.setPath(currentPath)\n\n    return texture\n  }\n\n  // Parse nodes in FBXTree.Objects.Material\n  parseMaterials(textureMap) {\n    const materialMap = new Map()\n\n    if ('Material' in fbxTree.Objects) {\n      const materialNodes = fbxTree.Objects.Material\n\n      for (const nodeID in materialNodes) {\n        const material = this.parseMaterial(materialNodes[nodeID], textureMap)\n\n        if (material !== null) materialMap.set(parseInt(nodeID), material)\n      }\n    }\n\n    return materialMap\n  }\n\n  // Parse single node in FBXTree.Objects.Material\n  // Materials are connected to texture maps in FBXTree.Objects.Textures\n  // FBX format currently only supports Lambert and Phong shading models\n  parseMaterial(materialNode, textureMap) {\n    const ID = materialNode.id\n    const name = materialNode.attrName\n    let type = materialNode.ShadingModel\n\n    // Case where FBX wraps shading model in property object.\n    if (typeof type === 'object') {\n      type = type.value\n    }\n\n    // Ignore unused materials which don't have any connections.\n    if (!connections.has(ID)) return null\n\n    const parameters = this.parseParameters(materialNode, textureMap, ID)\n\n    let material\n\n    switch (type.toLowerCase()) {\n      case 'phong':\n        material = new MeshPhongMaterial()\n        break\n      case 'lambert':\n        material = new MeshLambertMaterial()\n        break\n      default:\n        console.warn('THREE.FBXLoader: unknown material type \"%s\". Defaulting to MeshPhongMaterial.', type)\n        material = new MeshPhongMaterial()\n        break\n    }\n\n    material.setValues(parameters)\n    material.name = name\n\n    return material\n  }\n\n  // Parse FBX material and return parameters suitable for a three.js material\n  // Also parse the texture map and return any textures associated with the material\n  parseParameters(materialNode, textureMap, ID) {\n    const parameters = {}\n\n    if (materialNode.BumpFactor) {\n      parameters.bumpScale = materialNode.BumpFactor.value\n    }\n\n    if (materialNode.Diffuse) {\n      parameters.color = new Color().fromArray(materialNode.Diffuse.value)\n    } else if (\n      materialNode.DiffuseColor &&\n      (materialNode.DiffuseColor.type === 'Color' || materialNode.DiffuseColor.type === 'ColorRGB')\n    ) {\n      // The blender exporter exports diffuse here instead of in materialNode.Diffuse\n      parameters.color = new Color().fromArray(materialNode.DiffuseColor.value)\n    }\n\n    if (materialNode.DisplacementFactor) {\n      parameters.displacementScale = materialNode.DisplacementFactor.value\n    }\n\n    if (materialNode.Emissive) {\n      parameters.emissive = new Color().fromArray(materialNode.Emissive.value)\n    } else if (\n      materialNode.EmissiveColor &&\n      (materialNode.EmissiveColor.type === 'Color' || materialNode.EmissiveColor.type === 'ColorRGB')\n    ) {\n      // The blender exporter exports emissive color here instead of in materialNode.Emissive\n      parameters.emissive = new Color().fromArray(materialNode.EmissiveColor.value)\n    }\n\n    if (materialNode.EmissiveFactor) {\n      parameters.emissiveIntensity = parseFloat(materialNode.EmissiveFactor.value)\n    }\n\n    if (materialNode.Opacity) {\n      parameters.opacity = parseFloat(materialNode.Opacity.value)\n    }\n\n    if (parameters.opacity < 1.0) {\n      parameters.transparent = true\n    }\n\n    if (materialNode.ReflectionFactor) {\n      parameters.reflectivity = materialNode.ReflectionFactor.value\n    }\n\n    if (materialNode.Shininess) {\n      parameters.shininess = materialNode.Shininess.value\n    }\n\n    if (materialNode.Specular) {\n      parameters.specular = new Color().fromArray(materialNode.Specular.value)\n    } else if (materialNode.SpecularColor && materialNode.SpecularColor.type === 'Color') {\n      // The blender exporter exports specular color here instead of in materialNode.Specular\n      parameters.specular = new Color().fromArray(materialNode.SpecularColor.value)\n    }\n\n    const scope = this\n    connections.get(ID).children.forEach(function (child) {\n      const type = child.relationship\n\n      switch (type) {\n        case 'Bump':\n          parameters.bumpMap = scope.getTexture(textureMap, child.ID)\n          break\n\n        case 'Maya|TEX_ao_map':\n          parameters.aoMap = scope.getTexture(textureMap, child.ID)\n          break\n\n        case 'DiffuseColor':\n        case 'Maya|TEX_color_map':\n          parameters.map = scope.getTexture(textureMap, child.ID)\n          if (parameters.map !== undefined) {\n            if ('colorSpace' in parameters.map) parameters.map.colorSpace = 'srgb'\n            else parameters.map.encoding = 3001 // sRGBEncoding\n          }\n\n          break\n\n        case 'DisplacementColor':\n          parameters.displacementMap = scope.getTexture(textureMap, child.ID)\n          break\n\n        case 'EmissiveColor':\n          parameters.emissiveMap = scope.getTexture(textureMap, child.ID)\n          if (parameters.emissiveMap !== undefined) {\n            if ('colorSpace' in parameters.emissiveMap) parameters.emissiveMap.colorSpace = 'srgb'\n            else parameters.emissiveMap.encoding = 3001 // sRGBEncoding\n          }\n\n          break\n\n        case 'NormalMap':\n        case 'Maya|TEX_normal_map':\n          parameters.normalMap = scope.getTexture(textureMap, child.ID)\n          break\n\n        case 'ReflectionColor':\n          parameters.envMap = scope.getTexture(textureMap, child.ID)\n          if (parameters.envMap !== undefined) {\n            parameters.envMap.mapping = EquirectangularReflectionMapping\n\n            if ('colorSpace' in parameters.envMap) parameters.envMap.colorSpace = 'srgb'\n            else parameters.envMap.encoding = 3001 // sRGBEncoding\n          }\n\n          break\n\n        case 'SpecularColor':\n          parameters.specularMap = scope.getTexture(textureMap, child.ID)\n          if (parameters.specularMap !== undefined) {\n            if ('colorSpace' in parameters.specularMap) parameters.specularMap.colorSpace = 'srgb'\n            else parameters.specularMap.encoding = 3001 // sRGBEncoding\n          }\n\n          break\n\n        case 'TransparentColor':\n        case 'TransparencyFactor':\n          parameters.alphaMap = scope.getTexture(textureMap, child.ID)\n          parameters.transparent = true\n          break\n\n        case 'AmbientColor':\n        case 'ShininessExponent': // AKA glossiness map\n        case 'SpecularFactor': // AKA specularLevel\n        case 'VectorDisplacementColor': // NOTE: Seems to be a copy of DisplacementColor\n        default:\n          console.warn('THREE.FBXLoader: %s map is not supported in three.js, skipping texture.', type)\n          break\n      }\n    })\n\n    return parameters\n  }\n\n  // get a texture from the textureMap for use by a material.\n  getTexture(textureMap, id) {\n    // if the texture is a layered texture, just use the first layer and issue a warning\n    if ('LayeredTexture' in fbxTree.Objects && id in fbxTree.Objects.LayeredTexture) {\n      console.warn('THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer.')\n      id = connections.get(id).children[0].ID\n    }\n\n    return textureMap.get(id)\n  }\n\n  // Parse nodes in FBXTree.Objects.Deformer\n  // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here\n  // Generates map of Skeleton-like objects for use later when generating and binding skeletons.\n  parseDeformers() {\n    const skeletons = {}\n    const morphTargets = {}\n\n    if ('Deformer' in fbxTree.Objects) {\n      const DeformerNodes = fbxTree.Objects.Deformer\n\n      for (const nodeID in DeformerNodes) {\n        const deformerNode = DeformerNodes[nodeID]\n\n        const relationships = connections.get(parseInt(nodeID))\n\n        if (deformerNode.attrType === 'Skin') {\n          const skeleton = this.parseSkeleton(relationships, DeformerNodes)\n          skeleton.ID = nodeID\n\n          if (relationships.parents.length > 1) {\n            console.warn('THREE.FBXLoader: skeleton attached to more than one geometry is not supported.')\n          }\n          skeleton.geometryID = relationships.parents[0].ID\n\n          skeletons[nodeID] = skeleton\n        } else if (deformerNode.attrType === 'BlendShape') {\n          const morphTarget = {\n            id: nodeID,\n          }\n\n          morphTarget.rawTargets = this.parseMorphTargets(relationships, DeformerNodes)\n          morphTarget.id = nodeID\n\n          if (relationships.parents.length > 1) {\n            console.warn('THREE.FBXLoader: morph target attached to more than one geometry is not supported.')\n          }\n\n          morphTargets[nodeID] = morphTarget\n        }\n      }\n    }\n\n    return {\n      skeletons: skeletons,\n      morphTargets: morphTargets,\n    }\n  }\n\n  // Parse single nodes in FBXTree.Objects.Deformer\n  // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'\n  // Each skin node represents a skeleton and each cluster node represents a bone\n  parseSkeleton(relationships, deformerNodes) {\n    const rawBones = []\n\n    relationships.children.forEach(function (child) {\n      const boneNode = deformerNodes[child.ID]\n\n      if (boneNode.attrType !== 'Cluster') return\n\n      const rawBone = {\n        ID: child.ID,\n        indices: [],\n        weights: [],\n        transformLink: new Matrix4().fromArray(boneNode.TransformLink.a),\n        // transform: new Matrix4().fromArray( boneNode.Transform.a ),\n        // linkMode: boneNode.Mode,\n      }\n\n      if ('Indexes' in boneNode) {\n        rawBone.indices = boneNode.Indexes.a\n        rawBone.weights = boneNode.Weights.a\n      }\n\n      rawBones.push(rawBone)\n    })\n\n    return {\n      rawBones: rawBones,\n      bones: [],\n    }\n  }\n\n  // The top level morph deformer node has type \"BlendShape\" and sub nodes have type \"BlendShapeChannel\"\n  parseMorphTargets(relationships, deformerNodes) {\n    const rawMorphTargets = []\n\n    for (let i = 0; i < relationships.children.length; i++) {\n      const child = relationships.children[i]\n\n      const morphTargetNode = deformerNodes[child.ID]\n\n      const rawMorphTarget = {\n        name: morphTargetNode.attrName,\n        initialWeight: morphTargetNode.DeformPercent,\n        id: morphTargetNode.id,\n        fullWeights: morphTargetNode.FullWeights.a,\n      }\n\n      if (morphTargetNode.attrType !== 'BlendShapeChannel') return\n\n      rawMorphTarget.geoID = connections.get(parseInt(child.ID)).children.filter(function (child) {\n        return child.relationship === undefined\n      })[0].ID\n\n      rawMorphTargets.push(rawMorphTarget)\n    }\n\n    return rawMorphTargets\n  }\n\n  // create the main Group() to be returned by the loader\n  parseScene(deformers, geometryMap, materialMap) {\n    sceneGraph = new Group()\n\n    const modelMap = this.parseModels(deformers.skeletons, geometryMap, materialMap)\n\n    const modelNodes = fbxTree.Objects.Model\n\n    const scope = this\n    modelMap.forEach(function (model) {\n      const modelNode = modelNodes[model.ID]\n      scope.setLookAtProperties(model, modelNode)\n\n      const parentConnections = connections.get(model.ID).parents\n\n      parentConnections.forEach(function (connection) {\n        const parent = modelMap.get(connection.ID)\n        if (parent !== undefined) parent.add(model)\n      })\n\n      if (model.parent === null) {\n        sceneGraph.add(model)\n      }\n    })\n\n    this.bindSkeleton(deformers.skeletons, geometryMap, modelMap)\n\n    this.createAmbientLight()\n\n    sceneGraph.traverse(function (node) {\n      if (node.userData.transformData) {\n        if (node.parent) {\n          node.userData.transformData.parentMatrix = node.parent.matrix\n          node.userData.transformData.parentMatrixWorld = node.parent.matrixWorld\n        }\n\n        const transform = generateTransform(node.userData.transformData)\n\n        node.applyMatrix4(transform)\n        node.updateWorldMatrix()\n      }\n    })\n\n    const animations = new AnimationParser().parse()\n\n    // if all the models where already combined in a single group, just return that\n    if (sceneGraph.children.length === 1 && sceneGraph.children[0].isGroup) {\n      sceneGraph.children[0].animations = animations\n      sceneGraph = sceneGraph.children[0]\n    }\n\n    sceneGraph.animations = animations\n  }\n\n  // parse nodes in FBXTree.Objects.Model\n  parseModels(skeletons, geometryMap, materialMap) {\n    const modelMap = new Map()\n    const modelNodes = fbxTree.Objects.Model\n\n    for (const nodeID in modelNodes) {\n      const id = parseInt(nodeID)\n      const node = modelNodes[nodeID]\n      const relationships = connections.get(id)\n\n      let model = this.buildSkeleton(relationships, skeletons, id, node.attrName)\n\n      if (!model) {\n        switch (node.attrType) {\n          case 'Camera':\n            model = this.createCamera(relationships)\n            break\n          case 'Light':\n            model = this.createLight(relationships)\n            break\n          case 'Mesh':\n            model = this.createMesh(relationships, geometryMap, materialMap)\n            break\n          case 'NurbsCurve':\n            model = this.createCurve(relationships, geometryMap)\n            break\n          case 'LimbNode':\n          case 'Root':\n            model = new Bone()\n            break\n          case 'Null':\n          default:\n            model = new Group()\n            break\n        }\n\n        model.name = node.attrName ? PropertyBinding.sanitizeNodeName(node.attrName) : ''\n\n        model.ID = id\n      }\n\n      this.getTransformData(model, node)\n      modelMap.set(id, model)\n    }\n\n    return modelMap\n  }\n\n  buildSkeleton(relationships, skeletons, id, name) {\n    let bone = null\n\n    relationships.parents.forEach(function (parent) {\n      for (const ID in skeletons) {\n        const skeleton = skeletons[ID]\n\n        skeleton.rawBones.forEach(function (rawBone, i) {\n          if (rawBone.ID === parent.ID) {\n            const subBone = bone\n            bone = new Bone()\n\n            bone.matrixWorld.copy(rawBone.transformLink)\n\n            // set name and id here - otherwise in cases where \"subBone\" is created it will not have a name / id\n\n            bone.name = name ? PropertyBinding.sanitizeNodeName(name) : ''\n            bone.ID = id\n\n            skeleton.bones[i] = bone\n\n            // In cases where a bone is shared between multiple meshes\n            // duplicate the bone here and and it as a child of the first bone\n            if (subBone !== null) {\n              bone.add(subBone)\n            }\n          }\n        })\n      }\n    })\n\n    return bone\n  }\n\n  // create a PerspectiveCamera or OrthographicCamera\n  createCamera(relationships) {\n    let model\n    let cameraAttribute\n\n    relationships.children.forEach(function (child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID]\n\n      if (attr !== undefined) {\n        cameraAttribute = attr\n      }\n    })\n\n    if (cameraAttribute === undefined) {\n      model = new Object3D()\n    } else {\n      let type = 0\n      if (cameraAttribute.CameraProjectionType !== undefined && cameraAttribute.CameraProjectionType.value === 1) {\n        type = 1\n      }\n\n      let nearClippingPlane = 1\n      if (cameraAttribute.NearPlane !== undefined) {\n        nearClippingPlane = cameraAttribute.NearPlane.value / 1000\n      }\n\n      let farClippingPlane = 1000\n      if (cameraAttribute.FarPlane !== undefined) {\n        farClippingPlane = cameraAttribute.FarPlane.value / 1000\n      }\n\n      let width = window.innerWidth\n      let height = window.innerHeight\n\n      if (cameraAttribute.AspectWidth !== undefined && cameraAttribute.AspectHeight !== undefined) {\n        width = cameraAttribute.AspectWidth.value\n        height = cameraAttribute.AspectHeight.value\n      }\n\n      const aspect = width / height\n\n      let fov = 45\n      if (cameraAttribute.FieldOfView !== undefined) {\n        fov = cameraAttribute.FieldOfView.value\n      }\n\n      const focalLength = cameraAttribute.FocalLength ? cameraAttribute.FocalLength.value : null\n\n      switch (type) {\n        case 0: // Perspective\n          model = new PerspectiveCamera(fov, aspect, nearClippingPlane, farClippingPlane)\n          if (focalLength !== null) model.setFocalLength(focalLength)\n          break\n\n        case 1: // Orthographic\n          model = new OrthographicCamera(\n            -width / 2,\n            width / 2,\n            height / 2,\n            -height / 2,\n            nearClippingPlane,\n            farClippingPlane,\n          )\n          break\n\n        default:\n          console.warn('THREE.FBXLoader: Unknown camera type ' + type + '.')\n          model = new Object3D()\n          break\n      }\n    }\n\n    return model\n  }\n\n  // Create a DirectionalLight, PointLight or SpotLight\n  createLight(relationships) {\n    let model\n    let lightAttribute\n\n    relationships.children.forEach(function (child) {\n      const attr = fbxTree.Objects.NodeAttribute[child.ID]\n\n      if (attr !== undefined) {\n        lightAttribute = attr\n      }\n    })\n\n    if (lightAttribute === undefined) {\n      model = new Object3D()\n    } else {\n      let type\n\n      // LightType can be undefined for Point lights\n      if (lightAttribute.LightType === undefined) {\n        type = 0\n      } else {\n        type = lightAttribute.LightType.value\n      }\n\n      let color = 0xffffff\n\n      if (lightAttribute.Color !== undefined) {\n        color = new Color().fromArray(lightAttribute.Color.value)\n      }\n\n      let intensity = lightAttribute.Intensity === undefined ? 1 : lightAttribute.Intensity.value / 100\n\n      // light disabled\n      if (lightAttribute.CastLightOnObject !== undefined && lightAttribute.CastLightOnObject.value === 0) {\n        intensity = 0\n      }\n\n      let distance = 0\n      if (lightAttribute.FarAttenuationEnd !== undefined) {\n        if (lightAttribute.EnableFarAttenuation !== undefined && lightAttribute.EnableFarAttenuation.value === 0) {\n          distance = 0\n        } else {\n          distance = lightAttribute.FarAttenuationEnd.value\n        }\n      }\n\n      // TODO: could this be calculated linearly from FarAttenuationStart to FarAttenuationEnd?\n      const decay = 1\n\n      switch (type) {\n        case 0: // Point\n          model = new PointLight(color, intensity, distance, decay)\n          break\n\n        case 1: // Directional\n          model = new DirectionalLight(color, intensity)\n          break\n\n        case 2: // Spot\n          let angle = Math.PI / 3\n\n          if (lightAttribute.InnerAngle !== undefined) {\n            angle = MathUtils.degToRad(lightAttribute.InnerAngle.value)\n          }\n\n          let penumbra = 0\n          if (lightAttribute.OuterAngle !== undefined) {\n            // TODO: this is not correct - FBX calculates outer and inner angle in degrees\n            // with OuterAngle > InnerAngle && OuterAngle <= Math.PI\n            // while three.js uses a penumbra between (0, 1) to attenuate the inner angle\n            penumbra = MathUtils.degToRad(lightAttribute.OuterAngle.value)\n            penumbra = Math.max(penumbra, 1)\n          }\n\n          model = new SpotLight(color, intensity, distance, angle, penumbra, decay)\n          break\n\n        default:\n          console.warn(\n            'THREE.FBXLoader: Unknown light type ' + lightAttribute.LightType.value + ', defaulting to a PointLight.',\n          )\n          model = new PointLight(color, intensity)\n          break\n      }\n\n      if (lightAttribute.CastShadows !== undefined && lightAttribute.CastShadows.value === 1) {\n        model.castShadow = true\n      }\n    }\n\n    return model\n  }\n\n  createMesh(relationships, geometryMap, materialMap) {\n    let model\n    let geometry = null\n    let material = null\n    const materials = []\n\n    // get geometry and materials(s) from connections\n    relationships.children.forEach(function (child) {\n      if (geometryMap.has(child.ID)) {\n        geometry = geometryMap.get(child.ID)\n      }\n\n      if (materialMap.has(child.ID)) {\n        materials.push(materialMap.get(child.ID))\n      }\n    })\n\n    if (materials.length > 1) {\n      material = materials\n    } else if (materials.length > 0) {\n      material = materials[0]\n    } else {\n      material = new MeshPhongMaterial({ color: 0xcccccc })\n      materials.push(material)\n    }\n\n    if ('color' in geometry.attributes) {\n      materials.forEach(function (material) {\n        material.vertexColors = true\n      })\n    }\n\n    if (geometry.FBX_Deformer) {\n      model = new SkinnedMesh(geometry, material)\n      model.normalizeSkinWeights()\n    } else {\n      model = new Mesh(geometry, material)\n    }\n\n    return model\n  }\n\n  createCurve(relationships, geometryMap) {\n    const geometry = relationships.children.reduce(function (geo, child) {\n      if (geometryMap.has(child.ID)) geo = geometryMap.get(child.ID)\n\n      return geo\n    }, null)\n\n    // FBX does not list materials for Nurbs lines, so we'll just put our own in here.\n    const material = new LineBasicMaterial({ color: 0x3300ff, linewidth: 1 })\n    return new Line(geometry, material)\n  }\n\n  // parse the model node for transform data\n  getTransformData(model, modelNode) {\n    const transformData = {}\n\n    if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value)\n\n    if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value)\n    else transformData.eulerOrder = 'ZYX'\n\n    if ('Lcl_Translation' in modelNode) transformData.translation = modelNode.Lcl_Translation.value\n\n    if ('PreRotation' in modelNode) transformData.preRotation = modelNode.PreRotation.value\n    if ('Lcl_Rotation' in modelNode) transformData.rotation = modelNode.Lcl_Rotation.value\n    if ('PostRotation' in modelNode) transformData.postRotation = modelNode.PostRotation.value\n\n    if ('Lcl_Scaling' in modelNode) transformData.scale = modelNode.Lcl_Scaling.value\n\n    if ('ScalingOffset' in modelNode) transformData.scalingOffset = modelNode.ScalingOffset.value\n    if ('ScalingPivot' in modelNode) transformData.scalingPivot = modelNode.ScalingPivot.value\n\n    if ('RotationOffset' in modelNode) transformData.rotationOffset = modelNode.RotationOffset.value\n    if ('RotationPivot' in modelNode) transformData.rotationPivot = modelNode.RotationPivot.value\n\n    model.userData.transformData = transformData\n  }\n\n  setLookAtProperties(model, modelNode) {\n    if ('LookAtProperty' in modelNode) {\n      const children = connections.get(model.ID).children\n\n      children.forEach(function (child) {\n        if (child.relationship === 'LookAtProperty') {\n          const lookAtTarget = fbxTree.Objects.Model[child.ID]\n\n          if ('Lcl_Translation' in lookAtTarget) {\n            const pos = lookAtTarget.Lcl_Translation.value\n\n            // DirectionalLight, SpotLight\n            if (model.target !== undefined) {\n              model.target.position.fromArray(pos)\n              sceneGraph.add(model.target)\n            } else {\n              // Cameras and other Object3Ds\n\n              model.lookAt(new Vector3().fromArray(pos))\n            }\n          }\n        }\n      })\n    }\n  }\n\n  bindSkeleton(skeletons, geometryMap, modelMap) {\n    const bindMatrices = this.parsePoseNodes()\n\n    for (const ID in skeletons) {\n      const skeleton = skeletons[ID]\n\n      const parents = connections.get(parseInt(skeleton.ID)).parents\n\n      parents.forEach(function (parent) {\n        if (geometryMap.has(parent.ID)) {\n          const geoID = parent.ID\n          const geoRelationships = connections.get(geoID)\n\n          geoRelationships.parents.forEach(function (geoConnParent) {\n            if (modelMap.has(geoConnParent.ID)) {\n              const model = modelMap.get(geoConnParent.ID)\n\n              model.bind(new Skeleton(skeleton.bones), bindMatrices[geoConnParent.ID])\n            }\n          })\n        }\n      })\n    }\n  }\n\n  parsePoseNodes() {\n    const bindMatrices = {}\n\n    if ('Pose' in fbxTree.Objects) {\n      const BindPoseNode = fbxTree.Objects.Pose\n\n      for (const nodeID in BindPoseNode) {\n        if (BindPoseNode[nodeID].attrType === 'BindPose' && BindPoseNode[nodeID].NbPoseNodes > 0) {\n          const poseNodes = BindPoseNode[nodeID].PoseNode\n\n          if (Array.isArray(poseNodes)) {\n            poseNodes.forEach(function (poseNode) {\n              bindMatrices[poseNode.Node] = new Matrix4().fromArray(poseNode.Matrix.a)\n            })\n          } else {\n            bindMatrices[poseNodes.Node] = new Matrix4().fromArray(poseNodes.Matrix.a)\n          }\n        }\n      }\n    }\n\n    return bindMatrices\n  }\n\n  // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light\n  createAmbientLight() {\n    if ('GlobalSettings' in fbxTree && 'AmbientColor' in fbxTree.GlobalSettings) {\n      const ambientColor = fbxTree.GlobalSettings.AmbientColor.value\n      const r = ambientColor[0]\n      const g = ambientColor[1]\n      const b = ambientColor[2]\n\n      if (r !== 0 || g !== 0 || b !== 0) {\n        const color = new Color(r, g, b)\n        sceneGraph.add(new AmbientLight(color, 1))\n      }\n    }\n  }\n}\n\n// parse Geometry data from FBXTree and return map of BufferGeometries\nclass GeometryParser {\n  // Parse nodes in FBXTree.Objects.Geometry\n  parse(deformers) {\n    const geometryMap = new Map()\n\n    if ('Geometry' in fbxTree.Objects) {\n      const geoNodes = fbxTree.Objects.Geometry\n\n      for (const nodeID in geoNodes) {\n        const relationships = connections.get(parseInt(nodeID))\n        const geo = this.parseGeometry(relationships, geoNodes[nodeID], deformers)\n\n        geometryMap.set(parseInt(nodeID), geo)\n      }\n    }\n\n    return geometryMap\n  }\n\n  // Parse single node in FBXTree.Objects.Geometry\n  parseGeometry(relationships, geoNode, deformers) {\n    switch (geoNode.attrType) {\n      case 'Mesh':\n        return this.parseMeshGeometry(relationships, geoNode, deformers)\n        break\n\n      case 'NurbsCurve':\n        return this.parseNurbsGeometry(geoNode)\n        break\n    }\n  }\n\n  // Parse single node mesh geometry in FBXTree.Objects.Geometry\n  parseMeshGeometry(relationships, geoNode, deformers) {\n    const skeletons = deformers.skeletons\n    const morphTargets = []\n\n    const modelNodes = relationships.parents.map(function (parent) {\n      return fbxTree.Objects.Model[parent.ID]\n    })\n\n    // don't create geometry if it is not associated with any models\n    if (modelNodes.length === 0) return\n\n    const skeleton = relationships.children.reduce(function (skeleton, child) {\n      if (skeletons[child.ID] !== undefined) skeleton = skeletons[child.ID]\n\n      return skeleton\n    }, null)\n\n    relationships.children.forEach(function (child) {\n      if (deformers.morphTargets[child.ID] !== undefined) {\n        morphTargets.push(deformers.morphTargets[child.ID])\n      }\n    })\n\n    // Assume one model and get the preRotation from that\n    // if there is more than one model associated with the geometry this may cause problems\n    const modelNode = modelNodes[0]\n\n    const transformData = {}\n\n    if ('RotationOrder' in modelNode) transformData.eulerOrder = getEulerOrder(modelNode.RotationOrder.value)\n    if ('InheritType' in modelNode) transformData.inheritType = parseInt(modelNode.InheritType.value)\n\n    if ('GeometricTranslation' in modelNode) transformData.translation = modelNode.GeometricTranslation.value\n    if ('GeometricRotation' in modelNode) transformData.rotation = modelNode.GeometricRotation.value\n    if ('GeometricScaling' in modelNode) transformData.scale = modelNode.GeometricScaling.value\n\n    const transform = generateTransform(transformData)\n\n    return this.genGeometry(geoNode, skeleton, morphTargets, transform)\n  }\n\n  // Generate a BufferGeometry from a node in FBXTree.Objects.Geometry\n  genGeometry(geoNode, skeleton, morphTargets, preTransform) {\n    const geo = new BufferGeometry()\n    if (geoNode.attrName) geo.name = geoNode.attrName\n\n    const geoInfo = this.parseGeoNode(geoNode, skeleton)\n    const buffers = this.genBuffers(geoInfo)\n\n    const positionAttribute = new Float32BufferAttribute(buffers.vertex, 3)\n\n    positionAttribute.applyMatrix4(preTransform)\n\n    geo.setAttribute('position', positionAttribute)\n\n    if (buffers.colors.length > 0) {\n      geo.setAttribute('color', new Float32BufferAttribute(buffers.colors, 3))\n    }\n\n    if (skeleton) {\n      geo.setAttribute('skinIndex', new Uint16BufferAttribute(buffers.weightsIndices, 4))\n\n      geo.setAttribute('skinWeight', new Float32BufferAttribute(buffers.vertexWeights, 4))\n\n      // used later to bind the skeleton to the model\n      geo.FBX_Deformer = skeleton\n    }\n\n    if (buffers.normal.length > 0) {\n      const normalMatrix = new Matrix3().getNormalMatrix(preTransform)\n\n      const normalAttribute = new Float32BufferAttribute(buffers.normal, 3)\n      normalAttribute.applyNormalMatrix(normalMatrix)\n\n      geo.setAttribute('normal', normalAttribute)\n    }\n\n    buffers.uvs.forEach(function (uvBuffer, i) {\n      if (UV1 === 'uv2') i++\n      const name = i === 0 ? 'uv' : `uv${i}`\n\n      geo.setAttribute(name, new Float32BufferAttribute(buffers.uvs[i], 2))\n    })\n\n    if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n      // Convert the material indices of each vertex into rendering groups on the geometry.\n      let prevMaterialIndex = buffers.materialIndex[0]\n      let startIndex = 0\n\n      buffers.materialIndex.forEach(function (currentIndex, i) {\n        if (currentIndex !== prevMaterialIndex) {\n          geo.addGroup(startIndex, i - startIndex, prevMaterialIndex)\n\n          prevMaterialIndex = currentIndex\n          startIndex = i\n        }\n      })\n\n      // the loop above doesn't add the last group, do that here.\n      if (geo.groups.length > 0) {\n        const lastGroup = geo.groups[geo.groups.length - 1]\n        const lastIndex = lastGroup.start + lastGroup.count\n\n        if (lastIndex !== buffers.materialIndex.length) {\n          geo.addGroup(lastIndex, buffers.materialIndex.length - lastIndex, prevMaterialIndex)\n        }\n      }\n\n      // case where there are multiple materials but the whole geometry is only\n      // using one of them\n      if (geo.groups.length === 0) {\n        geo.addGroup(0, buffers.materialIndex.length, buffers.materialIndex[0])\n      }\n    }\n\n    this.addMorphTargets(geo, geoNode, morphTargets, preTransform)\n\n    return geo\n  }\n\n  parseGeoNode(geoNode, skeleton) {\n    const geoInfo = {}\n\n    geoInfo.vertexPositions = geoNode.Vertices !== undefined ? geoNode.Vertices.a : []\n    geoInfo.vertexIndices = geoNode.PolygonVertexIndex !== undefined ? geoNode.PolygonVertexIndex.a : []\n\n    if (geoNode.LayerElementColor) {\n      geoInfo.color = this.parseVertexColors(geoNode.LayerElementColor[0])\n    }\n\n    if (geoNode.LayerElementMaterial) {\n      geoInfo.material = this.parseMaterialIndices(geoNode.LayerElementMaterial[0])\n    }\n\n    if (geoNode.LayerElementNormal) {\n      geoInfo.normal = this.parseNormals(geoNode.LayerElementNormal[0])\n    }\n\n    if (geoNode.LayerElementUV) {\n      geoInfo.uv = []\n\n      let i = 0\n      while (geoNode.LayerElementUV[i]) {\n        if (geoNode.LayerElementUV[i].UV) {\n          geoInfo.uv.push(this.parseUVs(geoNode.LayerElementUV[i]))\n        }\n\n        i++\n      }\n    }\n\n    geoInfo.weightTable = {}\n\n    if (skeleton !== null) {\n      geoInfo.skeleton = skeleton\n\n      skeleton.rawBones.forEach(function (rawBone, i) {\n        // loop over the bone's vertex indices and weights\n        rawBone.indices.forEach(function (index, j) {\n          if (geoInfo.weightTable[index] === undefined) geoInfo.weightTable[index] = []\n\n          geoInfo.weightTable[index].push({\n            id: i,\n            weight: rawBone.weights[j],\n          })\n        })\n      })\n    }\n\n    return geoInfo\n  }\n\n  genBuffers(geoInfo) {\n    const buffers = {\n      vertex: [],\n      normal: [],\n      colors: [],\n      uvs: [],\n      materialIndex: [],\n      vertexWeights: [],\n      weightsIndices: [],\n    }\n\n    let polygonIndex = 0\n    let faceLength = 0\n    let displayedWeightsWarning = false\n\n    // these will hold data for a single face\n    let facePositionIndexes = []\n    let faceNormals = []\n    let faceColors = []\n    let faceUVs = []\n    let faceWeights = []\n    let faceWeightIndices = []\n\n    const scope = this\n    geoInfo.vertexIndices.forEach(function (vertexIndex, polygonVertexIndex) {\n      let materialIndex\n      let endOfFace = false\n\n      // Face index and vertex index arrays are combined in a single array\n      // A cube with quad faces looks like this:\n      // PolygonVertexIndex: *24 {\n      //  a: 0, 1, 3, -3, 2, 3, 5, -5, 4, 5, 7, -7, 6, 7, 1, -1, 1, 7, 5, -4, 6, 0, 2, -5\n      //  }\n      // Negative numbers mark the end of a face - first face here is 0, 1, 3, -3\n      // to find index of last vertex bit shift the index: ^ - 1\n      if (vertexIndex < 0) {\n        vertexIndex = vertexIndex ^ -1 // equivalent to ( x * -1 ) - 1\n        endOfFace = true\n      }\n\n      let weightIndices = []\n      let weights = []\n\n      facePositionIndexes.push(vertexIndex * 3, vertexIndex * 3 + 1, vertexIndex * 3 + 2)\n\n      if (geoInfo.color) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.color)\n\n        faceColors.push(data[0], data[1], data[2])\n      }\n\n      if (geoInfo.skeleton) {\n        if (geoInfo.weightTable[vertexIndex] !== undefined) {\n          geoInfo.weightTable[vertexIndex].forEach(function (wt) {\n            weights.push(wt.weight)\n            weightIndices.push(wt.id)\n          })\n        }\n\n        if (weights.length > 4) {\n          if (!displayedWeightsWarning) {\n            console.warn(\n              'THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights.',\n            )\n            displayedWeightsWarning = true\n          }\n\n          const wIndex = [0, 0, 0, 0]\n          const Weight = [0, 0, 0, 0]\n\n          weights.forEach(function (weight, weightIndex) {\n            let currentWeight = weight\n            let currentIndex = weightIndices[weightIndex]\n\n            Weight.forEach(function (comparedWeight, comparedWeightIndex, comparedWeightArray) {\n              if (currentWeight > comparedWeight) {\n                comparedWeightArray[comparedWeightIndex] = currentWeight\n                currentWeight = comparedWeight\n\n                const tmp = wIndex[comparedWeightIndex]\n                wIndex[comparedWeightIndex] = currentIndex\n                currentIndex = tmp\n              }\n            })\n          })\n\n          weightIndices = wIndex\n          weights = Weight\n        }\n\n        // if the weight array is shorter than 4 pad with 0s\n        while (weights.length < 4) {\n          weights.push(0)\n          weightIndices.push(0)\n        }\n\n        for (let i = 0; i < 4; ++i) {\n          faceWeights.push(weights[i])\n          faceWeightIndices.push(weightIndices[i])\n        }\n      }\n\n      if (geoInfo.normal) {\n        const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.normal)\n\n        faceNormals.push(data[0], data[1], data[2])\n      }\n\n      if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n        materialIndex = getData(polygonVertexIndex, polygonIndex, vertexIndex, geoInfo.material)[0]\n      }\n\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function (uv, i) {\n          const data = getData(polygonVertexIndex, polygonIndex, vertexIndex, uv)\n\n          if (faceUVs[i] === undefined) {\n            faceUVs[i] = []\n          }\n\n          faceUVs[i].push(data[0])\n          faceUVs[i].push(data[1])\n        })\n      }\n\n      faceLength++\n\n      if (endOfFace) {\n        scope.genFace(\n          buffers,\n          geoInfo,\n          facePositionIndexes,\n          materialIndex,\n          faceNormals,\n          faceColors,\n          faceUVs,\n          faceWeights,\n          faceWeightIndices,\n          faceLength,\n        )\n\n        polygonIndex++\n        faceLength = 0\n\n        // reset arrays for the next face\n        facePositionIndexes = []\n        faceNormals = []\n        faceColors = []\n        faceUVs = []\n        faceWeights = []\n        faceWeightIndices = []\n      }\n    })\n\n    return buffers\n  }\n\n  // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris\n  genFace(\n    buffers,\n    geoInfo,\n    facePositionIndexes,\n    materialIndex,\n    faceNormals,\n    faceColors,\n    faceUVs,\n    faceWeights,\n    faceWeightIndices,\n    faceLength,\n  ) {\n    for (let i = 2; i < faceLength; i++) {\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[0]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[1]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[2]])\n\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 1]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[(i - 1) * 3 + 2]])\n\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 1]])\n      buffers.vertex.push(geoInfo.vertexPositions[facePositionIndexes[i * 3 + 2]])\n\n      if (geoInfo.skeleton) {\n        buffers.vertexWeights.push(faceWeights[0])\n        buffers.vertexWeights.push(faceWeights[1])\n        buffers.vertexWeights.push(faceWeights[2])\n        buffers.vertexWeights.push(faceWeights[3])\n\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4])\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 1])\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 2])\n        buffers.vertexWeights.push(faceWeights[(i - 1) * 4 + 3])\n\n        buffers.vertexWeights.push(faceWeights[i * 4])\n        buffers.vertexWeights.push(faceWeights[i * 4 + 1])\n        buffers.vertexWeights.push(faceWeights[i * 4 + 2])\n        buffers.vertexWeights.push(faceWeights[i * 4 + 3])\n\n        buffers.weightsIndices.push(faceWeightIndices[0])\n        buffers.weightsIndices.push(faceWeightIndices[1])\n        buffers.weightsIndices.push(faceWeightIndices[2])\n        buffers.weightsIndices.push(faceWeightIndices[3])\n\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4])\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 1])\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 2])\n        buffers.weightsIndices.push(faceWeightIndices[(i - 1) * 4 + 3])\n\n        buffers.weightsIndices.push(faceWeightIndices[i * 4])\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 1])\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 2])\n        buffers.weightsIndices.push(faceWeightIndices[i * 4 + 3])\n      }\n\n      if (geoInfo.color) {\n        buffers.colors.push(faceColors[0])\n        buffers.colors.push(faceColors[1])\n        buffers.colors.push(faceColors[2])\n\n        buffers.colors.push(faceColors[(i - 1) * 3])\n        buffers.colors.push(faceColors[(i - 1) * 3 + 1])\n        buffers.colors.push(faceColors[(i - 1) * 3 + 2])\n\n        buffers.colors.push(faceColors[i * 3])\n        buffers.colors.push(faceColors[i * 3 + 1])\n        buffers.colors.push(faceColors[i * 3 + 2])\n      }\n\n      if (geoInfo.material && geoInfo.material.mappingType !== 'AllSame') {\n        buffers.materialIndex.push(materialIndex)\n        buffers.materialIndex.push(materialIndex)\n        buffers.materialIndex.push(materialIndex)\n      }\n\n      if (geoInfo.normal) {\n        buffers.normal.push(faceNormals[0])\n        buffers.normal.push(faceNormals[1])\n        buffers.normal.push(faceNormals[2])\n\n        buffers.normal.push(faceNormals[(i - 1) * 3])\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 1])\n        buffers.normal.push(faceNormals[(i - 1) * 3 + 2])\n\n        buffers.normal.push(faceNormals[i * 3])\n        buffers.normal.push(faceNormals[i * 3 + 1])\n        buffers.normal.push(faceNormals[i * 3 + 2])\n      }\n\n      if (geoInfo.uv) {\n        geoInfo.uv.forEach(function (uv, j) {\n          if (buffers.uvs[j] === undefined) buffers.uvs[j] = []\n\n          buffers.uvs[j].push(faceUVs[j][0])\n          buffers.uvs[j].push(faceUVs[j][1])\n\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2])\n          buffers.uvs[j].push(faceUVs[j][(i - 1) * 2 + 1])\n\n          buffers.uvs[j].push(faceUVs[j][i * 2])\n          buffers.uvs[j].push(faceUVs[j][i * 2 + 1])\n        })\n      }\n    }\n  }\n\n  addMorphTargets(parentGeo, parentGeoNode, morphTargets, preTransform) {\n    if (morphTargets.length === 0) return\n\n    parentGeo.morphTargetsRelative = true\n\n    parentGeo.morphAttributes.position = []\n    // parentGeo.morphAttributes.normal = []; // not implemented\n\n    const scope = this\n    morphTargets.forEach(function (morphTarget) {\n      morphTarget.rawTargets.forEach(function (rawTarget) {\n        const morphGeoNode = fbxTree.Objects.Geometry[rawTarget.geoID]\n\n        if (morphGeoNode !== undefined) {\n          scope.genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, rawTarget.name)\n        }\n      })\n    })\n  }\n\n  // a morph geometry node is similar to a standard  node, and the node is also contained\n  // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal\n  // and a special attribute Index defining which vertices of the original geometry are affected\n  // Normal and position attributes only have data for the vertices that are affected by the morph\n  genMorphGeometry(parentGeo, parentGeoNode, morphGeoNode, preTransform, name) {\n    const vertexIndices = parentGeoNode.PolygonVertexIndex !== undefined ? parentGeoNode.PolygonVertexIndex.a : []\n\n    const morphPositionsSparse = morphGeoNode.Vertices !== undefined ? morphGeoNode.Vertices.a : []\n    const indices = morphGeoNode.Indexes !== undefined ? morphGeoNode.Indexes.a : []\n\n    const length = parentGeo.attributes.position.count * 3\n    const morphPositions = new Float32Array(length)\n\n    for (let i = 0; i < indices.length; i++) {\n      const morphIndex = indices[i] * 3\n\n      morphPositions[morphIndex] = morphPositionsSparse[i * 3]\n      morphPositions[morphIndex + 1] = morphPositionsSparse[i * 3 + 1]\n      morphPositions[morphIndex + 2] = morphPositionsSparse[i * 3 + 2]\n    }\n\n    // TODO: add morph normal support\n    const morphGeoInfo = {\n      vertexIndices: vertexIndices,\n      vertexPositions: morphPositions,\n    }\n\n    const morphBuffers = this.genBuffers(morphGeoInfo)\n\n    const positionAttribute = new Float32BufferAttribute(morphBuffers.vertex, 3)\n    positionAttribute.name = name || morphGeoNode.attrName\n\n    positionAttribute.applyMatrix4(preTransform)\n\n    parentGeo.morphAttributes.position.push(positionAttribute)\n  }\n\n  // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists\n  parseNormals(NormalNode) {\n    const mappingType = NormalNode.MappingInformationType\n    const referenceType = NormalNode.ReferenceInformationType\n    const buffer = NormalNode.Normals.a\n    let indexBuffer = []\n    if (referenceType === 'IndexToDirect') {\n      if ('NormalIndex' in NormalNode) {\n        indexBuffer = NormalNode.NormalIndex.a\n      } else if ('NormalsIndex' in NormalNode) {\n        indexBuffer = NormalNode.NormalsIndex.a\n      }\n    }\n\n    return {\n      dataSize: 3,\n      buffer: buffer,\n      indices: indexBuffer,\n      mappingType: mappingType,\n      referenceType: referenceType,\n    }\n  }\n\n  // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists\n  parseUVs(UVNode) {\n    const mappingType = UVNode.MappingInformationType\n    const referenceType = UVNode.ReferenceInformationType\n    const buffer = UVNode.UV.a\n    let indexBuffer = []\n    if (referenceType === 'IndexToDirect') {\n      indexBuffer = UVNode.UVIndex.a\n    }\n\n    return {\n      dataSize: 2,\n      buffer: buffer,\n      indices: indexBuffer,\n      mappingType: mappingType,\n      referenceType: referenceType,\n    }\n  }\n\n  // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists\n  parseVertexColors(ColorNode) {\n    const mappingType = ColorNode.MappingInformationType\n    const referenceType = ColorNode.ReferenceInformationType\n    const buffer = ColorNode.Colors.a\n    let indexBuffer = []\n    if (referenceType === 'IndexToDirect') {\n      indexBuffer = ColorNode.ColorIndex.a\n    }\n\n    return {\n      dataSize: 4,\n      buffer: buffer,\n      indices: indexBuffer,\n      mappingType: mappingType,\n      referenceType: referenceType,\n    }\n  }\n\n  // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists\n  parseMaterialIndices(MaterialNode) {\n    const mappingType = MaterialNode.MappingInformationType\n    const referenceType = MaterialNode.ReferenceInformationType\n\n    if (mappingType === 'NoMappingInformation') {\n      return {\n        dataSize: 1,\n        buffer: [0],\n        indices: [0],\n        mappingType: 'AllSame',\n        referenceType: referenceType,\n      }\n    }\n\n    const materialIndexBuffer = MaterialNode.Materials.a\n\n    // Since materials are stored as indices, there's a bit of a mismatch between FBX and what\n    // we expect.So we create an intermediate buffer that points to the index in the buffer,\n    // for conforming with the other functions we've written for other data.\n    const materialIndices = []\n\n    for (let i = 0; i < materialIndexBuffer.length; ++i) {\n      materialIndices.push(i)\n    }\n\n    return {\n      dataSize: 1,\n      buffer: materialIndexBuffer,\n      indices: materialIndices,\n      mappingType: mappingType,\n      referenceType: referenceType,\n    }\n  }\n\n  // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry\n  parseNurbsGeometry(geoNode) {\n    if (NURBSCurve === undefined) {\n      console.error(\n        'THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry.',\n      )\n      return new BufferGeometry()\n    }\n\n    const order = parseInt(geoNode.Order)\n\n    if (isNaN(order)) {\n      console.error('THREE.FBXLoader: Invalid Order %s given for geometry ID: %s', geoNode.Order, geoNode.id)\n      return new BufferGeometry()\n    }\n\n    const degree = order - 1\n\n    const knots = geoNode.KnotVector.a\n    const controlPoints = []\n    const pointsValues = geoNode.Points.a\n\n    for (let i = 0, l = pointsValues.length; i < l; i += 4) {\n      controlPoints.push(new Vector4().fromArray(pointsValues, i))\n    }\n\n    let startKnot, endKnot\n\n    if (geoNode.Form === 'Closed') {\n      controlPoints.push(controlPoints[0])\n    } else if (geoNode.Form === 'Periodic') {\n      startKnot = degree\n      endKnot = knots.length - 1 - startKnot\n\n      for (let i = 0; i < degree; ++i) {\n        controlPoints.push(controlPoints[i])\n      }\n    }\n\n    const curve = new NURBSCurve(degree, knots, controlPoints, startKnot, endKnot)\n    const points = curve.getPoints(controlPoints.length * 12)\n\n    return new BufferGeometry().setFromPoints(points)\n  }\n}\n\n// parse animation data from FBXTree\nclass AnimationParser {\n  // take raw animation clips and turn them into three.js animation clips\n  parse() {\n    const animationClips = []\n\n    const rawClips = this.parseClips()\n\n    if (rawClips !== undefined) {\n      for (const key in rawClips) {\n        const rawClip = rawClips[key]\n\n        const clip = this.addClip(rawClip)\n\n        animationClips.push(clip)\n      }\n    }\n\n    return animationClips\n  }\n\n  parseClips() {\n    // since the actual transformation data is stored in FBXTree.Objects.AnimationCurve,\n    // if this is undefined we can safely assume there are no animations\n    if (fbxTree.Objects.AnimationCurve === undefined) return undefined\n\n    const curveNodesMap = this.parseAnimationCurveNodes()\n\n    this.parseAnimationCurves(curveNodesMap)\n\n    const layersMap = this.parseAnimationLayers(curveNodesMap)\n    const rawClips = this.parseAnimStacks(layersMap)\n\n    return rawClips\n  }\n\n  // parse nodes in FBXTree.Objects.AnimationCurveNode\n  // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )\n  // and is referenced by an AnimationLayer\n  parseAnimationCurveNodes() {\n    const rawCurveNodes = fbxTree.Objects.AnimationCurveNode\n\n    const curveNodesMap = new Map()\n\n    for (const nodeID in rawCurveNodes) {\n      const rawCurveNode = rawCurveNodes[nodeID]\n\n      if (rawCurveNode.attrName.match(/S|R|T|DeformPercent/) !== null) {\n        const curveNode = {\n          id: rawCurveNode.id,\n          attr: rawCurveNode.attrName,\n          curves: {},\n        }\n\n        curveNodesMap.set(curveNode.id, curveNode)\n      }\n    }\n\n    return curveNodesMap\n  }\n\n  // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to\n  // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated\n  // axis ( e.g. times and values of x rotation)\n  parseAnimationCurves(curveNodesMap) {\n    const rawCurves = fbxTree.Objects.AnimationCurve\n\n    // TODO: Many values are identical up to roundoff error, but won't be optimised\n    // e.g. position times: [0, 0.4, 0. 8]\n    // position values: [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.23538335023477e-7, 93.67518615722656, -0.9982695579528809, 7.235384487103147e-7, 93.67520904541016, -0.9982695579528809]\n    // clearly, this should be optimised to\n    // times: [0], positions [7.23538335023477e-7, 93.67518615722656, -0.9982695579528809]\n    // this shows up in nearly every FBX file, and generally time array is length > 100\n\n    for (const nodeID in rawCurves) {\n      const animationCurve = {\n        id: rawCurves[nodeID].id,\n        times: rawCurves[nodeID].KeyTime.a.map(convertFBXTimeToSeconds),\n        values: rawCurves[nodeID].KeyValueFloat.a,\n      }\n\n      const relationships = connections.get(animationCurve.id)\n\n      if (relationships !== undefined) {\n        const animationCurveID = relationships.parents[0].ID\n        const animationCurveRelationship = relationships.parents[0].relationship\n\n        if (animationCurveRelationship.match(/X/)) {\n          curveNodesMap.get(animationCurveID).curves['x'] = animationCurve\n        } else if (animationCurveRelationship.match(/Y/)) {\n          curveNodesMap.get(animationCurveID).curves['y'] = animationCurve\n        } else if (animationCurveRelationship.match(/Z/)) {\n          curveNodesMap.get(animationCurveID).curves['z'] = animationCurve\n        } else if (animationCurveRelationship.match(/d|DeformPercent/) && curveNodesMap.has(animationCurveID)) {\n          curveNodesMap.get(animationCurveID).curves['morph'] = animationCurve\n        }\n      }\n    }\n  }\n\n  // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references\n  // to various AnimationCurveNodes and is referenced by an AnimationStack node\n  // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack\n  parseAnimationLayers(curveNodesMap) {\n    const rawLayers = fbxTree.Objects.AnimationLayer\n\n    const layersMap = new Map()\n\n    for (const nodeID in rawLayers) {\n      const layerCurveNodes = []\n\n      const connection = connections.get(parseInt(nodeID))\n\n      if (connection !== undefined) {\n        // all the animationCurveNodes used in the layer\n        const children = connection.children\n\n        children.forEach(function (child, i) {\n          if (curveNodesMap.has(child.ID)) {\n            const curveNode = curveNodesMap.get(child.ID)\n\n            // check that the curves are defined for at least one axis, otherwise ignore the curveNode\n            if (\n              curveNode.curves.x !== undefined ||\n              curveNode.curves.y !== undefined ||\n              curveNode.curves.z !== undefined\n            ) {\n              if (layerCurveNodes[i] === undefined) {\n                const modelID = connections.get(child.ID).parents.filter(function (parent) {\n                  return parent.relationship !== undefined\n                })[0].ID\n\n                if (modelID !== undefined) {\n                  const rawModel = fbxTree.Objects.Model[modelID.toString()]\n\n                  if (rawModel === undefined) {\n                    console.warn('THREE.FBXLoader: Encountered a unused curve.', child)\n                    return\n                  }\n\n                  const node = {\n                    modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\n                    ID: rawModel.id,\n                    initialPosition: [0, 0, 0],\n                    initialRotation: [0, 0, 0],\n                    initialScale: [1, 1, 1],\n                  }\n\n                  sceneGraph.traverse(function (child) {\n                    if (child.ID === rawModel.id) {\n                      node.transform = child.matrix\n\n                      if (child.userData.transformData) node.eulerOrder = child.userData.transformData.eulerOrder\n                    }\n                  })\n\n                  if (!node.transform) node.transform = new Matrix4()\n\n                  // if the animated model is pre rotated, we'll have to apply the pre rotations to every\n                  // animation value as well\n                  if ('PreRotation' in rawModel) node.preRotation = rawModel.PreRotation.value\n                  if ('PostRotation' in rawModel) node.postRotation = rawModel.PostRotation.value\n\n                  layerCurveNodes[i] = node\n                }\n              }\n\n              if (layerCurveNodes[i]) layerCurveNodes[i][curveNode.attr] = curveNode\n            } else if (curveNode.curves.morph !== undefined) {\n              if (layerCurveNodes[i] === undefined) {\n                const deformerID = connections.get(child.ID).parents.filter(function (parent) {\n                  return parent.relationship !== undefined\n                })[0].ID\n\n                const morpherID = connections.get(deformerID).parents[0].ID\n                const geoID = connections.get(morpherID).parents[0].ID\n\n                // assuming geometry is not used in more than one model\n                const modelID = connections.get(geoID).parents[0].ID\n\n                const rawModel = fbxTree.Objects.Model[modelID]\n\n                const node = {\n                  modelName: rawModel.attrName ? PropertyBinding.sanitizeNodeName(rawModel.attrName) : '',\n                  morphName: fbxTree.Objects.Deformer[deformerID].attrName,\n                }\n\n                layerCurveNodes[i] = node\n              }\n\n              layerCurveNodes[i][curveNode.attr] = curveNode\n            }\n          }\n        })\n\n        layersMap.set(parseInt(nodeID), layerCurveNodes)\n      }\n    }\n\n    return layersMap\n  }\n\n  // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation\n  // hierarchy. Each Stack node will be used to create a AnimationClip\n  parseAnimStacks(layersMap) {\n    const rawStacks = fbxTree.Objects.AnimationStack\n\n    // connect the stacks (clips) up to the layers\n    const rawClips = {}\n\n    for (const nodeID in rawStacks) {\n      const children = connections.get(parseInt(nodeID)).children\n\n      if (children.length > 1) {\n        // it seems like stacks will always be associated with a single layer. But just in case there are files\n        // where there are multiple layers per stack, we'll display a warning\n        console.warn(\n          'THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.',\n        )\n      }\n\n      const layer = layersMap.get(children[0].ID)\n\n      rawClips[nodeID] = {\n        name: rawStacks[nodeID].attrName,\n        layer: layer,\n      }\n    }\n\n    return rawClips\n  }\n\n  addClip(rawClip) {\n    let tracks = []\n\n    const scope = this\n    rawClip.layer.forEach(function (rawTracks) {\n      tracks = tracks.concat(scope.generateTracks(rawTracks))\n    })\n\n    return new AnimationClip(rawClip.name, -1, tracks)\n  }\n\n  generateTracks(rawTracks) {\n    const tracks = []\n\n    let initialPosition = new Vector3()\n    let initialRotation = new Quaternion()\n    let initialScale = new Vector3()\n\n    if (rawTracks.transform) rawTracks.transform.decompose(initialPosition, initialRotation, initialScale)\n\n    initialPosition = initialPosition.toArray()\n    initialRotation = new Euler().setFromQuaternion(initialRotation, rawTracks.eulerOrder).toArray()\n    initialScale = initialScale.toArray()\n\n    if (rawTracks.T !== undefined && Object.keys(rawTracks.T.curves).length > 0) {\n      const positionTrack = this.generateVectorTrack(\n        rawTracks.modelName,\n        rawTracks.T.curves,\n        initialPosition,\n        'position',\n      )\n      if (positionTrack !== undefined) tracks.push(positionTrack)\n    }\n\n    if (rawTracks.R !== undefined && Object.keys(rawTracks.R.curves).length > 0) {\n      const rotationTrack = this.generateRotationTrack(\n        rawTracks.modelName,\n        rawTracks.R.curves,\n        initialRotation,\n        rawTracks.preRotation,\n        rawTracks.postRotation,\n        rawTracks.eulerOrder,\n      )\n      if (rotationTrack !== undefined) tracks.push(rotationTrack)\n    }\n\n    if (rawTracks.S !== undefined && Object.keys(rawTracks.S.curves).length > 0) {\n      const scaleTrack = this.generateVectorTrack(rawTracks.modelName, rawTracks.S.curves, initialScale, 'scale')\n      if (scaleTrack !== undefined) tracks.push(scaleTrack)\n    }\n\n    if (rawTracks.DeformPercent !== undefined) {\n      const morphTrack = this.generateMorphTrack(rawTracks)\n      if (morphTrack !== undefined) tracks.push(morphTrack)\n    }\n\n    return tracks\n  }\n\n  generateVectorTrack(modelName, curves, initialValue, type) {\n    const times = this.getTimesForAllAxes(curves)\n    const values = this.getKeyframeTrackValues(times, curves, initialValue)\n\n    return new VectorKeyframeTrack(modelName + '.' + type, times, values)\n  }\n\n  generateRotationTrack(modelName, curves, initialValue, preRotation, postRotation, eulerOrder) {\n    if (curves.x !== undefined) {\n      this.interpolateRotations(curves.x)\n      curves.x.values = curves.x.values.map(MathUtils.degToRad)\n    }\n\n    if (curves.y !== undefined) {\n      this.interpolateRotations(curves.y)\n      curves.y.values = curves.y.values.map(MathUtils.degToRad)\n    }\n\n    if (curves.z !== undefined) {\n      this.interpolateRotations(curves.z)\n      curves.z.values = curves.z.values.map(MathUtils.degToRad)\n    }\n\n    const times = this.getTimesForAllAxes(curves)\n    const values = this.getKeyframeTrackValues(times, curves, initialValue)\n\n    if (preRotation !== undefined) {\n      preRotation = preRotation.map(MathUtils.degToRad)\n      preRotation.push(eulerOrder)\n\n      preRotation = new Euler().fromArray(preRotation)\n      preRotation = new Quaternion().setFromEuler(preRotation)\n    }\n\n    if (postRotation !== undefined) {\n      postRotation = postRotation.map(MathUtils.degToRad)\n      postRotation.push(eulerOrder)\n\n      postRotation = new Euler().fromArray(postRotation)\n      postRotation = new Quaternion().setFromEuler(postRotation).invert()\n    }\n\n    const quaternion = new Quaternion()\n    const euler = new Euler()\n\n    const quaternionValues = []\n\n    for (let i = 0; i < values.length; i += 3) {\n      euler.set(values[i], values[i + 1], values[i + 2], eulerOrder)\n\n      quaternion.setFromEuler(euler)\n\n      if (preRotation !== undefined) quaternion.premultiply(preRotation)\n      if (postRotation !== undefined) quaternion.multiply(postRotation)\n\n      quaternion.toArray(quaternionValues, (i / 3) * 4)\n    }\n\n    return new QuaternionKeyframeTrack(modelName + '.quaternion', times, quaternionValues)\n  }\n\n  generateMorphTrack(rawTracks) {\n    const curves = rawTracks.DeformPercent.curves.morph\n    const values = curves.values.map(function (val) {\n      return val / 100\n    })\n\n    const morphNum = sceneGraph.getObjectByName(rawTracks.modelName).morphTargetDictionary[rawTracks.morphName]\n\n    return new NumberKeyframeTrack(\n      rawTracks.modelName + '.morphTargetInfluences[' + morphNum + ']',\n      curves.times,\n      values,\n    )\n  }\n\n  // For all animated objects, times are defined separately for each axis\n  // Here we'll combine the times into one sorted array without duplicates\n  getTimesForAllAxes(curves) {\n    let times = []\n\n    // first join together the times for each axis, if defined\n    if (curves.x !== undefined) times = times.concat(curves.x.times)\n    if (curves.y !== undefined) times = times.concat(curves.y.times)\n    if (curves.z !== undefined) times = times.concat(curves.z.times)\n\n    // then sort them\n    times = times.sort(function (a, b) {\n      return a - b\n    })\n\n    // and remove duplicates\n    if (times.length > 1) {\n      let targetIndex = 1\n      let lastValue = times[0]\n      for (let i = 1; i < times.length; i++) {\n        const currentValue = times[i]\n        if (currentValue !== lastValue) {\n          times[targetIndex] = currentValue\n          lastValue = currentValue\n          targetIndex++\n        }\n      }\n\n      times = times.slice(0, targetIndex)\n    }\n\n    return times\n  }\n\n  getKeyframeTrackValues(times, curves, initialValue) {\n    const prevValue = initialValue\n\n    const values = []\n\n    let xIndex = -1\n    let yIndex = -1\n    let zIndex = -1\n\n    times.forEach(function (time) {\n      if (curves.x) xIndex = curves.x.times.indexOf(time)\n      if (curves.y) yIndex = curves.y.times.indexOf(time)\n      if (curves.z) zIndex = curves.z.times.indexOf(time)\n\n      // if there is an x value defined for this frame, use that\n      if (xIndex !== -1) {\n        const xValue = curves.x.values[xIndex]\n        values.push(xValue)\n        prevValue[0] = xValue\n      } else {\n        // otherwise use the x value from the previous frame\n        values.push(prevValue[0])\n      }\n\n      if (yIndex !== -1) {\n        const yValue = curves.y.values[yIndex]\n        values.push(yValue)\n        prevValue[1] = yValue\n      } else {\n        values.push(prevValue[1])\n      }\n\n      if (zIndex !== -1) {\n        const zValue = curves.z.values[zIndex]\n        values.push(zValue)\n        prevValue[2] = zValue\n      } else {\n        values.push(prevValue[2])\n      }\n    })\n\n    return values\n  }\n\n  // Rotations are defined as Euler angles which can have values  of any size\n  // These will be converted to quaternions which don't support values greater than\n  // PI, so we'll interpolate large rotations\n  interpolateRotations(curve) {\n    for (let i = 1; i < curve.values.length; i++) {\n      const initialValue = curve.values[i - 1]\n      const valuesSpan = curve.values[i] - initialValue\n\n      const absoluteSpan = Math.abs(valuesSpan)\n\n      if (absoluteSpan >= 180) {\n        const numSubIntervals = absoluteSpan / 180\n\n        const step = valuesSpan / numSubIntervals\n        let nextValue = initialValue + step\n\n        const initialTime = curve.times[i - 1]\n        const timeSpan = curve.times[i] - initialTime\n        const interval = timeSpan / numSubIntervals\n        let nextTime = initialTime + interval\n\n        const interpolatedTimes = []\n        const interpolatedValues = []\n\n        while (nextTime < curve.times[i]) {\n          interpolatedTimes.push(nextTime)\n          nextTime += interval\n\n          interpolatedValues.push(nextValue)\n          nextValue += step\n        }\n\n        curve.times = inject(curve.times, i, interpolatedTimes)\n        curve.values = inject(curve.values, i, interpolatedValues)\n      }\n    }\n  }\n}\n\n// parse an FBX file in ASCII format\nclass TextParser {\n  getPrevNode() {\n    return this.nodeStack[this.currentIndent - 2]\n  }\n\n  getCurrentNode() {\n    return this.nodeStack[this.currentIndent - 1]\n  }\n\n  getCurrentProp() {\n    return this.currentProp\n  }\n\n  pushStack(node) {\n    this.nodeStack.push(node)\n    this.currentIndent += 1\n  }\n\n  popStack() {\n    this.nodeStack.pop()\n    this.currentIndent -= 1\n  }\n\n  setCurrentProp(val, name) {\n    this.currentProp = val\n    this.currentPropName = name\n  }\n\n  parse(text) {\n    this.currentIndent = 0\n\n    this.allNodes = new FBXTree()\n    this.nodeStack = []\n    this.currentProp = []\n    this.currentPropName = ''\n\n    const scope = this\n\n    const split = text.split(/[\\r\\n]+/)\n\n    split.forEach(function (line, i) {\n      const matchComment = line.match(/^[\\s\\t]*;/)\n      const matchEmpty = line.match(/^[\\s\\t]*$/)\n\n      if (matchComment || matchEmpty) return\n\n      const matchBeginning = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):(.*){', '')\n      const matchProperty = line.match('^\\\\t{' + scope.currentIndent + '}(\\\\w+):[\\\\s\\\\t\\\\r\\\\n](.*)')\n      const matchEnd = line.match('^\\\\t{' + (scope.currentIndent - 1) + '}}')\n\n      if (matchBeginning) {\n        scope.parseNodeBegin(line, matchBeginning)\n      } else if (matchProperty) {\n        scope.parseNodeProperty(line, matchProperty, split[++i])\n      } else if (matchEnd) {\n        scope.popStack()\n      } else if (line.match(/^[^\\s\\t}]/)) {\n        // large arrays are split over multiple lines terminated with a ',' character\n        // if this is encountered the line needs to be joined to the previous line\n        scope.parseNodePropertyContinued(line)\n      }\n    })\n\n    return this.allNodes\n  }\n\n  parseNodeBegin(line, property) {\n    const nodeName = property[1].trim().replace(/^\"/, '').replace(/\"$/, '')\n\n    const nodeAttrs = property[2].split(',').map(function (attr) {\n      return attr.trim().replace(/^\"/, '').replace(/\"$/, '')\n    })\n\n    const node = { name: nodeName }\n    const attrs = this.parseNodeAttr(nodeAttrs)\n\n    const currentNode = this.getCurrentNode()\n\n    // a top node\n    if (this.currentIndent === 0) {\n      this.allNodes.add(nodeName, node)\n    } else {\n      // a subnode\n\n      // if the subnode already exists, append it\n      if (nodeName in currentNode) {\n        // special case Pose needs PoseNodes as an array\n        if (nodeName === 'PoseNode') {\n          currentNode.PoseNode.push(node)\n        } else if (currentNode[nodeName].id !== undefined) {\n          currentNode[nodeName] = {}\n          currentNode[nodeName][currentNode[nodeName].id] = currentNode[nodeName]\n        }\n\n        if (attrs.id !== '') currentNode[nodeName][attrs.id] = node\n      } else if (typeof attrs.id === 'number') {\n        currentNode[nodeName] = {}\n        currentNode[nodeName][attrs.id] = node\n      } else if (nodeName !== 'Properties70') {\n        if (nodeName === 'PoseNode') currentNode[nodeName] = [node]\n        else currentNode[nodeName] = node\n      }\n    }\n\n    if (typeof attrs.id === 'number') node.id = attrs.id\n    if (attrs.name !== '') node.attrName = attrs.name\n    if (attrs.type !== '') node.attrType = attrs.type\n\n    this.pushStack(node)\n  }\n\n  parseNodeAttr(attrs) {\n    let id = attrs[0]\n\n    if (attrs[0] !== '') {\n      id = parseInt(attrs[0])\n\n      if (isNaN(id)) {\n        id = attrs[0]\n      }\n    }\n\n    let name = '',\n      type = ''\n\n    if (attrs.length > 1) {\n      name = attrs[1].replace(/^(\\w+)::/, '')\n      type = attrs[2]\n    }\n\n    return { id: id, name: name, type: type }\n  }\n\n  parseNodeProperty(line, property, contentLine) {\n    let propName = property[1].replace(/^\"/, '').replace(/\"$/, '').trim()\n    let propValue = property[2].replace(/^\"/, '').replace(/\"$/, '').trim()\n\n    // for special case: base64 image data follows \"Content: ,\" line\n    //\tContent: ,\n    //\t \"/9j/4RDaRXhpZgAATU0A...\"\n    if (propName === 'Content' && propValue === ',') {\n      propValue = contentLine.replace(/\"/g, '').replace(/,$/, '').trim()\n    }\n\n    const currentNode = this.getCurrentNode()\n    const parentName = currentNode.name\n\n    if (parentName === 'Properties70') {\n      this.parseNodeSpecialProperty(line, propName, propValue)\n      return\n    }\n\n    // Connections\n    if (propName === 'C') {\n      const connProps = propValue.split(',').slice(1)\n      const from = parseInt(connProps[0])\n      const to = parseInt(connProps[1])\n\n      let rest = propValue.split(',').slice(3)\n\n      rest = rest.map(function (elem) {\n        return elem.trim().replace(/^\"/, '')\n      })\n\n      propName = 'connections'\n      propValue = [from, to]\n      append(propValue, rest)\n\n      if (currentNode[propName] === undefined) {\n        currentNode[propName] = []\n      }\n    }\n\n    // Node\n    if (propName === 'Node') currentNode.id = propValue\n\n    // connections\n    if (propName in currentNode && Array.isArray(currentNode[propName])) {\n      currentNode[propName].push(propValue)\n    } else {\n      if (propName !== 'a') currentNode[propName] = propValue\n      else currentNode.a = propValue\n    }\n\n    this.setCurrentProp(currentNode, propName)\n\n    // convert string to array, unless it ends in ',' in which case more will be added to it\n    if (propName === 'a' && propValue.slice(-1) !== ',') {\n      currentNode.a = parseNumberArray(propValue)\n    }\n  }\n\n  parseNodePropertyContinued(line) {\n    const currentNode = this.getCurrentNode()\n\n    currentNode.a += line\n\n    // if the line doesn't end in ',' we have reached the end of the property value\n    // so convert the string to an array\n    if (line.slice(-1) !== ',') {\n      currentNode.a = parseNumberArray(currentNode.a)\n    }\n  }\n\n  // parse \"Property70\"\n  parseNodeSpecialProperty(line, propName, propValue) {\n    // split this\n    // P: \"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\",1,1,1\n    // into array like below\n    // [\"Lcl Scaling\", \"Lcl Scaling\", \"\", \"A\", \"1,1,1\" ]\n    const props = propValue.split('\",').map(function (prop) {\n      return prop.trim().replace(/^\\\"/, '').replace(/\\s/, '_')\n    })\n\n    const innerPropName = props[0]\n    const innerPropType1 = props[1]\n    const innerPropType2 = props[2]\n    const innerPropFlag = props[3]\n    let innerPropValue = props[4]\n\n    // cast values where needed, otherwise leave as strings\n    switch (innerPropType1) {\n      case 'int':\n      case 'enum':\n      case 'bool':\n      case 'ULongLong':\n      case 'double':\n      case 'Number':\n      case 'FieldOfView':\n        innerPropValue = parseFloat(innerPropValue)\n        break\n\n      case 'Color':\n      case 'ColorRGB':\n      case 'Vector3D':\n      case 'Lcl_Translation':\n      case 'Lcl_Rotation':\n      case 'Lcl_Scaling':\n        innerPropValue = parseNumberArray(innerPropValue)\n        break\n    }\n\n    // CAUTION: these props must append to parent's parent\n    this.getPrevNode()[innerPropName] = {\n      type: innerPropType1,\n      type2: innerPropType2,\n      flag: innerPropFlag,\n      value: innerPropValue,\n    }\n\n    this.setCurrentProp(this.getPrevNode(), innerPropName)\n  }\n}\n\n// Parse an FBX file in Binary format\nclass BinaryParser {\n  parse(buffer) {\n    const reader = new BinaryReader(buffer)\n    reader.skip(23) // skip magic 23 bytes\n\n    const version = reader.getUint32()\n\n    if (version < 6400) {\n      throw new Error('THREE.FBXLoader: FBX version not supported, FileVersion: ' + version)\n    }\n\n    const allNodes = new FBXTree()\n\n    while (!this.endOfContent(reader)) {\n      const node = this.parseNode(reader, version)\n      if (node !== null) allNodes.add(node.name, node)\n    }\n\n    return allNodes\n  }\n\n  // Check if reader has reached the end of content.\n  endOfContent(reader) {\n    // footer size: 160bytes + 16-byte alignment padding\n    // - 16bytes: magic\n    // - padding til 16-byte alignment (at least 1byte?)\n    //\t(seems like some exporters embed fixed 15 or 16bytes?)\n    // - 4bytes: magic\n    // - 4bytes: version\n    // - 120bytes: zero\n    // - 16bytes: magic\n    if (reader.size() % 16 === 0) {\n      return ((reader.getOffset() + 160 + 16) & ~0xf) >= reader.size()\n    } else {\n      return reader.getOffset() + 160 + 16 >= reader.size()\n    }\n  }\n\n  // recursively parse nodes until the end of the file is reached\n  parseNode(reader, version) {\n    const node = {}\n\n    // The first three data sizes depends on version.\n    const endOffset = version >= 7500 ? reader.getUint64() : reader.getUint32()\n    const numProperties = version >= 7500 ? reader.getUint64() : reader.getUint32()\n\n    version >= 7500 ? reader.getUint64() : reader.getUint32() // the returned propertyListLen is not used\n\n    const nameLen = reader.getUint8()\n    const name = reader.getString(nameLen)\n\n    // Regards this node as NULL-record if endOffset is zero\n    if (endOffset === 0) return null\n\n    const propertyList = []\n\n    for (let i = 0; i < numProperties; i++) {\n      propertyList.push(this.parseProperty(reader))\n    }\n\n    // Regards the first three elements in propertyList as id, attrName, and attrType\n    const id = propertyList.length > 0 ? propertyList[0] : ''\n    const attrName = propertyList.length > 1 ? propertyList[1] : ''\n    const attrType = propertyList.length > 2 ? propertyList[2] : ''\n\n    // check if this node represents just a single property\n    // like (name, 0) set or (name2, [0, 1, 2]) set of {name: 0, name2: [0, 1, 2]}\n    node.singleProperty = numProperties === 1 && reader.getOffset() === endOffset ? true : false\n\n    while (endOffset > reader.getOffset()) {\n      const subNode = this.parseNode(reader, version)\n\n      if (subNode !== null) this.parseSubNode(name, node, subNode)\n    }\n\n    node.propertyList = propertyList // raw property list used by parent\n\n    if (typeof id === 'number') node.id = id\n    if (attrName !== '') node.attrName = attrName\n    if (attrType !== '') node.attrType = attrType\n    if (name !== '') node.name = name\n\n    return node\n  }\n\n  parseSubNode(name, node, subNode) {\n    // special case: child node is single property\n    if (subNode.singleProperty === true) {\n      const value = subNode.propertyList[0]\n\n      if (Array.isArray(value)) {\n        node[subNode.name] = subNode\n\n        subNode.a = value\n      } else {\n        node[subNode.name] = value\n      }\n    } else if (name === 'Connections' && subNode.name === 'C') {\n      const array = []\n\n      subNode.propertyList.forEach(function (property, i) {\n        // first Connection is FBX type (OO, OP, etc.). We'll discard these\n        if (i !== 0) array.push(property)\n      })\n\n      if (node.connections === undefined) {\n        node.connections = []\n      }\n\n      node.connections.push(array)\n    } else if (subNode.name === 'Properties70') {\n      const keys = Object.keys(subNode)\n\n      keys.forEach(function (key) {\n        node[key] = subNode[key]\n      })\n    } else if (name === 'Properties70' && subNode.name === 'P') {\n      let innerPropName = subNode.propertyList[0]\n      let innerPropType1 = subNode.propertyList[1]\n      const innerPropType2 = subNode.propertyList[2]\n      const innerPropFlag = subNode.propertyList[3]\n      let innerPropValue\n\n      if (innerPropName.indexOf('Lcl ') === 0) innerPropName = innerPropName.replace('Lcl ', 'Lcl_')\n      if (innerPropType1.indexOf('Lcl ') === 0) innerPropType1 = innerPropType1.replace('Lcl ', 'Lcl_')\n\n      if (\n        innerPropType1 === 'Color' ||\n        innerPropType1 === 'ColorRGB' ||\n        innerPropType1 === 'Vector' ||\n        innerPropType1 === 'Vector3D' ||\n        innerPropType1.indexOf('Lcl_') === 0\n      ) {\n        innerPropValue = [subNode.propertyList[4], subNode.propertyList[5], subNode.propertyList[6]]\n      } else {\n        innerPropValue = subNode.propertyList[4]\n      }\n\n      // this will be copied to parent, see above\n      node[innerPropName] = {\n        type: innerPropType1,\n        type2: innerPropType2,\n        flag: innerPropFlag,\n        value: innerPropValue,\n      }\n    } else if (node[subNode.name] === undefined) {\n      if (typeof subNode.id === 'number') {\n        node[subNode.name] = {}\n        node[subNode.name][subNode.id] = subNode\n      } else {\n        node[subNode.name] = subNode\n      }\n    } else {\n      if (subNode.name === 'PoseNode') {\n        if (!Array.isArray(node[subNode.name])) {\n          node[subNode.name] = [node[subNode.name]]\n        }\n\n        node[subNode.name].push(subNode)\n      } else if (node[subNode.name][subNode.id] === undefined) {\n        node[subNode.name][subNode.id] = subNode\n      }\n    }\n  }\n\n  parseProperty(reader) {\n    const type = reader.getString(1)\n    let length\n\n    switch (type) {\n      case 'C':\n        return reader.getBoolean()\n\n      case 'D':\n        return reader.getFloat64()\n\n      case 'F':\n        return reader.getFloat32()\n\n      case 'I':\n        return reader.getInt32()\n\n      case 'L':\n        return reader.getInt64()\n\n      case 'R':\n        length = reader.getUint32()\n        return reader.getArrayBuffer(length)\n\n      case 'S':\n        length = reader.getUint32()\n        return reader.getString(length)\n\n      case 'Y':\n        return reader.getInt16()\n\n      case 'b':\n      case 'c':\n      case 'd':\n      case 'f':\n      case 'i':\n      case 'l':\n        const arrayLength = reader.getUint32()\n        const encoding = reader.getUint32() // 0: non-compressed, 1: compressed\n        const compressedLength = reader.getUint32()\n\n        if (encoding === 0) {\n          switch (type) {\n            case 'b':\n            case 'c':\n              return reader.getBooleanArray(arrayLength)\n\n            case 'd':\n              return reader.getFloat64Array(arrayLength)\n\n            case 'f':\n              return reader.getFloat32Array(arrayLength)\n\n            case 'i':\n              return reader.getInt32Array(arrayLength)\n\n            case 'l':\n              return reader.getInt64Array(arrayLength)\n          }\n        }\n\n        const data = unzlibSync(new Uint8Array(reader.getArrayBuffer(compressedLength)))\n        const reader2 = new BinaryReader(data.buffer)\n\n        switch (type) {\n          case 'b':\n          case 'c':\n            return reader2.getBooleanArray(arrayLength)\n\n          case 'd':\n            return reader2.getFloat64Array(arrayLength)\n\n          case 'f':\n            return reader2.getFloat32Array(arrayLength)\n\n          case 'i':\n            return reader2.getInt32Array(arrayLength)\n\n          case 'l':\n            return reader2.getInt64Array(arrayLength)\n        }\n\n      default:\n        throw new Error('THREE.FBXLoader: Unknown property type ' + type)\n    }\n  }\n}\n\nclass BinaryReader {\n  constructor(buffer, littleEndian) {\n    this.dv = new DataView(buffer)\n    this.offset = 0\n    this.littleEndian = littleEndian !== undefined ? littleEndian : true\n  }\n\n  getOffset() {\n    return this.offset\n  }\n\n  size() {\n    return this.dv.buffer.byteLength\n  }\n\n  skip(length) {\n    this.offset += length\n  }\n\n  // seems like true/false representation depends on exporter.\n  // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)\n  // then sees LSB.\n  getBoolean() {\n    return (this.getUint8() & 1) === 1\n  }\n\n  getBooleanArray(size) {\n    const a = []\n\n    for (let i = 0; i < size; i++) {\n      a.push(this.getBoolean())\n    }\n\n    return a\n  }\n\n  getUint8() {\n    const value = this.dv.getUint8(this.offset)\n    this.offset += 1\n    return value\n  }\n\n  getInt16() {\n    const value = this.dv.getInt16(this.offset, this.littleEndian)\n    this.offset += 2\n    return value\n  }\n\n  getInt32() {\n    const value = this.dv.getInt32(this.offset, this.littleEndian)\n    this.offset += 4\n    return value\n  }\n\n  getInt32Array(size) {\n    const a = []\n\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt32())\n    }\n\n    return a\n  }\n\n  getUint32() {\n    const value = this.dv.getUint32(this.offset, this.littleEndian)\n    this.offset += 4\n    return value\n  }\n\n  // JavaScript doesn't support 64-bit integer so calculate this here\n  // 1 << 32 will return 1 so using multiply operation instead here.\n  // There's a possibility that this method returns wrong value if the value\n  // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.\n  // TODO: safely handle 64-bit integer\n  getInt64() {\n    let low, high\n\n    if (this.littleEndian) {\n      low = this.getUint32()\n      high = this.getUint32()\n    } else {\n      high = this.getUint32()\n      low = this.getUint32()\n    }\n\n    // calculate negative value\n    if (high & 0x80000000) {\n      high = ~high & 0xffffffff\n      low = ~low & 0xffffffff\n\n      if (low === 0xffffffff) high = (high + 1) & 0xffffffff\n\n      low = (low + 1) & 0xffffffff\n\n      return -(high * 0x100000000 + low)\n    }\n\n    return high * 0x100000000 + low\n  }\n\n  getInt64Array(size) {\n    const a = []\n\n    for (let i = 0; i < size; i++) {\n      a.push(this.getInt64())\n    }\n\n    return a\n  }\n\n  // Note: see getInt64() comment\n  getUint64() {\n    let low, high\n\n    if (this.littleEndian) {\n      low = this.getUint32()\n      high = this.getUint32()\n    } else {\n      high = this.getUint32()\n      low = this.getUint32()\n    }\n\n    return high * 0x100000000 + low\n  }\n\n  getFloat32() {\n    const value = this.dv.getFloat32(this.offset, this.littleEndian)\n    this.offset += 4\n    return value\n  }\n\n  getFloat32Array(size) {\n    const a = []\n\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat32())\n    }\n\n    return a\n  }\n\n  getFloat64() {\n    const value = this.dv.getFloat64(this.offset, this.littleEndian)\n    this.offset += 8\n    return value\n  }\n\n  getFloat64Array(size) {\n    const a = []\n\n    for (let i = 0; i < size; i++) {\n      a.push(this.getFloat64())\n    }\n\n    return a\n  }\n\n  getArrayBuffer(size) {\n    const value = this.dv.buffer.slice(this.offset, this.offset + size)\n    this.offset += size\n    return value\n  }\n\n  getString(size) {\n    // note: safari 9 doesn't support Uint8Array.indexOf; create intermediate array instead\n    let a = []\n\n    for (let i = 0; i < size; i++) {\n      a[i] = this.getUint8()\n    }\n\n    const nullByte = a.indexOf(0)\n    if (nullByte >= 0) a = a.slice(0, nullByte)\n\n    return decodeText(new Uint8Array(a))\n  }\n}\n\n// FBXTree holds a representation of the FBX data, returned by the TextParser ( FBX ASCII format)\n// and BinaryParser( FBX Binary format)\nclass FBXTree {\n  add(key, val) {\n    this[key] = val\n  }\n}\n\n// ************** UTILITY FUNCTIONS **************\n\nfunction isFbxFormatBinary(buffer) {\n  const CORRECT = 'Kaydara\\u0020FBX\\u0020Binary\\u0020\\u0020\\0'\n\n  return buffer.byteLength >= CORRECT.length && CORRECT === convertArrayBufferToString(buffer, 0, CORRECT.length)\n}\n\nfunction isFbxFormatASCII(text) {\n  const CORRECT = [\n    'K',\n    'a',\n    'y',\n    'd',\n    'a',\n    'r',\n    'a',\n    '\\\\',\n    'F',\n    'B',\n    'X',\n    '\\\\',\n    'B',\n    'i',\n    'n',\n    'a',\n    'r',\n    'y',\n    '\\\\',\n    '\\\\',\n  ]\n\n  let cursor = 0\n\n  function read(offset) {\n    const result = text[offset - 1]\n    text = text.slice(cursor + offset)\n    cursor++\n    return result\n  }\n\n  for (let i = 0; i < CORRECT.length; ++i) {\n    const num = read(1)\n    if (num === CORRECT[i]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction getFbxVersion(text) {\n  const versionRegExp = /FBXVersion: (\\d+)/\n  const match = text.match(versionRegExp)\n\n  if (match) {\n    const version = parseInt(match[1])\n    return version\n  }\n\n  throw new Error('THREE.FBXLoader: Cannot find the version number for the file given.')\n}\n\n// Converts FBX ticks into real time seconds.\nfunction convertFBXTimeToSeconds(time) {\n  return time / 46186158000\n}\n\nconst dataArray = []\n\n// extracts the data from the correct position in the FBX array based on indexing type\nfunction getData(polygonVertexIndex, polygonIndex, vertexIndex, infoObject) {\n  let index\n\n  switch (infoObject.mappingType) {\n    case 'ByPolygonVertex':\n      index = polygonVertexIndex\n      break\n    case 'ByPolygon':\n      index = polygonIndex\n      break\n    case 'ByVertice':\n      index = vertexIndex\n      break\n    case 'AllSame':\n      index = infoObject.indices[0]\n      break\n    default:\n      console.warn('THREE.FBXLoader: unknown attribute mapping type ' + infoObject.mappingType)\n  }\n\n  if (infoObject.referenceType === 'IndexToDirect') index = infoObject.indices[index]\n\n  const from = index * infoObject.dataSize\n  const to = from + infoObject.dataSize\n\n  return slice(dataArray, infoObject.buffer, from, to)\n}\n\nconst tempEuler = /* @__PURE__ */ new Euler()\nconst tempVec = /* @__PURE__ */ new Vector3()\n\n// generate transformation from FBX transform data\n// ref: https://help.autodesk.com/view/FBX/2017/ENU/?guid=__files_GUID_10CDD63C_79C1_4F2D_BB28_AD2BE65A02ED_htm\n// ref: http://docs.autodesk.com/FBX/2014/ENU/FBX-SDK-Documentation/index.html?url=cpp_ref/_transformations_2main_8cxx-example.html,topicNumber=cpp_ref__transformations_2main_8cxx_example_htmlfc10a1e1-b18d-4e72-9dc0-70d0f1959f5e\nfunction generateTransform(transformData) {\n  const lTranslationM = new Matrix4()\n  const lPreRotationM = new Matrix4()\n  const lRotationM = new Matrix4()\n  const lPostRotationM = new Matrix4()\n\n  const lScalingM = new Matrix4()\n  const lScalingPivotM = new Matrix4()\n  const lScalingOffsetM = new Matrix4()\n  const lRotationOffsetM = new Matrix4()\n  const lRotationPivotM = new Matrix4()\n\n  const lParentGX = new Matrix4()\n  const lParentLX = new Matrix4()\n  const lGlobalT = new Matrix4()\n\n  const inheritType = transformData.inheritType ? transformData.inheritType : 0\n\n  if (transformData.translation) lTranslationM.setPosition(tempVec.fromArray(transformData.translation))\n\n  if (transformData.preRotation) {\n    const array = transformData.preRotation.map(MathUtils.degToRad)\n    array.push(transformData.eulerOrder)\n    lPreRotationM.makeRotationFromEuler(tempEuler.fromArray(array))\n  }\n\n  if (transformData.rotation) {\n    const array = transformData.rotation.map(MathUtils.degToRad)\n    array.push(transformData.eulerOrder)\n    lRotationM.makeRotationFromEuler(tempEuler.fromArray(array))\n  }\n\n  if (transformData.postRotation) {\n    const array = transformData.postRotation.map(MathUtils.degToRad)\n    array.push(transformData.eulerOrder)\n    lPostRotationM.makeRotationFromEuler(tempEuler.fromArray(array))\n    lPostRotationM.invert()\n  }\n\n  if (transformData.scale) lScalingM.scale(tempVec.fromArray(transformData.scale))\n\n  // Pivots and offsets\n  if (transformData.scalingOffset) lScalingOffsetM.setPosition(tempVec.fromArray(transformData.scalingOffset))\n  if (transformData.scalingPivot) lScalingPivotM.setPosition(tempVec.fromArray(transformData.scalingPivot))\n  if (transformData.rotationOffset) lRotationOffsetM.setPosition(tempVec.fromArray(transformData.rotationOffset))\n  if (transformData.rotationPivot) lRotationPivotM.setPosition(tempVec.fromArray(transformData.rotationPivot))\n\n  // parent transform\n  if (transformData.parentMatrixWorld) {\n    lParentLX.copy(transformData.parentMatrix)\n    lParentGX.copy(transformData.parentMatrixWorld)\n  }\n\n  const lLRM = lPreRotationM.clone().multiply(lRotationM).multiply(lPostRotationM)\n  // Global Rotation\n  const lParentGRM = new Matrix4()\n  lParentGRM.extractRotation(lParentGX)\n\n  // Global Shear*Scaling\n  const lParentTM = new Matrix4()\n  lParentTM.copyPosition(lParentGX)\n\n  const lParentGRSM = lParentTM.clone().invert().multiply(lParentGX)\n  const lParentGSM = lParentGRM.clone().invert().multiply(lParentGRSM)\n  const lLSM = lScalingM\n\n  const lGlobalRS = new Matrix4()\n\n  if (inheritType === 0) {\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM).multiply(lLSM)\n  } else if (inheritType === 1) {\n    lGlobalRS.copy(lParentGRM).multiply(lParentGSM).multiply(lLRM).multiply(lLSM)\n  } else {\n    const lParentLSM = new Matrix4().scale(new Vector3().setFromMatrixScale(lParentLX))\n    const lParentLSM_inv = lParentLSM.clone().invert()\n    const lParentGSM_noLocal = lParentGSM.clone().multiply(lParentLSM_inv)\n\n    lGlobalRS.copy(lParentGRM).multiply(lLRM).multiply(lParentGSM_noLocal).multiply(lLSM)\n  }\n\n  const lRotationPivotM_inv = lRotationPivotM.clone().invert()\n  const lScalingPivotM_inv = lScalingPivotM.clone().invert()\n  // Calculate the local transform matrix\n  let lTransform = lTranslationM\n    .clone()\n    .multiply(lRotationOffsetM)\n    .multiply(lRotationPivotM)\n    .multiply(lPreRotationM)\n    .multiply(lRotationM)\n    .multiply(lPostRotationM)\n    .multiply(lRotationPivotM_inv)\n    .multiply(lScalingOffsetM)\n    .multiply(lScalingPivotM)\n    .multiply(lScalingM)\n    .multiply(lScalingPivotM_inv)\n\n  const lLocalTWithAllPivotAndOffsetInfo = new Matrix4().copyPosition(lTransform)\n\n  const lGlobalTranslation = lParentGX.clone().multiply(lLocalTWithAllPivotAndOffsetInfo)\n  lGlobalT.copyPosition(lGlobalTranslation)\n\n  lTransform = lGlobalT.clone().multiply(lGlobalRS)\n\n  // from global to local\n  lTransform.premultiply(lParentGX.invert())\n\n  return lTransform\n}\n\n// Returns the three.js intrinsic Euler order corresponding to FBX extrinsic Euler order\n// ref: http://help.autodesk.com/view/FBX/2017/ENU/?guid=__cpp_ref_class_fbx_euler_html\nfunction getEulerOrder(order) {\n  order = order || 0\n\n  const enums = [\n    'ZYX', // -> XYZ extrinsic\n    'YZX', // -> XZY extrinsic\n    'XZY', // -> YZX extrinsic\n    'ZXY', // -> YXZ extrinsic\n    'YXZ', // -> ZXY extrinsic\n    'XYZ', // -> ZYX extrinsic\n    //'SphericXYZ', // not possible to support\n  ]\n\n  if (order === 6) {\n    console.warn('THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect.')\n    return enums[0]\n  }\n\n  return enums[order]\n}\n\n// Parses comma separated list of numbers and returns them an array.\n// Used internally by the TextParser\nfunction parseNumberArray(value) {\n  const array = value.split(',').map(function (val) {\n    return parseFloat(val)\n  })\n\n  return array\n}\n\nfunction convertArrayBufferToString(buffer, from, to) {\n  if (from === undefined) from = 0\n  if (to === undefined) to = buffer.byteLength\n\n  return decodeText(new Uint8Array(buffer, from, to))\n}\n\nfunction append(a, b) {\n  for (let i = 0, j = a.length, l = b.length; i < l; i++, j++) {\n    a[j] = b[i]\n  }\n}\n\nfunction slice(a, b, from, to) {\n  for (let i = from, j = 0; i < to; i++, j++) {\n    a[j] = b[i]\n  }\n\n  return a\n}\n\n// inject array a2 into array a1 at index\nfunction inject(a1, index, a2) {\n  return a1.slice(0, index).concat(a2).concat(a1.slice(index))\n}\n\nexport { FBXLoader }\n"],"names":["child","material","skeleton"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 21825, "column": 0}, "map": {"version":3,"file":"WorkerPool.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/utils/WorkerPool.js"],"sourcesContent":["/**\n * @author Deepkolos / https://github.com/deepkolos\n */\n\nexport class WorkerPool {\n  constructor(pool = 4) {\n    this.pool = pool\n    this.queue = []\n    this.workers = []\n    this.workersResolve = []\n    this.workerStatus = 0\n  }\n\n  _initWorker(workerId) {\n    if (!this.workers[workerId]) {\n      const worker = this.workerCreator()\n      worker.addEventListener('message', this._onMessage.bind(this, workerId))\n      this.workers[workerId] = worker\n    }\n  }\n\n  _getIdleWorker() {\n    for (let i = 0; i < this.pool; i++) if (!(this.workerStatus & (1 << i))) return i\n\n    return -1\n  }\n\n  _onMessage(workerId, msg) {\n    const resolve = this.workersResolve[workerId]\n    resolve && resolve(msg)\n\n    if (this.queue.length) {\n      const { resolve, msg, transfer } = this.queue.shift()\n      this.workersResolve[workerId] = resolve\n      this.workers[workerId].postMessage(msg, transfer)\n    } else {\n      this.workerStatus ^= 1 << workerId\n    }\n  }\n\n  setWorkerCreator(workerCreator) {\n    this.workerCreator = workerCreator\n  }\n\n  setWorkerLimit(pool) {\n    this.pool = pool\n  }\n\n  postMessage(msg, transfer) {\n    return new Promise((resolve) => {\n      const workerId = this._getIdleWorker()\n\n      if (workerId !== -1) {\n        this._initWorker(workerId)\n        this.workerStatus |= 1 << workerId\n        this.workersResolve[workerId] = resolve\n        this.workers[workerId].postMessage(msg, transfer)\n      } else {\n        this.queue.push({ resolve, msg, transfer })\n      }\n    })\n  }\n\n  dispose() {\n    this.workers.forEach((worker) => worker.terminate())\n    this.workersResolve.length = 0\n    this.workers.length = 0\n    this.queue.length = 0\n    this.workerStatus = 0\n  }\n}\n"],"names":["resolve","msg"],"mappings":";;;AAIO,MAAM,WAAW;IACtB,YAAY,OAAO,CAAA,CAAG;QACpB,IAAA,CAAK,IAAA,GAAO;QACZ,IAAA,CAAK,KAAA,GAAQ,CAAE,CAAA;QACf,IAAA,CAAK,OAAA,GAAU,CAAE,CAAA;QACjB,IAAA,CAAK,cAAA,GAAiB,CAAE,CAAA;QACxB,IAAA,CAAK,YAAA,GAAe;IACrB;IAED,YAAY,QAAA,EAAU;QACpB,IAAI,CAAC,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAA,EAAG;YAC3B,MAAM,SAAS,IAAA,CAAK,aAAA,CAAe;YACnC,OAAO,gBAAA,CAAiB,WAAW,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,IAAA,EAAM,QAAQ,CAAC;YACvE,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAA,GAAI;QAC1B;IACF;IAED,iBAAiB;QACf,IAAA,IAAS,IAAI,GAAG,IAAI,IAAA,CAAK,IAAA,EAAM,IAAK,IAAI,CAAA,CAAE,IAAA,CAAK,YAAA,GAAgB,KAAK,CAAA,GAAK,OAAO;QAEhF,OAAO,CAAA;IACR;IAED,WAAW,QAAA,EAAU,GAAA,EAAK;QACxB,MAAM,UAAU,IAAA,CAAK,cAAA,CAAe,QAAQ,CAAA;QAC5C,WAAW,QAAQ,GAAG;QAEtB,IAAI,IAAA,CAAK,KAAA,CAAM,MAAA,EAAQ;YACrB,MAAM,EAAE,SAAAA,QAAAA,EAAS,KAAAC,IAAAA,EAAK,QAAA,CAAU,CAAA,GAAG,IAAA,CAAK,KAAA,CAAM,KAAA,CAAO;YACrD,IAAA,CAAK,cAAA,CAAe,QAAQ,CAAA,GAAID;YAChC,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAA,CAAE,WAAA,CAAYC,MAAK,QAAQ;QACtD,OAAW;YACL,IAAA,CAAK,YAAA,IAAgB,KAAK;QAC3B;IACF;IAED,iBAAiB,aAAA,EAAe;QAC9B,IAAA,CAAK,aAAA,GAAgB;IACtB;IAED,eAAe,IAAA,EAAM;QACnB,IAAA,CAAK,IAAA,GAAO;IACb;IAED,YAAY,GAAA,EAAK,QAAA,EAAU;QACzB,OAAO,IAAI,QAAQ,CAAC,YAAY;YAC9B,MAAM,WAAW,IAAA,CAAK,cAAA,CAAgB;YAEtC,IAAI,aAAa,CAAA,GAAI;gBACnB,IAAA,CAAK,WAAA,CAAY,QAAQ;gBACzB,IAAA,CAAK,YAAA,IAAgB,KAAK;gBAC1B,IAAA,CAAK,cAAA,CAAe,QAAQ,CAAA,GAAI;gBAChC,IAAA,CAAK,OAAA,CAAQ,QAAQ,CAAA,CAAE,WAAA,CAAY,KAAK,QAAQ;YACxD,OAAa;gBACL,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK;oBAAE;oBAAS;oBAAK;gBAAA,CAAU;YAC3C;QACP,CAAK;IACF;IAED,UAAU;QACR,IAAA,CAAK,OAAA,CAAQ,OAAA,CAAQ,CAAC,SAAW,OAAO,SAAA,EAAW;QACnD,IAAA,CAAK,cAAA,CAAe,MAAA,GAAS;QAC7B,IAAA,CAAK,OAAA,CAAQ,MAAA,GAAS;QACtB,IAAA,CAAK,KAAA,CAAM,MAAA,GAAS;QACpB,IAAA,CAAK,YAAA,GAAe;IACrB;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 21897, "column": 0}, "map": {"version":3,"file":"ktx-parse.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/libs/ktx-parse.js"],"sourcesContent":["///////////////////////////////////////////////////\n// KTX2 Header.\n///////////////////////////////////////////////////\nconst KHR_SUPERCOMPRESSION_NONE = 0\nconst KHR_SUPERCOMPRESSION_BASISLZ = 1\nconst KHR_SUPERCOMPRESSION_ZSTD = 2\nconst KHR_SUPERCOMPRESSION_ZLIB = 3 ///////////////////////////////////////////////////\n// Data Format Descriptor (DFD).\n///////////////////////////////////////////////////\n\nconst KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT = 0\nconst KHR_DF_VENDORID_KHRONOS = 0\nconst KHR_DF_VERSION = 2\nconst KHR_DF_MODEL_UNSPECIFIED = 0\nconst KHR_DF_MODEL_RGBSDA = 1 // ...\n\nconst KHR_DF_MODEL_ETC1 = 160\nconst KHR_DF_MODEL_ETC2 = 161\nconst KHR_DF_MODEL_ASTC = 162\nconst KHR_DF_MODEL_ETC1S = 163\nconst KHR_DF_MODEL_UASTC = 166\nconst KHR_DF_FLAG_ALPHA_STRAIGHT = 0\nconst KHR_DF_FLAG_ALPHA_PREMULTIPLIED = 1\nconst KHR_DF_TRANSFER_UNSPECIFIED = 0\nconst KHR_DF_TRANSFER_LINEAR = 1\nconst KHR_DF_TRANSFER_SRGB = 2\nconst KHR_DF_TRANSFER_ITU = 3\nconst KHR_DF_TRANSFER_NTSC = 4\nconst KHR_DF_TRANSFER_SLOG = 5\nconst KHR_DF_TRANSFER_SLOG2 = 6\nconst KHR_DF_TRANSFER_BT1886 = 7\nconst KHR_DF_TRANSFER_HLG_OETF = 8\nconst KHR_DF_TRANSFER_HLG_EOTF = 9\nconst KHR_DF_TRANSFER_PQ_EOTF = 10\nconst KHR_DF_TRANSFER_PQ_OETF = 11\nconst KHR_DF_TRANSFER_DCIP3 = 12\nconst KHR_DF_TRANSFER_PAL_OETF = 13\nconst KHR_DF_TRANSFER_PAL625_EOTF = 14\nconst KHR_DF_TRANSFER_ST240 = 15\nconst KHR_DF_TRANSFER_ACESCC = 16\nconst KHR_DF_TRANSFER_ACESCCT = 17\nconst KHR_DF_TRANSFER_ADOBERGB = 18\nconst KHR_DF_PRIMARIES_UNSPECIFIED = 0\nconst KHR_DF_PRIMARIES_BT709 = 1\nconst KHR_DF_PRIMARIES_BT601_EBU = 2\nconst KHR_DF_PRIMARIES_BT601_SMPTE = 3\nconst KHR_DF_PRIMARIES_BT2020 = 4\nconst KHR_DF_PRIMARIES_CIEXYZ = 5\nconst KHR_DF_PRIMARIES_ACES = 6\nconst KHR_DF_PRIMARIES_ACESCC = 7\nconst KHR_DF_PRIMARIES_NTSC1953 = 8\nconst KHR_DF_PRIMARIES_PAL525 = 9\nconst KHR_DF_PRIMARIES_DISPLAYP3 = 10\nconst KHR_DF_PRIMARIES_ADOBERGB = 11\nconst KHR_DF_CHANNEL_RGBSDA_RED = 0\nconst KHR_DF_CHANNEL_RGBSDA_GREEN = 1\nconst KHR_DF_CHANNEL_RGBSDA_BLUE = 2\nconst KHR_DF_CHANNEL_RGBSDA_STENCIL = 13\nconst KHR_DF_CHANNEL_RGBSDA_DEPTH = 14\nconst KHR_DF_CHANNEL_RGBSDA_ALPHA = 15\nconst KHR_DF_SAMPLE_DATATYPE_FLOAT = 0x80\nconst KHR_DF_SAMPLE_DATATYPE_SIGNED = 0x40\nconst KHR_DF_SAMPLE_DATATYPE_EXPONENT = 0x20\nconst KHR_DF_SAMPLE_DATATYPE_LINEAR = 0x10 ///////////////////////////////////////////////////\n// VK FORMAT.\n///////////////////////////////////////////////////\n\nconst VK_FORMAT_UNDEFINED = 0\nconst VK_FORMAT_R4G4_UNORM_PACK8 = 1\nconst VK_FORMAT_R4G4B4A4_UNORM_PACK16 = 2\nconst VK_FORMAT_B4G4R4A4_UNORM_PACK16 = 3\nconst VK_FORMAT_R5G6B5_UNORM_PACK16 = 4\nconst VK_FORMAT_B5G6R5_UNORM_PACK16 = 5\nconst VK_FORMAT_R5G5B5A1_UNORM_PACK16 = 6\nconst VK_FORMAT_B5G5R5A1_UNORM_PACK16 = 7\nconst VK_FORMAT_A1R5G5B5_UNORM_PACK16 = 8\nconst VK_FORMAT_R8_UNORM = 9\nconst VK_FORMAT_R8_SNORM = 10\nconst VK_FORMAT_R8_UINT = 13\nconst VK_FORMAT_R8_SINT = 14\nconst VK_FORMAT_R8_SRGB = 15\nconst VK_FORMAT_R8G8_UNORM = 16\nconst VK_FORMAT_R8G8_SNORM = 17\nconst VK_FORMAT_R8G8_UINT = 20\nconst VK_FORMAT_R8G8_SINT = 21\nconst VK_FORMAT_R8G8_SRGB = 22\nconst VK_FORMAT_R8G8B8_UNORM = 23\nconst VK_FORMAT_R8G8B8_SNORM = 24\nconst VK_FORMAT_R8G8B8_UINT = 27\nconst VK_FORMAT_R8G8B8_SINT = 28\nconst VK_FORMAT_R8G8B8_SRGB = 29\nconst VK_FORMAT_B8G8R8_UNORM = 30\nconst VK_FORMAT_B8G8R8_SNORM = 31\nconst VK_FORMAT_B8G8R8_UINT = 34\nconst VK_FORMAT_B8G8R8_SINT = 35\nconst VK_FORMAT_B8G8R8_SRGB = 36\nconst VK_FORMAT_R8G8B8A8_UNORM = 37\nconst VK_FORMAT_R8G8B8A8_SNORM = 38\nconst VK_FORMAT_R8G8B8A8_UINT = 41\nconst VK_FORMAT_R8G8B8A8_SINT = 42\nconst VK_FORMAT_R8G8B8A8_SRGB = 43\nconst VK_FORMAT_B8G8R8A8_UNORM = 44\nconst VK_FORMAT_B8G8R8A8_SNORM = 45\nconst VK_FORMAT_B8G8R8A8_UINT = 48\nconst VK_FORMAT_B8G8R8A8_SINT = 49\nconst VK_FORMAT_B8G8R8A8_SRGB = 50\nconst VK_FORMAT_A2R10G10B10_UNORM_PACK32 = 58\nconst VK_FORMAT_A2R10G10B10_SNORM_PACK32 = 59\nconst VK_FORMAT_A2R10G10B10_UINT_PACK32 = 62\nconst VK_FORMAT_A2R10G10B10_SINT_PACK32 = 63\nconst VK_FORMAT_A2B10G10R10_UNORM_PACK32 = 64\nconst VK_FORMAT_A2B10G10R10_SNORM_PACK32 = 65\nconst VK_FORMAT_A2B10G10R10_UINT_PACK32 = 68\nconst VK_FORMAT_A2B10G10R10_SINT_PACK32 = 69\nconst VK_FORMAT_R16_UNORM = 70\nconst VK_FORMAT_R16_SNORM = 71\nconst VK_FORMAT_R16_UINT = 74\nconst VK_FORMAT_R16_SINT = 75\nconst VK_FORMAT_R16_SFLOAT = 76\nconst VK_FORMAT_R16G16_UNORM = 77\nconst VK_FORMAT_R16G16_SNORM = 78\nconst VK_FORMAT_R16G16_UINT = 81\nconst VK_FORMAT_R16G16_SINT = 82\nconst VK_FORMAT_R16G16_SFLOAT = 83\nconst VK_FORMAT_R16G16B16_UNORM = 84\nconst VK_FORMAT_R16G16B16_SNORM = 85\nconst VK_FORMAT_R16G16B16_UINT = 88\nconst VK_FORMAT_R16G16B16_SINT = 89\nconst VK_FORMAT_R16G16B16_SFLOAT = 90\nconst VK_FORMAT_R16G16B16A16_UNORM = 91\nconst VK_FORMAT_R16G16B16A16_SNORM = 92\nconst VK_FORMAT_R16G16B16A16_UINT = 95\nconst VK_FORMAT_R16G16B16A16_SINT = 96\nconst VK_FORMAT_R16G16B16A16_SFLOAT = 97\nconst VK_FORMAT_R32_UINT = 98\nconst VK_FORMAT_R32_SINT = 99\nconst VK_FORMAT_R32_SFLOAT = 100\nconst VK_FORMAT_R32G32_UINT = 101\nconst VK_FORMAT_R32G32_SINT = 102\nconst VK_FORMAT_R32G32_SFLOAT = 103\nconst VK_FORMAT_R32G32B32_UINT = 104\nconst VK_FORMAT_R32G32B32_SINT = 105\nconst VK_FORMAT_R32G32B32_SFLOAT = 106\nconst VK_FORMAT_R32G32B32A32_UINT = 107\nconst VK_FORMAT_R32G32B32A32_SINT = 108\nconst VK_FORMAT_R32G32B32A32_SFLOAT = 109\nconst VK_FORMAT_R64_UINT = 110\nconst VK_FORMAT_R64_SINT = 111\nconst VK_FORMAT_R64_SFLOAT = 112\nconst VK_FORMAT_R64G64_UINT = 113\nconst VK_FORMAT_R64G64_SINT = 114\nconst VK_FORMAT_R64G64_SFLOAT = 115\nconst VK_FORMAT_R64G64B64_UINT = 116\nconst VK_FORMAT_R64G64B64_SINT = 117\nconst VK_FORMAT_R64G64B64_SFLOAT = 118\nconst VK_FORMAT_R64G64B64A64_UINT = 119\nconst VK_FORMAT_R64G64B64A64_SINT = 120\nconst VK_FORMAT_R64G64B64A64_SFLOAT = 121\nconst VK_FORMAT_B10G11R11_UFLOAT_PACK32 = 122\nconst VK_FORMAT_E5B9G9R9_UFLOAT_PACK32 = 123\nconst VK_FORMAT_D16_UNORM = 124\nconst VK_FORMAT_X8_D24_UNORM_PACK32 = 125\nconst VK_FORMAT_D32_SFLOAT = 126\nconst VK_FORMAT_S8_UINT = 127\nconst VK_FORMAT_D16_UNORM_S8_UINT = 128\nconst VK_FORMAT_D24_UNORM_S8_UINT = 129\nconst VK_FORMAT_D32_SFLOAT_S8_UINT = 130\nconst VK_FORMAT_BC1_RGB_UNORM_BLOCK = 131\nconst VK_FORMAT_BC1_RGB_SRGB_BLOCK = 132\nconst VK_FORMAT_BC1_RGBA_UNORM_BLOCK = 133\nconst VK_FORMAT_BC1_RGBA_SRGB_BLOCK = 134\nconst VK_FORMAT_BC2_UNORM_BLOCK = 135\nconst VK_FORMAT_BC2_SRGB_BLOCK = 136\nconst VK_FORMAT_BC3_UNORM_BLOCK = 137\nconst VK_FORMAT_BC3_SRGB_BLOCK = 138\nconst VK_FORMAT_BC4_UNORM_BLOCK = 139\nconst VK_FORMAT_BC4_SNORM_BLOCK = 140\nconst VK_FORMAT_BC5_UNORM_BLOCK = 141\nconst VK_FORMAT_BC5_SNORM_BLOCK = 142\nconst VK_FORMAT_BC6H_UFLOAT_BLOCK = 143\nconst VK_FORMAT_BC6H_SFLOAT_BLOCK = 144\nconst VK_FORMAT_BC7_UNORM_BLOCK = 145\nconst VK_FORMAT_BC7_SRGB_BLOCK = 146\nconst VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK = 147\nconst VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK = 148\nconst VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK = 149\nconst VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK = 150\nconst VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK = 151\nconst VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK = 152\nconst VK_FORMAT_EAC_R11_UNORM_BLOCK = 153\nconst VK_FORMAT_EAC_R11_SNORM_BLOCK = 154\nconst VK_FORMAT_EAC_R11G11_UNORM_BLOCK = 155\nconst VK_FORMAT_EAC_R11G11_SNORM_BLOCK = 156\nconst VK_FORMAT_ASTC_4x4_UNORM_BLOCK = 157\nconst VK_FORMAT_ASTC_4x4_SRGB_BLOCK = 158\nconst VK_FORMAT_ASTC_5x4_UNORM_BLOCK = 159\nconst VK_FORMAT_ASTC_5x4_SRGB_BLOCK = 160\nconst VK_FORMAT_ASTC_5x5_UNORM_BLOCK = 161\nconst VK_FORMAT_ASTC_5x5_SRGB_BLOCK = 162\nconst VK_FORMAT_ASTC_6x5_UNORM_BLOCK = 163\nconst VK_FORMAT_ASTC_6x5_SRGB_BLOCK = 164\nconst VK_FORMAT_ASTC_6x6_UNORM_BLOCK = 165\nconst VK_FORMAT_ASTC_6x6_SRGB_BLOCK = 166\nconst VK_FORMAT_ASTC_8x5_UNORM_BLOCK = 167\nconst VK_FORMAT_ASTC_8x5_SRGB_BLOCK = 168\nconst VK_FORMAT_ASTC_8x6_UNORM_BLOCK = 169\nconst VK_FORMAT_ASTC_8x6_SRGB_BLOCK = 170\nconst VK_FORMAT_ASTC_8x8_UNORM_BLOCK = 171\nconst VK_FORMAT_ASTC_8x8_SRGB_BLOCK = 172\nconst VK_FORMAT_ASTC_10x5_UNORM_BLOCK = 173\nconst VK_FORMAT_ASTC_10x5_SRGB_BLOCK = 174\nconst VK_FORMAT_ASTC_10x6_UNORM_BLOCK = 175\nconst VK_FORMAT_ASTC_10x6_SRGB_BLOCK = 176\nconst VK_FORMAT_ASTC_10x8_UNORM_BLOCK = 177\nconst VK_FORMAT_ASTC_10x8_SRGB_BLOCK = 178\nconst VK_FORMAT_ASTC_10x10_UNORM_BLOCK = 179\nconst VK_FORMAT_ASTC_10x10_SRGB_BLOCK = 180\nconst VK_FORMAT_ASTC_12x10_UNORM_BLOCK = 181\nconst VK_FORMAT_ASTC_12x10_SRGB_BLOCK = 182\nconst VK_FORMAT_ASTC_12x12_UNORM_BLOCK = 183\nconst VK_FORMAT_ASTC_12x12_SRGB_BLOCK = 184\nconst VK_FORMAT_R10X6_UNORM_PACK16 = 1000156007\nconst VK_FORMAT_R10X6G10X6_UNORM_2PACK16 = 1000156008\nconst VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16 = 1000156009\nconst VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16 = 1000156010\nconst VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16 = 1000156011\nconst VK_FORMAT_R12X4_UNORM_PACK16 = 1000156017\nconst VK_FORMAT_R12X4G12X4_UNORM_2PACK16 = 1000156018\nconst VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16 = 1000156019\nconst VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16 = 1000156020\nconst VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16 = 1000156021\nconst VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG = 1000054000\nconst VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG = 1000054001\nconst VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG = 1000054002\nconst VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG = 1000054003\nconst VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG = 1000054004\nconst VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG = 1000054005\nconst VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG = 1000054006\nconst VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG = 1000054007\nconst VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT = 1000066000\nconst VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT = 1000066001\nconst VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT = 1000066002\nconst VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT = 1000066003\nconst VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT = 1000066004\nconst VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT = 1000066005\nconst VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT = 1000066006\nconst VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT = 1000066007\nconst VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT = 1000066008\nconst VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT = 1000066009\nconst VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT = 1000066010\nconst VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT = 1000066011\nconst VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT = 1000066012\nconst VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT = 1000066013\nconst VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT = 1000340000\nconst VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT = 1000340001\n\n/**\n * Represents an unpacked KTX 2.0 texture container. Data for individual mip levels are stored in\n * the `.levels` array, typically compressed in Basis Universal formats. Additional properties\n * provide metadata required to process, transcode, and upload these textures.\n */\n\nclass KTX2Container {\n  constructor() {\n    this.vkFormat = VK_FORMAT_UNDEFINED\n    this.typeSize = 1\n    this.pixelWidth = 0\n    this.pixelHeight = 0\n    this.pixelDepth = 0\n    this.layerCount = 0\n    this.faceCount = 1\n    this.supercompressionScheme = KHR_SUPERCOMPRESSION_NONE\n    this.levels = []\n    this.dataFormatDescriptor = [\n      {\n        vendorId: KHR_DF_VENDORID_KHRONOS,\n        descriptorType: KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT,\n        descriptorBlockSize: 0,\n        versionNumber: KHR_DF_VERSION,\n        colorModel: KHR_DF_MODEL_UNSPECIFIED,\n        colorPrimaries: KHR_DF_PRIMARIES_BT709,\n        transferFunction: KHR_DF_TRANSFER_SRGB,\n        flags: KHR_DF_FLAG_ALPHA_STRAIGHT,\n        texelBlockDimension: [0, 0, 0, 0],\n        bytesPlane: [0, 0, 0, 0, 0, 0, 0, 0],\n        samples: [],\n      },\n    ]\n    this.keyValue = {}\n    this.globalData = null\n  }\n}\n\nclass BufferReader {\n  constructor(data, byteOffset, byteLength, littleEndian) {\n    this._dataView = void 0\n    this._littleEndian = void 0\n    this._offset = void 0\n    this._dataView = new DataView(data.buffer, data.byteOffset + byteOffset, byteLength)\n    this._littleEndian = littleEndian\n    this._offset = 0\n  }\n\n  _nextUint8() {\n    const value = this._dataView.getUint8(this._offset)\n\n    this._offset += 1\n    return value\n  }\n\n  _nextUint16() {\n    const value = this._dataView.getUint16(this._offset, this._littleEndian)\n\n    this._offset += 2\n    return value\n  }\n\n  _nextUint32() {\n    const value = this._dataView.getUint32(this._offset, this._littleEndian)\n\n    this._offset += 4\n    return value\n  }\n\n  _nextUint64() {\n    const left = this._dataView.getUint32(this._offset, this._littleEndian)\n\n    const right = this._dataView.getUint32(this._offset + 4, this._littleEndian) // TODO(cleanup): Just test this...\n    // const value = this._littleEndian ? left + (2 ** 32 * right) : (2 ** 32 * left) + right;\n\n    const value = left + 2 ** 32 * right\n    this._offset += 8\n    return value\n  }\n\n  _nextInt32() {\n    const value = this._dataView.getInt32(this._offset, this._littleEndian)\n\n    this._offset += 4\n    return value\n  }\n\n  _nextUint8Array(len) {\n    const value = new Uint8Array(this._dataView.buffer, this._dataView.byteOffset + this._offset, len)\n    this._offset += len\n    return value\n  }\n\n  _skip(bytes) {\n    this._offset += bytes\n    return this\n  }\n\n  _scan(maxByteLength, term) {\n    if (term === void 0) {\n      term = 0x00\n    }\n\n    const byteOffset = this._offset\n    let byteLength = 0\n\n    while (this._dataView.getUint8(this._offset) !== term && byteLength < maxByteLength) {\n      byteLength++\n      this._offset++\n    }\n\n    if (byteLength < maxByteLength) this._offset++\n    return new Uint8Array(this._dataView.buffer, this._dataView.byteOffset + byteOffset, byteLength)\n  }\n}\n\n///////////////////////////////////////////////////\n// Common.\n///////////////////////////////////////////////////\nconst KTX_WRITER = 'KTX-Parse v' + '0.6.0'\nconst NUL = new Uint8Array([0x00]) ///////////////////////////////////////////////////\n// KTX2 Header.\n///////////////////////////////////////////////////\n\nconst KTX2_ID = [\n  // '', 'K', 'T', 'X', '2', '0', '', '\\r', '\\n', '\\x1A', '\\n'\n  0xab,\n  0x4b,\n  0x54,\n  0x58,\n  0x20,\n  0x32,\n  0x30,\n  0xbb,\n  0x0d,\n  0x0a,\n  0x1a,\n  0x0a,\n]\nconst HEADER_BYTE_LENGTH = 68 // 13 * 4 + 2 * 8\n\n/** Encodes text to an ArrayBuffer. */\nfunction encodeText(text) {\n  if (typeof TextEncoder !== 'undefined') {\n    return new TextEncoder().encode(text)\n  }\n\n  return Buffer.from(text)\n}\n/** Decodes an ArrayBuffer to text. */\n\nfunction decodeText(buffer) {\n  if (typeof TextDecoder !== 'undefined') {\n    return new TextDecoder().decode(buffer)\n  }\n\n  return Buffer.from(buffer).toString('utf8')\n}\n/** Concatenates N ArrayBuffers. */\n\nfunction concat(buffers) {\n  let totalByteLength = 0\n\n  for (const buffer of buffers) {\n    totalByteLength += buffer.byteLength\n  }\n\n  const result = new Uint8Array(totalByteLength)\n  let byteOffset = 0\n\n  for (const buffer of buffers) {\n    result.set(new Uint8Array(buffer), byteOffset)\n    byteOffset += buffer.byteLength\n  }\n\n  return result\n}\n\n/**\n * Parses a KTX 2.0 file, returning an unpacked {@link KTX2Container} instance with all associated\n * data. The container's mip levels and other binary data are pointers into the original file, not\n * copies, so the original file should not be overwritten after reading.\n *\n * @param data Bytes of KTX 2.0 file, as Uint8Array or Buffer.\n */\n\nfunction read(data) {\n  ///////////////////////////////////////////////////\n  // KTX 2.0 Identifier.\n  ///////////////////////////////////////////////////\n  const id = new Uint8Array(data.buffer, data.byteOffset, KTX2_ID.length)\n\n  if (\n    id[0] !== KTX2_ID[0] || // ''\n    id[1] !== KTX2_ID[1] || // 'K'\n    id[2] !== KTX2_ID[2] || // 'T'\n    id[3] !== KTX2_ID[3] || // 'X'\n    id[4] !== KTX2_ID[4] || // ' '\n    id[5] !== KTX2_ID[5] || // '2'\n    id[6] !== KTX2_ID[6] || // '0'\n    id[7] !== KTX2_ID[7] || // ''\n    id[8] !== KTX2_ID[8] || // '\\r'\n    id[9] !== KTX2_ID[9] || // '\\n'\n    id[10] !== KTX2_ID[10] || // '\\x1A'\n    id[11] !== KTX2_ID[11] // '\\n'\n  ) {\n    throw new Error('Missing KTX 2.0 identifier.')\n  }\n\n  const container = new KTX2Container() ///////////////////////////////////////////////////\n  // Header.\n  ///////////////////////////////////////////////////\n\n  const headerByteLength = 17 * Uint32Array.BYTES_PER_ELEMENT\n  const headerReader = new BufferReader(data, KTX2_ID.length, headerByteLength, true)\n  container.vkFormat = headerReader._nextUint32()\n  container.typeSize = headerReader._nextUint32()\n  container.pixelWidth = headerReader._nextUint32()\n  container.pixelHeight = headerReader._nextUint32()\n  container.pixelDepth = headerReader._nextUint32()\n  container.layerCount = headerReader._nextUint32()\n  container.faceCount = headerReader._nextUint32()\n\n  const levelCount = headerReader._nextUint32()\n\n  container.supercompressionScheme = headerReader._nextUint32()\n\n  const dfdByteOffset = headerReader._nextUint32()\n\n  const dfdByteLength = headerReader._nextUint32()\n\n  const kvdByteOffset = headerReader._nextUint32()\n\n  const kvdByteLength = headerReader._nextUint32()\n\n  const sgdByteOffset = headerReader._nextUint64()\n\n  const sgdByteLength = headerReader._nextUint64() ///////////////////////////////////////////////////\n  // Level Index.\n  ///////////////////////////////////////////////////\n\n  const levelByteLength = levelCount * 3 * 8\n  const levelReader = new BufferReader(data, KTX2_ID.length + headerByteLength, levelByteLength, true)\n\n  for (let i = 0; i < levelCount; i++) {\n    container.levels.push({\n      levelData: new Uint8Array(data.buffer, data.byteOffset + levelReader._nextUint64(), levelReader._nextUint64()),\n      uncompressedByteLength: levelReader._nextUint64(),\n    })\n  } ///////////////////////////////////////////////////\n  // Data Format Descriptor (DFD).\n  ///////////////////////////////////////////////////\n\n  const dfdReader = new BufferReader(data, dfdByteOffset, dfdByteLength, true)\n  const dfd = {\n    vendorId: dfdReader\n      ._skip(\n        4,\n        /* totalSize */\n      )\n      ._nextUint16(),\n    descriptorType: dfdReader._nextUint16(),\n    versionNumber: dfdReader._nextUint16(),\n    descriptorBlockSize: dfdReader._nextUint16(),\n    colorModel: dfdReader._nextUint8(),\n    colorPrimaries: dfdReader._nextUint8(),\n    transferFunction: dfdReader._nextUint8(),\n    flags: dfdReader._nextUint8(),\n    texelBlockDimension: [\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n    ],\n    bytesPlane: [\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n      dfdReader._nextUint8(),\n    ],\n    samples: [],\n  }\n  const sampleStart = 6\n  const sampleWords = 4\n  const numSamples = (dfd.descriptorBlockSize / 4 - sampleStart) / sampleWords\n\n  for (let i = 0; i < numSamples; i++) {\n    const sample = {\n      bitOffset: dfdReader._nextUint16(),\n      bitLength: dfdReader._nextUint8(),\n      channelType: dfdReader._nextUint8(),\n      samplePosition: [dfdReader._nextUint8(), dfdReader._nextUint8(), dfdReader._nextUint8(), dfdReader._nextUint8()],\n      sampleLower: -Infinity,\n      sampleUpper: Infinity,\n    }\n\n    if (sample.channelType & KHR_DF_SAMPLE_DATATYPE_SIGNED) {\n      sample.sampleLower = dfdReader._nextInt32()\n      sample.sampleUpper = dfdReader._nextInt32()\n    } else {\n      sample.sampleLower = dfdReader._nextUint32()\n      sample.sampleUpper = dfdReader._nextUint32()\n    }\n\n    dfd.samples[i] = sample\n  }\n\n  container.dataFormatDescriptor.length = 0\n  container.dataFormatDescriptor.push(dfd) ///////////////////////////////////////////////////\n  // Key/Value Data (KVD).\n  ///////////////////////////////////////////////////\n\n  const kvdReader = new BufferReader(data, kvdByteOffset, kvdByteLength, true)\n\n  while (kvdReader._offset < kvdByteLength) {\n    const keyValueByteLength = kvdReader._nextUint32()\n\n    const keyData = kvdReader._scan(keyValueByteLength)\n\n    const key = decodeText(keyData)\n    container.keyValue[key] = kvdReader._nextUint8Array(keyValueByteLength - keyData.byteLength - 1)\n\n    if (key.match(/^ktx/i)) {\n      const text = decodeText(container.keyValue[key])\n      container.keyValue[key] = text.substring(0, text.lastIndexOf('\\x00'))\n    }\n\n    const kvPadding = keyValueByteLength % 4 ? 4 - (keyValueByteLength % 4) : 0 // align(4)\n    // 4-byte alignment.\n\n    kvdReader._skip(kvPadding)\n  } ///////////////////////////////////////////////////\n  // Supercompression Global Data (SGD).\n  ///////////////////////////////////////////////////\n\n  if (sgdByteLength <= 0) return container\n  const sgdReader = new BufferReader(data, sgdByteOffset, sgdByteLength, true)\n\n  const endpointCount = sgdReader._nextUint16()\n\n  const selectorCount = sgdReader._nextUint16()\n\n  const endpointsByteLength = sgdReader._nextUint32()\n\n  const selectorsByteLength = sgdReader._nextUint32()\n\n  const tablesByteLength = sgdReader._nextUint32()\n\n  const extendedByteLength = sgdReader._nextUint32()\n\n  const imageDescs = []\n\n  for (let i = 0; i < levelCount; i++) {\n    imageDescs.push({\n      imageFlags: sgdReader._nextUint32(),\n      rgbSliceByteOffset: sgdReader._nextUint32(),\n      rgbSliceByteLength: sgdReader._nextUint32(),\n      alphaSliceByteOffset: sgdReader._nextUint32(),\n      alphaSliceByteLength: sgdReader._nextUint32(),\n    })\n  }\n\n  const endpointsByteOffset = sgdByteOffset + sgdReader._offset\n  const selectorsByteOffset = endpointsByteOffset + endpointsByteLength\n  const tablesByteOffset = selectorsByteOffset + selectorsByteLength\n  const extendedByteOffset = tablesByteOffset + tablesByteLength\n  const endpointsData = new Uint8Array(data.buffer, data.byteOffset + endpointsByteOffset, endpointsByteLength)\n  const selectorsData = new Uint8Array(data.buffer, data.byteOffset + selectorsByteOffset, selectorsByteLength)\n  const tablesData = new Uint8Array(data.buffer, data.byteOffset + tablesByteOffset, tablesByteLength)\n  const extendedData = new Uint8Array(data.buffer, data.byteOffset + extendedByteOffset, extendedByteLength)\n  container.globalData = {\n    endpointCount,\n    selectorCount,\n    imageDescs,\n    endpointsData,\n    selectorsData,\n    tablesData,\n    extendedData,\n  }\n  return container\n}\n\nconst DEFAULT_OPTIONS = {\n  keepWriter: false,\n}\n/**\n * Serializes a {@link KTX2Container} instance to a KTX 2.0 file. Mip levels and other binary data\n * are copied into the resulting Uint8Array, so the original container can safely be edited or\n * destroyed after it is serialized.\n *\n * Options:\n * - keepWriter: If true, 'KTXWriter' key/value field is written as provided by the container.\n * \t\tOtherwise, a string for the current ktx-parse version is generated. Default: false.\n *\n * @param container\n * @param options\n */\n\nfunction write(container, options) {\n  if (options === void 0) {\n    options = {}\n  }\n\n  options = { ...DEFAULT_OPTIONS, ...options } ///////////////////////////////////////////////////\n  // Supercompression Global Data (SGD).\n  ///////////////////////////////////////////////////\n\n  let sgdBuffer = new ArrayBuffer(0)\n\n  if (container.globalData) {\n    const sgdHeaderBuffer = new ArrayBuffer(20 + container.globalData.imageDescs.length * 5 * 4)\n    const sgdHeaderView = new DataView(sgdHeaderBuffer)\n    sgdHeaderView.setUint16(0, container.globalData.endpointCount, true)\n    sgdHeaderView.setUint16(2, container.globalData.selectorCount, true)\n    sgdHeaderView.setUint32(4, container.globalData.endpointsData.byteLength, true)\n    sgdHeaderView.setUint32(8, container.globalData.selectorsData.byteLength, true)\n    sgdHeaderView.setUint32(12, container.globalData.tablesData.byteLength, true)\n    sgdHeaderView.setUint32(16, container.globalData.extendedData.byteLength, true)\n\n    for (let i = 0; i < container.globalData.imageDescs.length; i++) {\n      const imageDesc = container.globalData.imageDescs[i]\n      sgdHeaderView.setUint32(20 + i * 5 * 4 + 0, imageDesc.imageFlags, true)\n      sgdHeaderView.setUint32(20 + i * 5 * 4 + 4, imageDesc.rgbSliceByteOffset, true)\n      sgdHeaderView.setUint32(20 + i * 5 * 4 + 8, imageDesc.rgbSliceByteLength, true)\n      sgdHeaderView.setUint32(20 + i * 5 * 4 + 12, imageDesc.alphaSliceByteOffset, true)\n      sgdHeaderView.setUint32(20 + i * 5 * 4 + 16, imageDesc.alphaSliceByteLength, true)\n    }\n\n    sgdBuffer = concat([\n      sgdHeaderBuffer,\n      container.globalData.endpointsData,\n      container.globalData.selectorsData,\n      container.globalData.tablesData,\n      container.globalData.extendedData,\n    ])\n  } ///////////////////////////////////////////////////\n  // Key/Value Data (KVD).\n  ///////////////////////////////////////////////////\n\n  const keyValueData = []\n  let keyValue = container.keyValue\n\n  if (!options.keepWriter) {\n    keyValue = { ...container.keyValue, KTXwriter: KTX_WRITER }\n  }\n\n  for (const key in keyValue) {\n    const value = keyValue[key]\n    const keyData = encodeText(key)\n    const valueData = typeof value === 'string' ? concat([encodeText(value), NUL]) : value\n    const kvByteLength = keyData.byteLength + 1 + valueData.byteLength\n    const kvPadding = kvByteLength % 4 ? 4 - (kvByteLength % 4) : 0 // align(4)\n\n    keyValueData.push(\n      concat([\n        new Uint32Array([kvByteLength]),\n        keyData,\n        NUL,\n        valueData,\n        new Uint8Array(kvPadding).fill(0x00), // align(4)\n      ]),\n    )\n  }\n\n  const kvdBuffer = concat(keyValueData) ///////////////////////////////////////////////////\n  // Data Format Descriptor (DFD).\n  ///////////////////////////////////////////////////\n\n  if (\n    container.dataFormatDescriptor.length !== 1 ||\n    container.dataFormatDescriptor[0].descriptorType !== KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT\n  ) {\n    throw new Error('Only BASICFORMAT Data Format Descriptor output supported.')\n  }\n\n  const dfd = container.dataFormatDescriptor[0]\n  const dfdBuffer = new ArrayBuffer(28 + dfd.samples.length * 16)\n  const dfdView = new DataView(dfdBuffer)\n  const descriptorBlockSize = 24 + dfd.samples.length * 16\n  dfdView.setUint32(0, dfdBuffer.byteLength, true)\n  dfdView.setUint16(4, dfd.vendorId, true)\n  dfdView.setUint16(6, dfd.descriptorType, true)\n  dfdView.setUint16(8, dfd.versionNumber, true)\n  dfdView.setUint16(10, descriptorBlockSize, true)\n  dfdView.setUint8(12, dfd.colorModel)\n  dfdView.setUint8(13, dfd.colorPrimaries)\n  dfdView.setUint8(14, dfd.transferFunction)\n  dfdView.setUint8(15, dfd.flags)\n\n  if (!Array.isArray(dfd.texelBlockDimension)) {\n    throw new Error('texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.')\n  }\n\n  dfdView.setUint8(16, dfd.texelBlockDimension[0])\n  dfdView.setUint8(17, dfd.texelBlockDimension[1])\n  dfdView.setUint8(18, dfd.texelBlockDimension[2])\n  dfdView.setUint8(19, dfd.texelBlockDimension[3])\n\n  for (let i = 0; i < 8; i++) dfdView.setUint8(20 + i, dfd.bytesPlane[i])\n\n  for (let i = 0; i < dfd.samples.length; i++) {\n    const sample = dfd.samples[i]\n    const sampleByteOffset = 28 + i * 16\n\n    if (sample.channelID) {\n      throw new Error('channelID has been renamed to channelType.')\n    }\n\n    dfdView.setUint16(sampleByteOffset + 0, sample.bitOffset, true)\n    dfdView.setUint8(sampleByteOffset + 2, sample.bitLength)\n    dfdView.setUint8(sampleByteOffset + 3, sample.channelType)\n    dfdView.setUint8(sampleByteOffset + 4, sample.samplePosition[0])\n    dfdView.setUint8(sampleByteOffset + 5, sample.samplePosition[1])\n    dfdView.setUint8(sampleByteOffset + 6, sample.samplePosition[2])\n    dfdView.setUint8(sampleByteOffset + 7, sample.samplePosition[3])\n\n    if (sample.channelType & KHR_DF_SAMPLE_DATATYPE_SIGNED) {\n      dfdView.setInt32(sampleByteOffset + 8, sample.sampleLower, true)\n      dfdView.setInt32(sampleByteOffset + 12, sample.sampleUpper, true)\n    } else {\n      dfdView.setUint32(sampleByteOffset + 8, sample.sampleLower, true)\n      dfdView.setUint32(sampleByteOffset + 12, sample.sampleUpper, true)\n    }\n  } ///////////////////////////////////////////////////\n  // Data alignment.\n  ///////////////////////////////////////////////////\n\n  const dfdByteOffset = KTX2_ID.length + HEADER_BYTE_LENGTH + container.levels.length * 3 * 8\n  const kvdByteOffset = dfdByteOffset + dfdBuffer.byteLength\n  let sgdByteOffset = sgdBuffer.byteLength > 0 ? kvdByteOffset + kvdBuffer.byteLength : 0\n  if (sgdByteOffset % 8) sgdByteOffset += 8 - (sgdByteOffset % 8) // align(8)\n  ///////////////////////////////////////////////////\n  // Level Index.\n  ///////////////////////////////////////////////////\n\n  const levelData = []\n  const levelIndex = new DataView(new ArrayBuffer(container.levels.length * 3 * 8))\n  let levelDataByteOffset = (sgdByteOffset || kvdByteOffset + kvdBuffer.byteLength) + sgdBuffer.byteLength\n\n  for (let i = 0; i < container.levels.length; i++) {\n    const level = container.levels[i]\n    levelData.push(level.levelData)\n    levelIndex.setBigUint64(i * 24 + 0, BigInt(levelDataByteOffset), true)\n    levelIndex.setBigUint64(i * 24 + 8, BigInt(level.levelData.byteLength), true)\n    levelIndex.setBigUint64(i * 24 + 16, BigInt(level.uncompressedByteLength), true)\n    levelDataByteOffset += level.levelData.byteLength\n  } ///////////////////////////////////////////////////\n  // Header.\n  ///////////////////////////////////////////////////\n\n  const headerBuffer = new ArrayBuffer(HEADER_BYTE_LENGTH)\n  const headerView = new DataView(headerBuffer)\n  headerView.setUint32(0, container.vkFormat, true)\n  headerView.setUint32(4, container.typeSize, true)\n  headerView.setUint32(8, container.pixelWidth, true)\n  headerView.setUint32(12, container.pixelHeight, true)\n  headerView.setUint32(16, container.pixelDepth, true)\n  headerView.setUint32(20, container.layerCount, true)\n  headerView.setUint32(24, container.faceCount, true)\n  headerView.setUint32(28, container.levels.length, true)\n  headerView.setUint32(32, container.supercompressionScheme, true)\n  headerView.setUint32(36, dfdByteOffset, true)\n  headerView.setUint32(40, dfdBuffer.byteLength, true)\n  headerView.setUint32(44, kvdByteOffset, true)\n  headerView.setUint32(48, kvdBuffer.byteLength, true)\n  headerView.setBigUint64(52, BigInt(sgdBuffer.byteLength > 0 ? sgdByteOffset : 0), true)\n  headerView.setBigUint64(60, BigInt(sgdBuffer.byteLength), true) ///////////////////////////////////////////////////\n  // Compose.\n  ///////////////////////////////////////////////////\n\n  return new Uint8Array(\n    concat([\n      new Uint8Array(KTX2_ID).buffer,\n      headerBuffer,\n      levelIndex.buffer,\n      dfdBuffer,\n      kvdBuffer,\n      sgdByteOffset > 0\n        ? new ArrayBuffer(sgdByteOffset - (kvdByteOffset + kvdBuffer.byteLength)) // align(8)\n        : new ArrayBuffer(0),\n      sgdBuffer,\n      ...levelData,\n    ]),\n  )\n}\n\nexport {\n  KHR_DF_CHANNEL_RGBSDA_ALPHA,\n  KHR_DF_CHANNEL_RGBSDA_BLUE,\n  KHR_DF_CHANNEL_RGBSDA_DEPTH,\n  KHR_DF_CHANNEL_RGBSDA_GREEN,\n  KHR_DF_CHANNEL_RGBSDA_RED,\n  KHR_DF_CHANNEL_RGBSDA_STENCIL,\n  KHR_DF_FLAG_ALPHA_PREMULTIPLIED,\n  KHR_DF_FLAG_ALPHA_STRAIGHT,\n  KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT,\n  KHR_DF_MODEL_ASTC,\n  KHR_DF_MODEL_ETC1,\n  KHR_DF_MODEL_ETC1S,\n  KHR_DF_MODEL_ETC2,\n  KHR_DF_MODEL_RGBSDA,\n  KHR_DF_MODEL_UASTC,\n  KHR_DF_MODEL_UNSPECIFIED,\n  KHR_DF_PRIMARIES_ACES,\n  KHR_DF_PRIMARIES_ACESCC,\n  KHR_DF_PRIMARIES_ADOBERGB,\n  KHR_DF_PRIMARIES_BT2020,\n  KHR_DF_PRIMARIES_BT601_EBU,\n  KHR_DF_PRIMARIES_BT601_SMPTE,\n  KHR_DF_PRIMARIES_BT709,\n  KHR_DF_PRIMARIES_CIEXYZ,\n  KHR_DF_PRIMARIES_DISPLAYP3,\n  KHR_DF_PRIMARIES_NTSC1953,\n  KHR_DF_PRIMARIES_PAL525,\n  KHR_DF_PRIMARIES_UNSPECIFIED,\n  KHR_DF_SAMPLE_DATATYPE_EXPONENT,\n  KHR_DF_SAMPLE_DATATYPE_FLOAT,\n  KHR_DF_SAMPLE_DATATYPE_LINEAR,\n  KHR_DF_SAMPLE_DATATYPE_SIGNED,\n  KHR_DF_TRANSFER_ACESCC,\n  KHR_DF_TRANSFER_ACESCCT,\n  KHR_DF_TRANSFER_ADOBERGB,\n  KHR_DF_TRANSFER_BT1886,\n  KHR_DF_TRANSFER_DCIP3,\n  KHR_DF_TRANSFER_HLG_EOTF,\n  KHR_DF_TRANSFER_HLG_OETF,\n  KHR_DF_TRANSFER_ITU,\n  KHR_DF_TRANSFER_LINEAR,\n  KHR_DF_TRANSFER_NTSC,\n  KHR_DF_TRANSFER_PAL625_EOTF,\n  KHR_DF_TRANSFER_PAL_OETF,\n  KHR_DF_TRANSFER_PQ_EOTF,\n  KHR_DF_TRANSFER_PQ_OETF,\n  KHR_DF_TRANSFER_SLOG,\n  KHR_DF_TRANSFER_SLOG2,\n  KHR_DF_TRANSFER_SRGB,\n  KHR_DF_TRANSFER_ST240,\n  KHR_DF_TRANSFER_UNSPECIFIED,\n  KHR_DF_VENDORID_KHRONOS,\n  KHR_DF_VERSION,\n  KHR_SUPERCOMPRESSION_BASISLZ,\n  KHR_SUPERCOMPRESSION_NONE,\n  KHR_SUPERCOMPRESSION_ZLIB,\n  KHR_SUPERCOMPRESSION_ZSTD,\n  KTX2Container,\n  VK_FORMAT_A1R5G5B5_UNORM_PACK16,\n  VK_FORMAT_A2B10G10R10_SINT_PACK32,\n  VK_FORMAT_A2B10G10R10_SNORM_PACK32,\n  VK_FORMAT_A2B10G10R10_UINT_PACK32,\n  VK_FORMAT_A2B10G10R10_UNORM_PACK32,\n  VK_FORMAT_A2R10G10B10_SINT_PACK32,\n  VK_FORMAT_A2R10G10B10_SNORM_PACK32,\n  VK_FORMAT_A2R10G10B10_UINT_PACK32,\n  VK_FORMAT_A2R10G10B10_UNORM_PACK32,\n  VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT,\n  VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT,\n  VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_10x10_SRGB_BLOCK,\n  VK_FORMAT_ASTC_10x10_UNORM_BLOCK,\n  VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_10x5_SRGB_BLOCK,\n  VK_FORMAT_ASTC_10x5_UNORM_BLOCK,\n  VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_10x6_SRGB_BLOCK,\n  VK_FORMAT_ASTC_10x6_UNORM_BLOCK,\n  VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_10x8_SRGB_BLOCK,\n  VK_FORMAT_ASTC_10x8_UNORM_BLOCK,\n  VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_12x10_SRGB_BLOCK,\n  VK_FORMAT_ASTC_12x10_UNORM_BLOCK,\n  VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_12x12_SRGB_BLOCK,\n  VK_FORMAT_ASTC_12x12_UNORM_BLOCK,\n  VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_4x4_SRGB_BLOCK,\n  VK_FORMAT_ASTC_4x4_UNORM_BLOCK,\n  VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_5x4_SRGB_BLOCK,\n  VK_FORMAT_ASTC_5x4_UNORM_BLOCK,\n  VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_5x5_SRGB_BLOCK,\n  VK_FORMAT_ASTC_5x5_UNORM_BLOCK,\n  VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_6x5_SRGB_BLOCK,\n  VK_FORMAT_ASTC_6x5_UNORM_BLOCK,\n  VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_6x6_SRGB_BLOCK,\n  VK_FORMAT_ASTC_6x6_UNORM_BLOCK,\n  VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_8x5_SRGB_BLOCK,\n  VK_FORMAT_ASTC_8x5_UNORM_BLOCK,\n  VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_8x6_SRGB_BLOCK,\n  VK_FORMAT_ASTC_8x6_UNORM_BLOCK,\n  VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT,\n  VK_FORMAT_ASTC_8x8_SRGB_BLOCK,\n  VK_FORMAT_ASTC_8x8_UNORM_BLOCK,\n  VK_FORMAT_B10G11R11_UFLOAT_PACK32,\n  VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16,\n  VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16,\n  VK_FORMAT_B4G4R4A4_UNORM_PACK16,\n  VK_FORMAT_B5G5R5A1_UNORM_PACK16,\n  VK_FORMAT_B5G6R5_UNORM_PACK16,\n  VK_FORMAT_B8G8R8A8_SINT,\n  VK_FORMAT_B8G8R8A8_SNORM,\n  VK_FORMAT_B8G8R8A8_SRGB,\n  VK_FORMAT_B8G8R8A8_UINT,\n  VK_FORMAT_B8G8R8A8_UNORM,\n  VK_FORMAT_B8G8R8_SINT,\n  VK_FORMAT_B8G8R8_SNORM,\n  VK_FORMAT_B8G8R8_SRGB,\n  VK_FORMAT_B8G8R8_UINT,\n  VK_FORMAT_B8G8R8_UNORM,\n  VK_FORMAT_BC1_RGBA_SRGB_BLOCK,\n  VK_FORMAT_BC1_RGBA_UNORM_BLOCK,\n  VK_FORMAT_BC1_RGB_SRGB_BLOCK,\n  VK_FORMAT_BC1_RGB_UNORM_BLOCK,\n  VK_FORMAT_BC2_SRGB_BLOCK,\n  VK_FORMAT_BC2_UNORM_BLOCK,\n  VK_FORMAT_BC3_SRGB_BLOCK,\n  VK_FORMAT_BC3_UNORM_BLOCK,\n  VK_FORMAT_BC4_SNORM_BLOCK,\n  VK_FORMAT_BC4_UNORM_BLOCK,\n  VK_FORMAT_BC5_SNORM_BLOCK,\n  VK_FORMAT_BC5_UNORM_BLOCK,\n  VK_FORMAT_BC6H_SFLOAT_BLOCK,\n  VK_FORMAT_BC6H_UFLOAT_BLOCK,\n  VK_FORMAT_BC7_SRGB_BLOCK,\n  VK_FORMAT_BC7_UNORM_BLOCK,\n  VK_FORMAT_D16_UNORM,\n  VK_FORMAT_D16_UNORM_S8_UINT,\n  VK_FORMAT_D24_UNORM_S8_UINT,\n  VK_FORMAT_D32_SFLOAT,\n  VK_FORMAT_D32_SFLOAT_S8_UINT,\n  VK_FORMAT_E5B9G9R9_UFLOAT_PACK32,\n  VK_FORMAT_EAC_R11G11_SNORM_BLOCK,\n  VK_FORMAT_EAC_R11G11_UNORM_BLOCK,\n  VK_FORMAT_EAC_R11_SNORM_BLOCK,\n  VK_FORMAT_EAC_R11_UNORM_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK,\n  VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK,\n  VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16,\n  VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16,\n  VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG,\n  VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG,\n  VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG,\n  VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG,\n  VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG,\n  VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG,\n  VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG,\n  VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG,\n  VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16,\n  VK_FORMAT_R10X6G10X6_UNORM_2PACK16,\n  VK_FORMAT_R10X6_UNORM_PACK16,\n  VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16,\n  VK_FORMAT_R12X4G12X4_UNORM_2PACK16,\n  VK_FORMAT_R12X4_UNORM_PACK16,\n  VK_FORMAT_R16G16B16A16_SFLOAT,\n  VK_FORMAT_R16G16B16A16_SINT,\n  VK_FORMAT_R16G16B16A16_SNORM,\n  VK_FORMAT_R16G16B16A16_UINT,\n  VK_FORMAT_R16G16B16A16_UNORM,\n  VK_FORMAT_R16G16B16_SFLOAT,\n  VK_FORMAT_R16G16B16_SINT,\n  VK_FORMAT_R16G16B16_SNORM,\n  VK_FORMAT_R16G16B16_UINT,\n  VK_FORMAT_R16G16B16_UNORM,\n  VK_FORMAT_R16G16_SFLOAT,\n  VK_FORMAT_R16G16_SINT,\n  VK_FORMAT_R16G16_SNORM,\n  VK_FORMAT_R16G16_UINT,\n  VK_FORMAT_R16G16_UNORM,\n  VK_FORMAT_R16_SFLOAT,\n  VK_FORMAT_R16_SINT,\n  VK_FORMAT_R16_SNORM,\n  VK_FORMAT_R16_UINT,\n  VK_FORMAT_R16_UNORM,\n  VK_FORMAT_R32G32B32A32_SFLOAT,\n  VK_FORMAT_R32G32B32A32_SINT,\n  VK_FORMAT_R32G32B32A32_UINT,\n  VK_FORMAT_R32G32B32_SFLOAT,\n  VK_FORMAT_R32G32B32_SINT,\n  VK_FORMAT_R32G32B32_UINT,\n  VK_FORMAT_R32G32_SFLOAT,\n  VK_FORMAT_R32G32_SINT,\n  VK_FORMAT_R32G32_UINT,\n  VK_FORMAT_R32_SFLOAT,\n  VK_FORMAT_R32_SINT,\n  VK_FORMAT_R32_UINT,\n  VK_FORMAT_R4G4B4A4_UNORM_PACK16,\n  VK_FORMAT_R4G4_UNORM_PACK8,\n  VK_FORMAT_R5G5B5A1_UNORM_PACK16,\n  VK_FORMAT_R5G6B5_UNORM_PACK16,\n  VK_FORMAT_R64G64B64A64_SFLOAT,\n  VK_FORMAT_R64G64B64A64_SINT,\n  VK_FORMAT_R64G64B64A64_UINT,\n  VK_FORMAT_R64G64B64_SFLOAT,\n  VK_FORMAT_R64G64B64_SINT,\n  VK_FORMAT_R64G64B64_UINT,\n  VK_FORMAT_R64G64_SFLOAT,\n  VK_FORMAT_R64G64_SINT,\n  VK_FORMAT_R64G64_UINT,\n  VK_FORMAT_R64_SFLOAT,\n  VK_FORMAT_R64_SINT,\n  VK_FORMAT_R64_UINT,\n  VK_FORMAT_R8G8B8A8_SINT,\n  VK_FORMAT_R8G8B8A8_SNORM,\n  VK_FORMAT_R8G8B8A8_SRGB,\n  VK_FORMAT_R8G8B8A8_UINT,\n  VK_FORMAT_R8G8B8A8_UNORM,\n  VK_FORMAT_R8G8B8_SINT,\n  VK_FORMAT_R8G8B8_SNORM,\n  VK_FORMAT_R8G8B8_SRGB,\n  VK_FORMAT_R8G8B8_UINT,\n  VK_FORMAT_R8G8B8_UNORM,\n  VK_FORMAT_R8G8_SINT,\n  VK_FORMAT_R8G8_SNORM,\n  VK_FORMAT_R8G8_SRGB,\n  VK_FORMAT_R8G8_UINT,\n  VK_FORMAT_R8G8_UNORM,\n  VK_FORMAT_R8_SINT,\n  VK_FORMAT_R8_SNORM,\n  VK_FORMAT_R8_SRGB,\n  VK_FORMAT_R8_UINT,\n  VK_FORMAT_R8_UNORM,\n  VK_FORMAT_S8_UINT,\n  VK_FORMAT_UNDEFINED,\n  VK_FORMAT_X8_D24_UNORM_PACK32,\n  read,\n  write,\n}\n//# sourceMappingURL=ktx-parse.esm.js.map\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 22237, "column": 0}, "map": {"version":3,"file":"zstddec.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/libs/zstddec.ts"],"sourcesContent":["interface DecoderExports {\n  memory: Uint8Array\n\n  ZSTD_findDecompressedSize: (compressedPtr: number, compressedSize: number) => BigInt\n  ZSTD_decompress: (\n    uncompressedPtr: number,\n    uncompressedSize: number,\n    compressedPtr: number,\n    compressedSize: number,\n  ) => number\n  malloc: (ptr: number) => number\n  free: (ptr: number) => void\n}\n\nlet init: Promise<void>\nlet instance: { exports: DecoderExports }\nlet heap: Uint8Array\n\nconst IMPORT_OBJECT = {\n  env: {\n    emscripten_notify_memory_growth: function (index: number): void {\n      heap = new Uint8Array(instance.exports.memory.buffer)\n    },\n  },\n}\n\n/**\n * ZSTD (Zstandard) decoder.\n */\nexport class ZSTDDecoder {\n  init(): Promise<void> {\n    if (init) return init\n\n    if (typeof fetch !== 'undefined') {\n      // Web.\n\n      init = fetch('data:application/wasm;base64,' + wasm)\n        .then((response) => response.arrayBuffer())\n        .then((arrayBuffer) => WebAssembly.instantiate(arrayBuffer, IMPORT_OBJECT))\n        .then(this._init)\n    } else {\n      // Node.js.\n\n      init = WebAssembly.instantiate(Buffer.from(wasm, 'base64'), IMPORT_OBJECT).then(this._init)\n    }\n\n    return init\n  }\n\n  _init(result: WebAssembly.WebAssemblyInstantiatedSource): void {\n    instance = (result.instance as unknown) as { exports: DecoderExports }\n\n    IMPORT_OBJECT.env.emscripten_notify_memory_growth(0) // initialize heap.\n  }\n\n  decode(array: Uint8Array, uncompressedSize = 0): Uint8Array {\n    if (!instance) throw new Error(`ZSTDDecoder: Await .init() before decoding.`)\n\n    // Write compressed data into WASM memory.\n    const compressedSize = array.byteLength\n    const compressedPtr = instance.exports.malloc(compressedSize)\n    heap.set(array, compressedPtr)\n\n    // Decompress into WASM memory.\n    uncompressedSize =\n      uncompressedSize || Number(instance.exports.ZSTD_findDecompressedSize(compressedPtr, compressedSize))\n    const uncompressedPtr = instance.exports.malloc(uncompressedSize)\n    const actualSize = instance.exports.ZSTD_decompress(\n      uncompressedPtr,\n      uncompressedSize,\n      compressedPtr,\n      compressedSize,\n    )\n\n    // Read decompressed data and free WASM memory.\n    const dec = heap.slice(uncompressedPtr, uncompressedPtr + actualSize)\n    instance.exports.free(compressedPtr)\n    instance.exports.free(uncompressedPtr)\n\n    return dec\n  }\n}\n\n/**\n * BSD License\n *\n * For Zstandard software\n *\n * Copyright (c) 2016-present, Yann Collet, Facebook, Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *\n *  * Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer.\n *\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution.\n *\n *  * Neither the name Facebook nor the names of its contributors may be used to\n *    endorse or promote products derived from this software without specific\n *    prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n// wasm:begin\nconst wasm =\n  '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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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'\n// wasm:end\n"],"names":[],"mappings":";;;AAcA,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,MAAM,gBAAgB;IACpB,KAAK;QACH,iCAAiC,SAAU,KAAA,EAAqB;YAC9D,OAAO,IAAI,WAAW,SAAS,OAAA,CAAQ,MAAA,CAAO,MAAM;QACtD;IACF;AACF;AAKO,MAAM,YAAY;IACvB,OAAsB;QAChB,IAAA,MAAa,OAAA;QAEb,IAAA,OAAO,UAAU,aAAa;YAGzB,OAAA,MAAM,kCAAkC,IAAI,EAChD,IAAA,CAAK,CAAC,WAAa,SAAS,WAAA,EAAa,EACzC,IAAA,CAAK,CAAC,cAAgB,YAAY,WAAA,CAAY,aAAa,aAAa,CAAC,EACzE,IAAA,CAAK,IAAA,CAAK,KAAK;QAAA,OACb;YAGE,OAAA,YAAY,WAAA,CAAY,OAAO,IAAA,CAAK,MAAM,QAAQ,GAAG,aAAa,EAAE,IAAA,CAAK,IAAA,CAAK,KAAK;QAC5F;QAEO,OAAA;IACT;IAEA,MAAM,MAAA,EAAyD;QAC7D,WAAY,OAAO,QAAA;QAEL,cAAA,GAAA,CAAI,+BAAA,CAAgC,CAAC;IACrD;IAEA,OAAO,KAAA,EAAmB,mBAAmB,CAAA,EAAe;QAC1D,IAAI,CAAC,UAAgB,MAAA,IAAI,MAAM,CAAA,2CAAA,CAA6C;QAG5E,MAAM,iBAAiB,MAAM,UAAA;QAC7B,MAAM,gBAAgB,SAAS,OAAA,CAAQ,MAAA,CAAO,cAAc;QACvD,KAAA,GAAA,CAAI,OAAO,aAAa;QAG7B,mBACE,oBAAoB,OAAO,SAAS,OAAA,CAAQ,yBAAA,CAA0B,eAAe,cAAc,CAAC;QACtG,MAAM,kBAAkB,SAAS,OAAA,CAAQ,MAAA,CAAO,gBAAgB;QAC1D,MAAA,aAAa,SAAS,OAAA,CAAQ,eAAA,CAClC,iBACA,kBACA,eACA;QAIF,MAAM,MAAM,KAAK,KAAA,CAAM,iBAAiB,kBAAkB,UAAU;QAC3D,SAAA,OAAA,CAAQ,IAAA,CAAK,aAAa;QAC1B,SAAA,OAAA,CAAQ,IAAA,CAAK,eAAe;QAE9B,OAAA;IACT;AACF;AAmCA,MAAM,OACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 22287, "column": 0}, "map": {"version":3,"file":"CompressedCubeTexture.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/CompressedCubeTexture.js"],"sourcesContent":["import { CompressedTexture, CubeReflectionMapping } from 'three'\n\nclass CompressedCubeTexture extends CompressedTexture {\n  constructor(images, format, type) {\n    super(undefined, images[0].width, images[0].height, format, type, CubeReflectionMapping)\n\n    this.isCompressedCubeTexture = true\n    this.isCubeTexture = true\n\n    this.image = images\n  }\n}\n\nexport { CompressedCubeTexture }\n"],"names":[],"mappings":";;;;;AAEA,MAAM,8KAA8B,oBAAA,CAAkB;IACpD,YAAY,MAAA,EAAQ,MAAA,EAAQ,IAAA,CAAM;QAChC,KAAA,CAAM,KAAA,GAAW,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA,EAAO,MAAA,CAAO,CAAC,CAAA,CAAE,MAAA,EAAQ,QAAQ,sJAAM,wBAAqB;QAEvF,IAAA,CAAK,uBAAA,GAA0B;QAC/B,IAAA,CAAK,aAAA,GAAgB;QAErB,IAAA,CAAK,KAAA,GAAQ;IACd;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 22308, "column": 0}, "map": {"version":3,"file":"CompressedArrayTexture.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/CompressedArrayTexture.js"],"sourcesContent":["import { CompressedTexture, ClampToEdgeWrapping } from 'three'\n\nclass CompressedArrayTexture extends CompressedTexture {\n  constructor(mipmaps, width, height, depth, format, type) {\n    super(mipmaps, width, height, format, type)\n    this.isCompressedArrayTexture = true\n    this.image.depth = depth\n    this.wrapR = ClampToEdgeWrapping\n  }\n}\n\nexport { CompressedArrayTexture }\n"],"names":[],"mappings":";;;;;AAEA,MAAM,+KAA+B,oBAAA,CAAkB;IACrD,YAAY,OAAA,EAAS,KAAA,EAAO,MAAA,EAAQ,KAAA,EAAO,MAAA,EAAQ,IAAA,CAAM;QACvD,KAAA,CAAM,SAAS,OAAO,QAAQ,QAAQ,IAAI;QAC1C,IAAA,CAAK,wBAAA,GAA2B;QAChC,IAAA,CAAK,KAAA,CAAM,KAAA,GAAQ;QACnB,IAAA,CAAK,KAAA,mJAAQ,sBAAA;IACd;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 22329, "column": 0}, "map": {"version":3,"file":"Data3DTexture.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/_polyfill/Data3DTexture.js"],"sourcesContent":["import { Texture, ClampToEdgeWrapping, NearestFilter } from 'three'\n\nclass Data3DTexture extends Texture {\n  constructor(data = null, width = 1, height = 1, depth = 1) {\n    super(null)\n\n    this.isData3DTexture = true\n\n    this.image = { data, width, height, depth }\n\n    this.magFilter = NearestFilter\n    this.minFilter = NearestFilter\n\n    this.wrapR = ClampToEdgeWrapping\n\n    this.generateMipmaps = false\n    this.flipY = false\n    this.unpackAlignment = 1\n  }\n}\n\nexport { Data3DTexture }\n"],"names":[],"mappings":";;;;;AAEA,MAAM,sKAAsB,UAAA,CAAQ;IAClC,YAAY,OAAO,IAAA,EAAM,QAAQ,CAAA,EAAG,SAAS,CAAA,EAAG,QAAQ,CAAA,CAAG;QACzD,KAAA,CAAM,IAAI;QAEV,IAAA,CAAK,eAAA,GAAkB;QAEvB,IAAA,CAAK,KAAA,GAAQ;YAAE;YAAM;YAAO;YAAQ;QAAO;QAE3C,IAAA,CAAK,SAAA,mJAAY,gBAAA;QACjB,IAAA,CAAK,SAAA,mJAAY,gBAAA;QAEjB,IAAA,CAAK,KAAA,mJAAQ,sBAAA;QAEb,IAAA,CAAK,eAAA,GAAkB;QACvB,IAAA,CAAK,KAAA,GAAQ;QACb,IAAA,CAAK,eAAA,GAAkB;IACxB;AACH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 22360, "column": 0}, "map": {"version":3,"file":"KTX2Loader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/KTX2Loader.js"],"sourcesContent":["/**\n * Loader for KTX 2.0 GPU Texture containers.\n *\n * KTX 2.0 is a container format for various GPU texture formats. The loader\n * supports Basis Universal GPU textures, which can be quickly transcoded to\n * a wide variety of GPU texture compression formats, as well as some\n * uncompressed DataTexture and Data3DTexture formats.\n *\n * References:\n * - KTX: http://github.khronos.org/KTX-Specification/\n * - DFD: https://www.khronos.org/registry/DataFormat/specs/1.3/dataformat.1.3.html#basicdescriptor\n */\n\nimport {\n  CompressedTexture,\n  DataTexture,\n  FileLoader,\n  FloatType,\n  HalfFloatType,\n  LinearFilter,\n  LinearMipmapLinearFilter,\n  Loader,\n  RedFormat,\n  RGB_ETC1_Format,\n  RGB_ETC2_Format,\n  RGB_PVRTC_4BPPV1_Format,\n  RGB_S3TC_DXT1_Format,\n  RGBA_ASTC_4x4_Format,\n  RGBA_ASTC_6x6_Format,\n  RGBA_BPTC_Format,\n  RGBA_ETC2_EAC_Format,\n  RGBA_PVRTC_4BPPV1_Format,\n  RGBA_S3TC_DXT5_Format,\n  RGBAFormat,\n  RGFormat,\n  UnsignedByteType,\n} from 'three'\nimport { WorkerPool } from '../utils/WorkerPool'\nimport {\n  read,\n  KHR_DF_FLAG_ALPHA_PREMULTIPLIED,\n  KHR_DF_TRANSFER_SRGB,\n  KHR_SUPERCOMPRESSION_NONE,\n  KHR_SUPERCOMPRESSION_ZSTD,\n  VK_FORMAT_UNDEFINED,\n  VK_FORMAT_R16_SFLOAT,\n  VK_FORMAT_R16G16_SFLOAT,\n  VK_FORMAT_R16G16B16A16_SFLOAT,\n  VK_FORMAT_R32_SFLOAT,\n  VK_FORMAT_R32G32_SFLOAT,\n  VK_FORMAT_R32G32B32A32_SFLOAT,\n  VK_FORMAT_R8_SRGB,\n  VK_FORMAT_R8_UNORM,\n  VK_FORMAT_R8G8_SRGB,\n  VK_FORMAT_R8G8_UNORM,\n  VK_FORMAT_R8G8B8A8_SRGB,\n  VK_FORMAT_R8G8B8A8_UNORM,\n  VK_FORMAT_ASTC_6x6_SRGB_BLOCK,\n  VK_FORMAT_ASTC_6x6_UNORM_BLOCK,\n  KHR_DF_PRIMARIES_UNSPECIFIED,\n  KHR_DF_PRIMARIES_BT709,\n  KHR_DF_PRIMARIES_DISPLAYP3,\n} from '../libs/ktx-parse'\nimport { ZSTDDecoder } from '../libs/zstddec'\nimport { CompressedCubeTexture } from '../_polyfill/CompressedCubeTexture'\nimport { CompressedArrayTexture } from '../_polyfill/CompressedArrayTexture'\nimport { Data3DTexture } from '../_polyfill/Data3DTexture'\n\nconst LinearEncoding = 3000\nconst sRGBEncoding = 3001\n\nconst NoColorSpace = ''\nconst DisplayP3ColorSpace = 'display-p3'\nconst LinearDisplayP3ColorSpace = 'display-p3-linear'\nconst LinearSRGBColorSpace = 'srgb-linear'\nconst SRGBColorSpace = 'srgb'\n\nconst _taskCache = new WeakMap()\n\nlet _activeLoaders = 0\n\nlet _zstd\n\nconst KTX2Loader = /* @__PURE__ */ (() => {\n  class KTX2Loader extends Loader {\n    /* CONSTANTS */\n\n    static BasisFormat = {\n      ETC1S: 0,\n      UASTC_4x4: 1,\n    }\n\n    static TranscoderFormat = {\n      ETC1: 0,\n      ETC2: 1,\n      BC1: 2,\n      BC3: 3,\n      BC4: 4,\n      BC5: 5,\n      BC7_M6_OPAQUE_ONLY: 6,\n      BC7_M5: 7,\n      PVRTC1_4_RGB: 8,\n      PVRTC1_4_RGBA: 9,\n      ASTC_4x4: 10,\n      ATC_RGB: 11,\n      ATC_RGBA_INTERPOLATED_ALPHA: 12,\n      RGBA32: 13,\n      RGB565: 14,\n      BGR565: 15,\n      RGBA4444: 16,\n    }\n\n    static EngineFormat = {\n      RGBAFormat: RGBAFormat,\n      RGBA_ASTC_4x4_Format: RGBA_ASTC_4x4_Format,\n      RGBA_BPTC_Format: RGBA_BPTC_Format,\n      RGBA_ETC2_EAC_Format: RGBA_ETC2_EAC_Format,\n      RGBA_PVRTC_4BPPV1_Format: RGBA_PVRTC_4BPPV1_Format,\n      RGBA_S3TC_DXT5_Format: RGBA_S3TC_DXT5_Format,\n      RGB_ETC1_Format: RGB_ETC1_Format,\n      RGB_ETC2_Format: RGB_ETC2_Format,\n      RGB_PVRTC_4BPPV1_Format: RGB_PVRTC_4BPPV1_Format,\n      RGB_S3TC_DXT1_Format: RGB_S3TC_DXT1_Format,\n    }\n\n    /* WEB WORKER */\n\n    static BasisWorker = function () {\n      let config\n      let transcoderPending\n      let BasisModule\n\n      /** @type KTX2Loader.EngineFormat */\n      const EngineFormat = _EngineFormat\n      /** @type KTX2Loader.TranscoderFormat */\n      const TranscoderFormat = _TranscoderFormat\n      /** @type KTX2Loader.BasisFormat */\n      const BasisFormat = _BasisFormat\n\n      self.addEventListener('message', function (e) {\n        const message = e.data\n\n        switch (message.type) {\n          case 'init':\n            config = message.config\n            init(message.transcoderBinary)\n            break\n\n          case 'transcode':\n            transcoderPending.then(() => {\n              try {\n                const { faces, buffers, width, height, hasAlpha, format, dfdFlags } = transcode(message.buffer)\n\n                self.postMessage(\n                  { type: 'transcode', id: message.id, faces, width, height, hasAlpha, format, dfdFlags },\n                  buffers,\n                )\n              } catch (error) {\n                console.error(error)\n\n                self.postMessage({ type: 'error', id: message.id, error: error.message })\n              }\n            })\n            break\n        }\n      })\n\n      function init(wasmBinary) {\n        transcoderPending = new Promise((resolve) => {\n          BasisModule = { wasmBinary, onRuntimeInitialized: resolve }\n          BASIS(BasisModule)\n        }).then(() => {\n          BasisModule.initializeBasis()\n\n          if (BasisModule.KTX2File === undefined) {\n            console.warn('THREE.KTX2Loader: Please update Basis Universal transcoder.')\n          }\n        })\n      }\n\n      function transcode(buffer) {\n        const ktx2File = new BasisModule.KTX2File(new Uint8Array(buffer))\n\n        function cleanup() {\n          ktx2File.close()\n          ktx2File.delete()\n        }\n\n        if (!ktx2File.isValid()) {\n          cleanup()\n          throw new Error('THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file')\n        }\n\n        const basisFormat = ktx2File.isUASTC() ? BasisFormat.UASTC_4x4 : BasisFormat.ETC1S\n        const width = ktx2File.getWidth()\n        const height = ktx2File.getHeight()\n        const layerCount = ktx2File.getLayers() || 1\n        const levelCount = ktx2File.getLevels()\n        const faceCount = ktx2File.getFaces()\n        const hasAlpha = ktx2File.getHasAlpha()\n        const dfdFlags = ktx2File.getDFDFlags()\n\n        const { transcoderFormat, engineFormat } = getTranscoderFormat(basisFormat, width, height, hasAlpha)\n\n        if (!width || !height || !levelCount) {\n          cleanup()\n          throw new Error('THREE.KTX2Loader:\tInvalid texture')\n        }\n\n        if (!ktx2File.startTranscoding()) {\n          cleanup()\n          throw new Error('THREE.KTX2Loader: .startTranscoding failed')\n        }\n\n        const faces = []\n        const buffers = []\n\n        for (let face = 0; face < faceCount; face++) {\n          const mipmaps = []\n\n          for (let mip = 0; mip < levelCount; mip++) {\n            const layerMips = []\n\n            let mipWidth, mipHeight\n\n            for (let layer = 0; layer < layerCount; layer++) {\n              const levelInfo = ktx2File.getImageLevelInfo(mip, layer, face)\n\n              if (\n                face === 0 &&\n                mip === 0 &&\n                layer === 0 &&\n                (levelInfo.origWidth % 4 !== 0 || levelInfo.origHeight % 4 !== 0)\n              ) {\n                console.warn('THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions.')\n              }\n\n              if (levelCount > 1) {\n                mipWidth = levelInfo.origWidth\n                mipHeight = levelInfo.origHeight\n              } else {\n                // Handles non-multiple-of-four dimensions in textures without mipmaps. Textures with\n                // mipmaps must use multiple-of-four dimensions, for some texture formats and APIs.\n                // See mrdoob/three.js#25908.\n                mipWidth = levelInfo.width\n                mipHeight = levelInfo.height\n              }\n\n              const dst = new Uint8Array(ktx2File.getImageTranscodedSizeInBytes(mip, layer, 0, transcoderFormat))\n              const status = ktx2File.transcodeImage(dst, mip, layer, face, transcoderFormat, 0, -1, -1)\n\n              if (!status) {\n                cleanup()\n                throw new Error('THREE.KTX2Loader: .transcodeImage failed.')\n              }\n\n              layerMips.push(dst)\n            }\n\n            const mipData = concat(layerMips)\n\n            mipmaps.push({ data: mipData, width: mipWidth, height: mipHeight })\n            buffers.push(mipData.buffer)\n          }\n\n          faces.push({ mipmaps, width, height, format: engineFormat })\n        }\n\n        cleanup()\n\n        return { faces, buffers, width, height, hasAlpha, format: engineFormat, dfdFlags }\n      }\n\n      //\n\n      // Optimal choice of a transcoder target format depends on the Basis format (ETC1S or UASTC),\n      // device capabilities, and texture dimensions. The list below ranks the formats separately\n      // for ETC1S and UASTC.\n      //\n      // In some cases, transcoding UASTC to RGBA32 might be preferred for higher quality (at\n      // significant memory cost) compared to ETC1/2, BC1/3, and PVRTC. The transcoder currently\n      // chooses RGBA32 only as a last resort and does not expose that option to the caller.\n      const FORMAT_OPTIONS = [\n        {\n          if: 'astcSupported',\n          basisFormat: [BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.ASTC_4x4, TranscoderFormat.ASTC_4x4],\n          engineFormat: [EngineFormat.RGBA_ASTC_4x4_Format, EngineFormat.RGBA_ASTC_4x4_Format],\n          priorityETC1S: Infinity,\n          priorityUASTC: 1,\n          needsPowerOfTwo: false,\n        },\n        {\n          if: 'bptcSupported',\n          basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.BC7_M5, TranscoderFormat.BC7_M5],\n          engineFormat: [EngineFormat.RGBA_BPTC_Format, EngineFormat.RGBA_BPTC_Format],\n          priorityETC1S: 3,\n          priorityUASTC: 2,\n          needsPowerOfTwo: false,\n        },\n        {\n          if: 'dxtSupported',\n          basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.BC1, TranscoderFormat.BC3],\n          engineFormat: [EngineFormat.RGB_S3TC_DXT1_Format, EngineFormat.RGBA_S3TC_DXT5_Format],\n          priorityETC1S: 4,\n          priorityUASTC: 5,\n          needsPowerOfTwo: false,\n        },\n        {\n          if: 'etc2Supported',\n          basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.ETC1, TranscoderFormat.ETC2],\n          engineFormat: [EngineFormat.RGB_ETC2_Format, EngineFormat.RGBA_ETC2_EAC_Format],\n          priorityETC1S: 1,\n          priorityUASTC: 3,\n          needsPowerOfTwo: false,\n        },\n        {\n          if: 'etc1Supported',\n          basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.ETC1],\n          engineFormat: [EngineFormat.RGB_ETC1_Format],\n          priorityETC1S: 2,\n          priorityUASTC: 4,\n          needsPowerOfTwo: false,\n        },\n        {\n          if: 'pvrtcSupported',\n          basisFormat: [BasisFormat.ETC1S, BasisFormat.UASTC_4x4],\n          transcoderFormat: [TranscoderFormat.PVRTC1_4_RGB, TranscoderFormat.PVRTC1_4_RGBA],\n          engineFormat: [EngineFormat.RGB_PVRTC_4BPPV1_Format, EngineFormat.RGBA_PVRTC_4BPPV1_Format],\n          priorityETC1S: 5,\n          priorityUASTC: 6,\n          needsPowerOfTwo: true,\n        },\n      ]\n\n      const ETC1S_OPTIONS = FORMAT_OPTIONS.sort(function (a, b) {\n        return a.priorityETC1S - b.priorityETC1S\n      })\n      const UASTC_OPTIONS = FORMAT_OPTIONS.sort(function (a, b) {\n        return a.priorityUASTC - b.priorityUASTC\n      })\n\n      function getTranscoderFormat(basisFormat, width, height, hasAlpha) {\n        let transcoderFormat\n        let engineFormat\n\n        const options = basisFormat === BasisFormat.ETC1S ? ETC1S_OPTIONS : UASTC_OPTIONS\n\n        for (let i = 0; i < options.length; i++) {\n          const opt = options[i]\n\n          if (!config[opt.if]) continue\n          if (!opt.basisFormat.includes(basisFormat)) continue\n          if (hasAlpha && opt.transcoderFormat.length < 2) continue\n          if (opt.needsPowerOfTwo && !(isPowerOfTwo(width) && isPowerOfTwo(height))) continue\n\n          transcoderFormat = opt.transcoderFormat[hasAlpha ? 1 : 0]\n          engineFormat = opt.engineFormat[hasAlpha ? 1 : 0]\n\n          return { transcoderFormat, engineFormat }\n        }\n\n        console.warn('THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32.')\n\n        transcoderFormat = TranscoderFormat.RGBA32\n        engineFormat = EngineFormat.RGBAFormat\n\n        return { transcoderFormat, engineFormat }\n      }\n\n      function isPowerOfTwo(value) {\n        if (value <= 2) return true\n\n        return (value & (value - 1)) === 0 && value !== 0\n      }\n\n      /** Concatenates N byte arrays. */\n      function concat(arrays) {\n        if (arrays.length === 1) return arrays[0]\n\n        let totalByteLength = 0\n\n        for (let i = 0; i < arrays.length; i++) {\n          const array = arrays[i]\n          totalByteLength += array.byteLength\n        }\n\n        const result = new Uint8Array(totalByteLength)\n\n        let byteOffset = 0\n\n        for (let i = 0; i < arrays.length; i++) {\n          const array = arrays[i]\n          result.set(array, byteOffset)\n\n          byteOffset += array.byteLength\n        }\n\n        return result\n      }\n    }\n\n    constructor(manager) {\n      super(manager)\n\n      this.transcoderPath = ''\n      this.transcoderBinary = null\n      this.transcoderPending = null\n\n      this.workerPool = new WorkerPool()\n      this.workerSourceURL = ''\n      this.workerConfig = null\n\n      if (typeof MSC_TRANSCODER !== 'undefined') {\n        console.warn(\n          'THREE.KTX2Loader: Please update to latest \"basis_transcoder\".' +\n            ' \"msc_basis_transcoder\" is no longer supported in three.js r125+.',\n        )\n      }\n    }\n\n    setTranscoderPath(path) {\n      this.transcoderPath = path\n\n      return this\n    }\n\n    setWorkerLimit(num) {\n      this.workerPool.setWorkerLimit(num)\n\n      return this\n    }\n\n    detectSupport(renderer) {\n      this.workerConfig = {\n        astcSupported: renderer.extensions.has('WEBGL_compressed_texture_astc'),\n        etc1Supported: renderer.extensions.has('WEBGL_compressed_texture_etc1'),\n        etc2Supported: renderer.extensions.has('WEBGL_compressed_texture_etc'),\n        dxtSupported: renderer.extensions.has('WEBGL_compressed_texture_s3tc'),\n        bptcSupported: renderer.extensions.has('EXT_texture_compression_bptc'),\n        pvrtcSupported:\n          renderer.extensions.has('WEBGL_compressed_texture_pvrtc') ||\n          renderer.extensions.has('WEBKIT_WEBGL_compressed_texture_pvrtc'),\n      }\n\n      if (renderer.capabilities.isWebGL2) {\n        // https://github.com/mrdoob/three.js/pull/22928\n        this.workerConfig.etc1Supported = false\n      }\n\n      return this\n    }\n\n    init() {\n      if (!this.transcoderPending) {\n        // Load transcoder wrapper.\n        const jsLoader = new FileLoader(this.manager)\n        jsLoader.setPath(this.transcoderPath)\n        jsLoader.setWithCredentials(this.withCredentials)\n        const jsContent = jsLoader.loadAsync('basis_transcoder.js')\n\n        // Load transcoder WASM binary.\n        const binaryLoader = new FileLoader(this.manager)\n        binaryLoader.setPath(this.transcoderPath)\n        binaryLoader.setResponseType('arraybuffer')\n        binaryLoader.setWithCredentials(this.withCredentials)\n        const binaryContent = binaryLoader.loadAsync('basis_transcoder.wasm')\n\n        this.transcoderPending = Promise.all([jsContent, binaryContent]).then(([jsContent, binaryContent]) => {\n          const fn = KTX2Loader.BasisWorker.toString()\n\n          const body = [\n            '/* constants */',\n            'let _EngineFormat = ' + JSON.stringify(KTX2Loader.EngineFormat),\n            'let _TranscoderFormat = ' + JSON.stringify(KTX2Loader.TranscoderFormat),\n            'let _BasisFormat = ' + JSON.stringify(KTX2Loader.BasisFormat),\n            '/* basis_transcoder.js */',\n            jsContent,\n            '/* worker */',\n            fn.substring(fn.indexOf('{') + 1, fn.lastIndexOf('}')),\n          ].join('\\n')\n\n          this.workerSourceURL = URL.createObjectURL(new Blob([body]))\n          this.transcoderBinary = binaryContent\n\n          this.workerPool.setWorkerCreator(() => {\n            const worker = new Worker(this.workerSourceURL)\n            const transcoderBinary = this.transcoderBinary.slice(0)\n\n            worker.postMessage({ type: 'init', config: this.workerConfig, transcoderBinary }, [transcoderBinary])\n\n            return worker\n          })\n        })\n\n        if (_activeLoaders > 0) {\n          // Each instance loads a transcoder and allocates workers, increasing network and memory cost.\n\n          console.warn(\n            'THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues.' +\n              ' Use a single KTX2Loader instance, or call .dispose() on old instances.',\n          )\n        }\n\n        _activeLoaders++\n      }\n\n      return this.transcoderPending\n    }\n\n    load(url, onLoad, onProgress, onError) {\n      if (this.workerConfig === null) {\n        throw new Error('THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.')\n      }\n\n      const loader = new FileLoader(this.manager)\n\n      loader.setResponseType('arraybuffer')\n      loader.setWithCredentials(this.withCredentials)\n\n      loader.load(\n        url,\n        (buffer) => {\n          // Check for an existing task using this buffer. A transferred buffer cannot be transferred\n          // again from this thread.\n          if (_taskCache.has(buffer)) {\n            const cachedTask = _taskCache.get(buffer)\n\n            return cachedTask.promise.then(onLoad).catch(onError)\n          }\n\n          this._createTexture(buffer)\n            .then((texture) => (onLoad ? onLoad(texture) : null))\n            .catch(onError)\n        },\n        onProgress,\n        onError,\n      )\n    }\n\n    _createTextureFrom(transcodeResult, container) {\n      const { faces, width, height, format, type, error, dfdFlags } = transcodeResult\n\n      if (type === 'error') return Promise.reject(error)\n\n      let texture\n\n      if (container.faceCount === 6) {\n        texture = new CompressedCubeTexture(faces, format, UnsignedByteType)\n      } else {\n        const mipmaps = faces[0].mipmaps\n\n        texture =\n          container.layerCount > 1\n            ? new CompressedArrayTexture(mipmaps, width, height, container.layerCount, format, UnsignedByteType)\n            : new CompressedTexture(mipmaps, width, height, format, UnsignedByteType)\n      }\n\n      texture.minFilter = faces[0].mipmaps.length === 1 ? LinearFilter : LinearMipmapLinearFilter\n      texture.magFilter = LinearFilter\n      texture.generateMipmaps = false\n      texture.needsUpdate = true\n\n      const colorSpace = parseColorSpace(container)\n      if ('colorSpace' in texture) texture.colorSpace = colorSpace\n      else texture.encoding = colorSpace === SRGBColorSpace ? sRGBEncoding : LinearEncoding\n\n      texture.premultiplyAlpha = !!(dfdFlags & KHR_DF_FLAG_ALPHA_PREMULTIPLIED)\n\n      return texture\n    }\n\n    /**\n     * @param {ArrayBuffer} buffer\n     * @param {object?} config\n     * @return {Promise<CompressedTexture|CompressedArrayTexture|DataTexture|Data3DTexture>}\n     */\n    async _createTexture(buffer, config = {}) {\n      const container = read(new Uint8Array(buffer))\n\n      if (container.vkFormat !== VK_FORMAT_UNDEFINED) {\n        return createRawTexture(container)\n      }\n\n      //\n\n      const taskConfig = config\n      const texturePending = this.init()\n        .then(() => {\n          return this.workerPool.postMessage({ type: 'transcode', buffer, taskConfig: taskConfig }, [buffer])\n        })\n        .then((e) => this._createTextureFrom(e.data, container))\n\n      // Cache the task result.\n      _taskCache.set(buffer, { promise: texturePending })\n\n      return texturePending\n    }\n\n    dispose() {\n      this.workerPool.dispose()\n      if (this.workerSourceURL) URL.revokeObjectURL(this.workerSourceURL)\n\n      _activeLoaders--\n\n      return this\n    }\n  }\n\n  return KTX2Loader\n})()\n\n//\n// Parsing for non-Basis textures. These textures are may have supercompression\n// like Zstd, but they do not require transcoding.\n\nconst UNCOMPRESSED_FORMATS = new Set([RGBAFormat, RGFormat, RedFormat])\n\nconst FORMAT_MAP = {\n  [VK_FORMAT_R32G32B32A32_SFLOAT]: RGBAFormat,\n  [VK_FORMAT_R16G16B16A16_SFLOAT]: RGBAFormat,\n  [VK_FORMAT_R8G8B8A8_UNORM]: RGBAFormat,\n  [VK_FORMAT_R8G8B8A8_SRGB]: RGBAFormat,\n\n  [VK_FORMAT_R32G32_SFLOAT]: RGFormat,\n  [VK_FORMAT_R16G16_SFLOAT]: RGFormat,\n  [VK_FORMAT_R8G8_UNORM]: RGFormat,\n  [VK_FORMAT_R8G8_SRGB]: RGFormat,\n\n  [VK_FORMAT_R32_SFLOAT]: RedFormat,\n  [VK_FORMAT_R16_SFLOAT]: RedFormat,\n  [VK_FORMAT_R8_SRGB]: RedFormat,\n  [VK_FORMAT_R8_UNORM]: RedFormat,\n\n  [VK_FORMAT_ASTC_6x6_SRGB_BLOCK]: RGBA_ASTC_6x6_Format,\n  [VK_FORMAT_ASTC_6x6_UNORM_BLOCK]: RGBA_ASTC_6x6_Format,\n}\n\nconst TYPE_MAP = {\n  [VK_FORMAT_R32G32B32A32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16G16B16A16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8G8B8A8_UNORM]: UnsignedByteType,\n  [VK_FORMAT_R8G8B8A8_SRGB]: UnsignedByteType,\n\n  [VK_FORMAT_R32G32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16G16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8G8_UNORM]: UnsignedByteType,\n  [VK_FORMAT_R8G8_SRGB]: UnsignedByteType,\n\n  [VK_FORMAT_R32_SFLOAT]: FloatType,\n  [VK_FORMAT_R16_SFLOAT]: HalfFloatType,\n  [VK_FORMAT_R8_SRGB]: UnsignedByteType,\n  [VK_FORMAT_R8_UNORM]: UnsignedByteType,\n\n  [VK_FORMAT_ASTC_6x6_SRGB_BLOCK]: UnsignedByteType,\n  [VK_FORMAT_ASTC_6x6_UNORM_BLOCK]: UnsignedByteType,\n}\n\nasync function createRawTexture(container) {\n  const { vkFormat } = container\n\n  if (FORMAT_MAP[vkFormat] === undefined) {\n    throw new Error('THREE.KTX2Loader: Unsupported vkFormat.')\n  }\n\n  //\n\n  let zstd\n\n  if (container.supercompressionScheme === KHR_SUPERCOMPRESSION_ZSTD) {\n    if (!_zstd) {\n      _zstd = new Promise(async (resolve) => {\n        const zstd = new ZSTDDecoder()\n        await zstd.init()\n        resolve(zstd)\n      })\n    }\n\n    zstd = await _zstd\n  }\n\n  //\n\n  const mipmaps = []\n\n  for (let levelIndex = 0; levelIndex < container.levels.length; levelIndex++) {\n    const levelWidth = Math.max(1, container.pixelWidth >> levelIndex)\n    const levelHeight = Math.max(1, container.pixelHeight >> levelIndex)\n    const levelDepth = container.pixelDepth ? Math.max(1, container.pixelDepth >> levelIndex) : 0\n\n    const level = container.levels[levelIndex]\n\n    let levelData\n\n    if (container.supercompressionScheme === KHR_SUPERCOMPRESSION_NONE) {\n      levelData = level.levelData\n    } else if (container.supercompressionScheme === KHR_SUPERCOMPRESSION_ZSTD) {\n      levelData = zstd.decode(level.levelData, level.uncompressedByteLength)\n    } else {\n      throw new Error('THREE.KTX2Loader: Unsupported supercompressionScheme.')\n    }\n\n    let data\n\n    if (TYPE_MAP[vkFormat] === FloatType) {\n      data = new Float32Array(\n        levelData.buffer,\n        levelData.byteOffset,\n        levelData.byteLength / Float32Array.BYTES_PER_ELEMENT,\n      )\n    } else if (TYPE_MAP[vkFormat] === HalfFloatType) {\n      data = new Uint16Array(\n        levelData.buffer,\n        levelData.byteOffset,\n        levelData.byteLength / Uint16Array.BYTES_PER_ELEMENT,\n      )\n    } else {\n      data = levelData\n    }\n\n    mipmaps.push({\n      data: data,\n      width: levelWidth,\n      height: levelHeight,\n      depth: levelDepth,\n    })\n  }\n\n  let texture\n\n  if (UNCOMPRESSED_FORMATS.has(FORMAT_MAP[vkFormat])) {\n    texture =\n      container.pixelDepth === 0\n        ? new DataTexture(mipmaps[0].data, container.pixelWidth, container.pixelHeight)\n        : new Data3DTexture(mipmaps[0].data, container.pixelWidth, container.pixelHeight, container.pixelDepth)\n  } else {\n    if (container.pixelDepth > 0) throw new Error('THREE.KTX2Loader: Unsupported pixelDepth.')\n\n    texture = new CompressedTexture(mipmaps, container.pixelWidth, container.pixelHeight)\n  }\n\n  texture.mipmaps = mipmaps\n\n  texture.type = TYPE_MAP[vkFormat]\n  texture.format = FORMAT_MAP[vkFormat]\n  texture.needsUpdate = true\n\n  const colorSpace = parseColorSpace(container)\n  if ('colorSpace' in texture) texture.colorSpace = colorSpace\n  else texture.encoding = colorSpace === SRGBColorSpace ? sRGBEncoding : LinearEncoding\n\n  //\n\n  return Promise.resolve(texture)\n}\n\nfunction parseColorSpace(container) {\n  const dfd = container.dataFormatDescriptor[0]\n\n  if (dfd.colorPrimaries === KHR_DF_PRIMARIES_BT709) {\n    return dfd.transferFunction === KHR_DF_TRANSFER_SRGB ? SRGBColorSpace : LinearSRGBColorSpace\n  } else if (dfd.colorPrimaries === KHR_DF_PRIMARIES_DISPLAYP3) {\n    return dfd.transferFunction === KHR_DF_TRANSFER_SRGB ? DisplayP3ColorSpace : LinearDisplayP3ColorSpace\n  } else if (dfd.colorPrimaries === KHR_DF_PRIMARIES_UNSPECIFIED) {\n    return NoColorSpace\n  } else {\n    console.warn(`THREE.KTX2Loader: Unsupported color primaries, \"${dfd.colorPrimaries}\"`)\n    return NoColorSpace\n  }\n}\n\nexport { KTX2Loader }\n"],"names":["jsContent","binaryContent","KTX2Loader","zstd"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 23000, "column": 0}, "map": {"version":3,"file":"CurveModifier.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/modifiers/CurveModifier.ts"],"sourcesContent":["// Original src: https://github.com/zz85/threejs-path-flow\nconst CHANNELS = 4\nconst TEXTURE_WIDTH = 1024\nconst TEXTURE_HEIGHT = 4\n\nimport {\n  DataTexture,\n  RGBAFormat,\n  FloatType,\n  RepeatWrapping,\n  Mesh,\n  InstancedMesh,\n  NearestFilter,\n  DynamicDrawUsage,\n  Matrix4,\n  Material,\n  Curve,\n  BufferGeometry,\n} from 'three'\n\nimport type { IUniform } from 'three'\n\n/**\n * Make a new DataTexture to store the descriptions of the curves.\n *\n * @param { number } numberOfCurves the number of curves needed to be described by this texture.\n */\nexport const initSplineTexture = (numberOfCurves = 1): DataTexture => {\n  const dataArray = new Float32Array(TEXTURE_WIDTH * TEXTURE_HEIGHT * numberOfCurves * CHANNELS)\n  const dataTexture = new DataTexture(dataArray, TEXTURE_WIDTH, TEXTURE_HEIGHT * numberOfCurves, RGBAFormat, FloatType)\n\n  dataTexture.wrapS = RepeatWrapping\n  dataTexture.wrapT = RepeatWrapping\n  dataTexture.magFilter = NearestFilter\n  dataTexture.needsUpdate = true\n\n  return dataTexture\n}\n\n/**\n * Write the curve description to the data texture\n *\n * @param { DataTexture } texture The DataTexture to write to\n * @param { Curve } splineCurve The curve to describe\n * @param { number } offset Which curve slot to write to\n */\nexport const updateSplineTexture = <TCurve extends Curve<any>>(\n  texture: DataTexture,\n  splineCurve: TCurve,\n  offset = 0,\n): void => {\n  const numberOfPoints = Math.floor(TEXTURE_WIDTH * (TEXTURE_HEIGHT / 4))\n  splineCurve.arcLengthDivisions = numberOfPoints / 2\n  splineCurve.updateArcLengths()\n  const points = splineCurve.getSpacedPoints(numberOfPoints)\n  const frenetFrames = splineCurve.computeFrenetFrames(numberOfPoints, true)\n\n  for (let i = 0; i < numberOfPoints; i++) {\n    const rowOffset = Math.floor(i / TEXTURE_WIDTH)\n    const rowIndex = i % TEXTURE_WIDTH\n\n    let pt = points[i]\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 0 + rowOffset + TEXTURE_HEIGHT * offset)\n    pt = frenetFrames.tangents[i]\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 1 + rowOffset + TEXTURE_HEIGHT * offset)\n    pt = frenetFrames.normals[i]\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 2 + rowOffset + TEXTURE_HEIGHT * offset)\n    pt = frenetFrames.binormals[i]\n    setTextureValue(texture, rowIndex, pt.x, pt.y, pt.z, 3 + rowOffset + TEXTURE_HEIGHT * offset)\n  }\n\n  texture.needsUpdate = true\n}\n\nconst setTextureValue = (texture: DataTexture, index: number, x: number, y: number, z: number, o: number): void => {\n  const image = texture.image\n  const { data } = image\n  const i = CHANNELS * TEXTURE_WIDTH * o // Row Offset\n  data[index * CHANNELS + i + 0] = x\n  data[index * CHANNELS + i + 1] = y\n  data[index * CHANNELS + i + 2] = z\n  data[index * CHANNELS + i + 3] = 1\n}\n\nexport interface INumericUniform extends IUniform {\n  type: 'f' | 'i'\n  value: number\n}\n\nexport type CurveModifierUniforms = {\n  spineTexture: IUniform<DataTexture>\n  pathOffset: INumericUniform\n  pathSegment: INumericUniform\n  spineOffset: INumericUniform\n  spineLength: INumericUniform\n  flow: INumericUniform\n}\n\n/**\n * Create a new set of uniforms for describing the curve modifier\n *\n * @param { DataTexture } Texture which holds the curve description\n */\nexport const getUniforms = (splineTexture: DataTexture): CurveModifierUniforms => ({\n  spineTexture: { value: splineTexture },\n  pathOffset: { type: 'f', value: 0 }, // time of path curve\n  pathSegment: { type: 'f', value: 1 }, // fractional length of path\n  spineOffset: { type: 'f', value: 161 },\n  spineLength: { type: 'f', value: 400 },\n  flow: { type: 'i', value: 1 },\n})\n\nexport type ModifiedMaterial<TMaterial extends Material> = TMaterial & {\n  __ok: boolean\n}\n\nexport function modifyShader<TMaterial extends Material = Material>(\n  material: ModifiedMaterial<TMaterial>,\n  uniforms: CurveModifierUniforms,\n  numberOfCurves = 1,\n): void {\n  if (material.__ok) return\n  material.__ok = true\n\n  material.onBeforeCompile = (shader: { vertexShader: string; uniforms: { [uniform: string]: IUniform } }): void => {\n    if ((shader as any).__modified) return\n    ;(shader as any).__modified = true\n\n    Object.assign(shader.uniforms, uniforms)\n\n    const vertexShader = /* glsl */ `\n\t\tuniform sampler2D spineTexture;\n\t\tuniform float pathOffset;\n\t\tuniform float pathSegment;\n\t\tuniform float spineOffset;\n\t\tuniform float spineLength;\n\t\tuniform int flow;\n\n\t\tfloat textureLayers = ${TEXTURE_HEIGHT * numberOfCurves}.;\n\t\tfloat textureStacks = ${TEXTURE_HEIGHT / 4}.;\n\n\t\t${shader.vertexShader}\n\t\t`\n      // chunk import moved in front of modified shader below\n      .replace('#include <beginnormal_vertex>', '')\n\n      // vec3 transformedNormal declaration overriden below\n      .replace('#include <defaultnormal_vertex>', '')\n\n      // vec3 transformed declaration overriden below\n      .replace('#include <begin_vertex>', '')\n\n      // shader override\n      .replace(\n        /void\\s*main\\s*\\(\\)\\s*\\{/,\n        /* glsl */ `\n        void main() {\n        #include <beginnormal_vertex>\n\n        vec4 worldPos = modelMatrix * vec4(position, 1.);\n\n        bool bend = flow > 0;\n        float xWeight = bend ? 0. : 1.;\n\n        #ifdef USE_INSTANCING\n        float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];\n        float spineLengthFromInstanceMatrix = instanceMatrix[3][0];\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;\n        #else\n        float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;\n        float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;\n        #endif\n\n        mt = mod(mt, textureStacks);\n        float rowOffset = floor(mt);\n\n        #ifdef USE_INSTANCING\n        rowOffset += instanceMatrix[3][1] * ${TEXTURE_HEIGHT}.;\n        #endif\n\n        vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;\n        vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;\n        mat3 basis = mat3(a, b, c);\n\n        vec3 transformed = basis\n          * vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)\n          + spinePos;\n\n        vec3 transformedNormal = normalMatrix * (basis * objectNormal);\n\t\t\t`,\n      )\n      .replace(\n        '#include <project_vertex>',\n        /* glsl */ `vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;`,\n      )\n\n    shader.vertexShader = vertexShader\n  }\n}\n\n/**\n * A helper class for making meshes bend aroudn curves\n */\nexport class Flow<TMesh extends Mesh = Mesh> {\n  public curveArray: Curve<any>[]\n  public curveLengthArray: number[]\n\n  public object3D: TMesh\n  public splineTexure: DataTexture\n  public uniforms: CurveModifierUniforms\n\n  /**\n   * @param {Mesh} mesh The mesh to clone and modify to bend around the curve\n   * @param {number} numberOfCurves The amount of space that should preallocated for additional curves\n   */\n  constructor(mesh: TMesh, numberOfCurves = 1) {\n    const obj3D = mesh.clone() as TMesh\n    const splineTexure = initSplineTexture(numberOfCurves)\n    const uniforms = getUniforms(splineTexure)\n\n    obj3D.traverse((child) => {\n      if (child instanceof Mesh || child instanceof InstancedMesh) {\n        child.material = child.material.clone()\n        modifyShader(child.material, uniforms, numberOfCurves)\n      }\n    })\n\n    this.curveArray = new Array(numberOfCurves)\n    this.curveLengthArray = new Array(numberOfCurves)\n\n    this.object3D = obj3D\n    this.splineTexure = splineTexure\n    this.uniforms = uniforms\n  }\n\n  public updateCurve<TCurve extends Curve<any>>(index: number, curve: TCurve): void {\n    if (index >= this.curveArray.length) throw Error('Index out of range for Flow')\n    const curveLength = curve.getLength()\n    this.uniforms.spineLength.value = curveLength\n    this.curveLengthArray[index] = curveLength\n    this.curveArray[index] = curve\n    updateSplineTexture(this.splineTexure, curve, index)\n  }\n\n  public moveAlongCurve(amount: number): void {\n    this.uniforms.pathOffset.value += amount\n  }\n}\nconst matrix = /* @__PURE__ */ new Matrix4()\n\n/**\n * A helper class for creating instanced versions of flow, where the instances are placed on the curve.\n */\nexport class InstancedFlow<\n  TGeometry extends BufferGeometry = BufferGeometry,\n  TMaterial extends Material = Material\n> extends Flow<InstancedMesh<TGeometry, TMaterial>> {\n  public offsets: number[]\n  public whichCurve: number[]\n\n  /**\n   *\n   * @param {number} count The number of instanced elements\n   * @param {number} curveCount The number of curves to preallocate for\n   * @param {Geometry} geometry The geometry to use for the instanced mesh\n   * @param {Material} material The material to use for the instanced mesh\n   */\n  constructor(count: number, curveCount: number, geometry: TGeometry, material: TMaterial) {\n    const mesh = new InstancedMesh(geometry, material, count)\n    mesh.instanceMatrix.setUsage(DynamicDrawUsage)\n    mesh.frustumCulled = false\n    super(mesh, curveCount)\n\n    this.offsets = new Array(count).fill(0)\n    this.whichCurve = new Array(count).fill(0)\n  }\n\n  /**\n   * The extra information about which curve and curve position is stored in the translation components of the matrix for the instanced objects\n   * This writes that information to the matrix and marks it as needing update.\n   *\n   * @param {number} index of the instanced element to update\n   */\n  private writeChanges(index: number): void {\n    matrix.makeTranslation(this.curveLengthArray[this.whichCurve[index]], this.whichCurve[index], this.offsets[index])\n    this.object3D.setMatrixAt(index, matrix)\n    this.object3D.instanceMatrix.needsUpdate = true\n  }\n\n  /**\n   * Move an individual element along the curve by a specific amount\n   *\n   * @param {number} index Which element to update\n   * @param {number} offset Move by how much\n   */\n  public moveIndividualAlongCurve(index: number, offset: number): void {\n    this.offsets[index] += offset\n    this.writeChanges(index)\n  }\n\n  /**\n   * Select which curve to use for an element\n   *\n   * @param {number} index the index of the instanced element to update\n   * @param {number} curveNo the index of the curve it should use\n   */\n  public setCurve(index: number, curveNo: number): void {\n    if (isNaN(curveNo)) throw Error('curve index being set is Not a Number (NaN)')\n    this.whichCurve[index] = curveNo\n    this.writeChanges(index)\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 23243, "column": 0}, "map": {"version":3,"file":"SimplexNoise.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/math/SimplexNoise.ts"],"sourcesContent":["// Ported from Stefan Gustavson's java implementation\n// http://staffwww.itn.liu.se/~stegu/simplexnoise/simplexnoise.pdf\n// Read Stefan's excellent paper for details on how this code works.\n//\n// Sean McCullough banksean@gmail.com\n//\n\nexport interface NumberGenerator {\n  random: () => number\n}\n\n// Added 4D noise\nexport class SimplexNoise {\n  private grad3 = [\n    [1, 1, 0],\n    [-1, 1, 0],\n    [1, -1, 0],\n    [-1, -1, 0],\n    [1, 0, 1],\n    [-1, 0, 1],\n    [1, 0, -1],\n    [-1, 0, -1],\n    [0, 1, 1],\n    [0, -1, 1],\n    [0, 1, -1],\n    [0, -1, -1],\n  ]\n\n  private grad4 = [\n    [0, 1, 1, 1],\n    [0, 1, 1, -1],\n    [0, 1, -1, 1],\n    [0, 1, -1, -1],\n    [0, -1, 1, 1],\n    [0, -1, 1, -1],\n    [0, -1, -1, 1],\n    [0, -1, -1, -1],\n    [1, 0, 1, 1],\n    [1, 0, 1, -1],\n    [1, 0, -1, 1],\n    [1, 0, -1, -1],\n    [-1, 0, 1, 1],\n    [-1, 0, 1, -1],\n    [-1, 0, -1, 1],\n    [-1, 0, -1, -1],\n    [1, 1, 0, 1],\n    [1, 1, 0, -1],\n    [1, -1, 0, 1],\n    [1, -1, 0, -1],\n    [-1, 1, 0, 1],\n    [-1, 1, 0, -1],\n    [-1, -1, 0, 1],\n    [-1, -1, 0, -1],\n    [1, 1, 1, 0],\n    [1, 1, -1, 0],\n    [1, -1, 1, 0],\n    [1, -1, -1, 0],\n    [-1, 1, 1, 0],\n    [-1, 1, -1, 0],\n    [-1, -1, 1, 0],\n    [-1, -1, -1, 0],\n  ]\n\n  private p: number[] = []\n\n  // To remove the need for index wrapping, double the permutation table length\n  private perm: number[] = []\n\n  // A lookup table to traverse the simplex around a given point in 4D.\n  // Details can be found where this table is used, in the 4D noise method.\n  private simplex = [\n    [0, 1, 2, 3],\n    [0, 1, 3, 2],\n    [0, 0, 0, 0],\n    [0, 2, 3, 1],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 2, 3, 0],\n    [0, 2, 1, 3],\n    [0, 0, 0, 0],\n    [0, 3, 1, 2],\n    [0, 3, 2, 1],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 3, 2, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [1, 2, 0, 3],\n    [0, 0, 0, 0],\n    [1, 3, 0, 2],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 3, 0, 1],\n    [2, 3, 1, 0],\n    [1, 0, 2, 3],\n    [1, 0, 3, 2],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 0, 3, 1],\n    [0, 0, 0, 0],\n    [2, 1, 3, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [2, 0, 1, 3],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [3, 0, 1, 2],\n    [3, 0, 2, 1],\n    [0, 0, 0, 0],\n    [3, 1, 2, 0],\n    [2, 1, 0, 3],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [3, 1, 0, 2],\n    [0, 0, 0, 0],\n    [3, 2, 0, 1],\n    [3, 2, 1, 0],\n  ]\n\n  /**\n   * You can pass in a random number generator object if you like.\n   * It is assumed to have a random() method.\n   */\n  constructor(r: NumberGenerator = Math) {\n    for (let i = 0; i < 256; i++) {\n      this.p[i] = Math.floor(r.random() * 256)\n    }\n\n    for (let i = 0; i < 512; i++) {\n      this.perm[i] = this.p[i & 255]\n    }\n  }\n\n  public dot = (g: number[], x: number, y: number): number => {\n    return g[0] * x + g[1] * y\n  }\n\n  public dot3 = (g: number[], x: number, y: number, z: number): number => {\n    return g[0] * x + g[1] * y + g[2] * z\n  }\n\n  public dot4 = (g: number[], x: number, y: number, z: number, w: number): number => {\n    return g[0] * x + g[1] * y + g[2] * z + g[3] * w\n  }\n\n  public noise = (xin: number, yin: number): number => {\n    let n0\n    let n1\n    let n2 // Noise contributions from the three corners\n    // Skew the input space to determine which simplex cell we're in\n    const F2 = 0.5 * (Math.sqrt(3.0) - 1.0)\n    const s = (xin + yin) * F2 // Hairy factor for 2D\n    const i = Math.floor(xin + s)\n    const j = Math.floor(yin + s)\n    const G2 = (3.0 - Math.sqrt(3.0)) / 6.0\n    const t = (i + j) * G2\n    const X0 = i - t // Unskew the cell origin back to (x,y) space\n    const Y0 = j - t\n    const x0 = xin - X0 // The x,y distances from the cell origin\n    const y0 = yin - Y0\n    // For the 2D case, the simplex shape is an equilateral triangle.\n    // Determine which simplex we are in.\n    // upper triangle, YX order: (0,0)->(0,1)->(1,1)\n    let i1 = 0\n    // Offsets for second (middle) corner of simplex in (i,j) coords\n    let j1 = 1\n    if (x0 > y0) {\n      i1 = 1\n      j1 = 0\n    }\n\n    // A step of (1,0) in (i,j) means a step of (1-c,-c) in (x,y), and\n    // a step of (0,1) in (i,j) means a step of (-c,1-c) in (x,y), where\n    // c = (3-sqrt(3))/6\n    const x1 = x0 - i1 + G2 // Offsets for middle corner in (x,y) unskewed coords\n    const y1 = y0 - j1 + G2\n    const x2 = x0 - 1.0 + 2.0 * G2 // Offsets for last corner in (x,y) unskewed coords\n    const y2 = y0 - 1.0 + 2.0 * G2\n    // Work out the hashed gradient indices of the three simplex corners\n    const ii = i & 255\n    const jj = j & 255\n    const gi0 = this.perm[ii + this.perm[jj]] % 12\n    const gi1 = this.perm[ii + i1 + this.perm[jj + j1]] % 12\n    const gi2 = this.perm[ii + 1 + this.perm[jj + 1]] % 12\n    // Calculate the contribution from the three corners\n    let t0 = 0.5 - x0 * x0 - y0 * y0\n    if (t0 < 0) {\n      n0 = 0.0\n    } else {\n      t0 *= t0\n      n0 = t0 * t0 * this.dot(this.grad3[gi0], x0, y0) // (x,y) of grad3 used for 2D gradient\n    }\n\n    let t1 = 0.5 - x1 * x1 - y1 * y1\n    if (t1 < 0) {\n      n1 = 0.0\n    } else {\n      t1 *= t1\n      n1 = t1 * t1 * this.dot(this.grad3[gi1], x1, y1)\n    }\n\n    let t2 = 0.5 - x2 * x2 - y2 * y2\n    if (t2 < 0) {\n      n2 = 0.0\n    } else {\n      t2 *= t2\n      n2 = t2 * t2 * this.dot(this.grad3[gi2], x2, y2)\n    }\n\n    // Add contributions from each corner to get the final noise value.\n    // The result is scaled to return values in the interval [-1,1].\n    return 70.0 * (n0 + n1 + n2)\n  }\n\n  // 3D simplex noise\n  private noise3d = (xin: number, yin: number, zin: number): number => {\n    // Noise contributions from the four corners\n    let n0\n    let n1\n    let n2\n    let n3\n    // Skew the input space to determine which simplex cell we're in\n    const F3 = 1.0 / 3.0\n    const s = (xin + yin + zin) * F3 // Very nice and simple skew factor for 3D\n    const i = Math.floor(xin + s)\n    const j = Math.floor(yin + s)\n    const k = Math.floor(zin + s)\n    const G3 = 1.0 / 6.0 // Very nice and simple unskew factor, too\n    const t = (i + j + k) * G3\n    const X0 = i - t // Unskew the cell origin back to (x,y,z) space\n    const Y0 = j - t\n    const Z0 = k - t\n    const x0 = xin - X0 // The x,y,z distances from the cell origin\n    const y0 = yin - Y0\n    const z0 = zin - Z0\n    // For the 3D case, the simplex shape is a slightly irregular tetrahedron.\n    // Determine which simplex we are in.\n    let i1\n    let j1\n    let k1 // Offsets for second corner of simplex in (i,j,k) coords\n    let i2\n    let j2\n    let k2 // Offsets for third corner of simplex in (i,j,k) coords\n    if (x0 >= y0) {\n      if (y0 >= z0) {\n        i1 = 1\n        j1 = 0\n        k1 = 0\n        i2 = 1\n        j2 = 1\n        k2 = 0\n\n        // X Y Z order\n      } else if (x0 >= z0) {\n        i1 = 1\n        j1 = 0\n        k1 = 0\n        i2 = 1\n        j2 = 0\n        k2 = 1\n\n        // X Z Y order\n      } else {\n        i1 = 0\n        j1 = 0\n        k1 = 1\n        i2 = 1\n        j2 = 0\n        k2 = 1\n      } // Z X Y order\n    } else {\n      // x0<y0\n\n      if (y0 < z0) {\n        i1 = 0\n        j1 = 0\n        k1 = 1\n        i2 = 0\n        j2 = 1\n        k2 = 1\n\n        // Z Y X order\n      } else if (x0 < z0) {\n        i1 = 0\n        j1 = 1\n        k1 = 0\n        i2 = 0\n        j2 = 1\n        k2 = 1\n\n        // Y Z X order\n      } else {\n        i1 = 0\n        j1 = 1\n        k1 = 0\n        i2 = 1\n        j2 = 1\n        k2 = 0\n      } // Y X Z order\n    }\n\n    // A step of (1,0,0) in (i,j,k) means a step of (1-c,-c,-c) in (x,y,z),\n    // a step of (0,1,0) in (i,j,k) means a step of (-c,1-c,-c) in (x,y,z), and\n    // a step of (0,0,1) in (i,j,k) means a step of (-c,-c,1-c) in (x,y,z), where\n    // c = 1/6.\n    const x1 = x0 - i1 + G3 // Offsets for second corner in (x,y,z) coords\n    const y1 = y0 - j1 + G3\n    const z1 = z0 - k1 + G3\n    const x2 = x0 - i2 + 2.0 * G3 // Offsets for third corner in (x,y,z) coords\n    const y2 = y0 - j2 + 2.0 * G3\n    const z2 = z0 - k2 + 2.0 * G3\n    const x3 = x0 - 1.0 + 3.0 * G3 // Offsets for last corner in (x,y,z) coords\n    const y3 = y0 - 1.0 + 3.0 * G3\n    const z3 = z0 - 1.0 + 3.0 * G3\n    // Work out the hashed gradient indices of the four simplex corners\n    const ii = i & 255\n    const jj = j & 255\n    const kk = k & 255\n    const gi0 = this.perm[ii + this.perm[jj + this.perm[kk]]] % 12\n    const gi1 = this.perm[ii + i1 + this.perm[jj + j1 + this.perm[kk + k1]]] % 12\n    const gi2 = this.perm[ii + i2 + this.perm[jj + j2 + this.perm[kk + k2]]] % 12\n    const gi3 = this.perm[ii + 1 + this.perm[jj + 1 + this.perm[kk + 1]]] % 12\n    // Calculate the contribution from the four corners\n    let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0\n    if (t0 < 0) {\n      n0 = 0.0\n    } else {\n      t0 *= t0\n      n0 = t0 * t0 * this.dot3(this.grad3[gi0], x0, y0, z0)\n    }\n\n    let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1\n    if (t1 < 0) {\n      n1 = 0.0\n    } else {\n      t1 *= t1\n      n1 = t1 * t1 * this.dot3(this.grad3[gi1], x1, y1, z1)\n    }\n\n    let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2\n    if (t2 < 0) {\n      n2 = 0.0\n    } else {\n      t2 *= t2\n      n2 = t2 * t2 * this.dot3(this.grad3[gi2], x2, y2, z2)\n    }\n\n    let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3\n    if (t3 < 0) {\n      n3 = 0.0\n    } else {\n      t3 *= t3\n      n3 = t3 * t3 * this.dot3(this.grad3[gi3], x3, y3, z3)\n    }\n\n    // Add contributions from each corner to get the final noise value.\n    // The result is scaled to stay just inside [-1,1]\n    return 32.0 * (n0 + n1 + n2 + n3)\n  }\n\n  // 4D simplex noise\n  public noise4d = (x: number, y: number, z: number, w: number): number => {\n    // For faster and easier lookups\n    const grad4 = this.grad4\n    const simplex = this.simplex\n    const perm = this.perm\n\n    // The skewing and unskewing factors are hairy again for the 4D case\n    const F4 = (Math.sqrt(5.0) - 1.0) / 4.0\n    const G4 = (5.0 - Math.sqrt(5.0)) / 20.0\n    let n0\n    let n1\n    let n2\n    let n3\n    let n4 // Noise contributions from the five corners\n    // Skew the (x,y,z,w) space to determine which cell of 24 simplices we're in\n    const s = (x + y + z + w) * F4 // Factor for 4D skewing\n    const i = Math.floor(x + s)\n    const j = Math.floor(y + s)\n    const k = Math.floor(z + s)\n    const l = Math.floor(w + s)\n    const t = (i + j + k + l) * G4 // Factor for 4D unskewing\n    const X0 = i - t // Unskew the cell origin back to (x,y,z,w) space\n    const Y0 = j - t\n    const Z0 = k - t\n    const W0 = l - t\n    const x0 = x - X0 // The x,y,z,w distances from the cell origin\n    const y0 = y - Y0\n    const z0 = z - Z0\n    const w0 = w - W0\n\n    // For the 4D case, the simplex is a 4D shape I won't even try to describe.\n    // To find out which of the 24 possible simplices we're in, we need to\n    // determine the magnitude ordering of x0, y0, z0 and w0.\n    // The method below is a good way of finding the ordering of x,y,z,w and\n    // then find the correct traversal order for the simplex were in.\n    // First, six pair-wise comparisons are performed between each possible pair\n    // of the four coordinates, and the results are used to add up binary bits\n    // for an integer index.\n    const c1 = x0 > y0 ? 32 : 0\n    const c2 = x0 > z0 ? 16 : 0\n    const c3 = y0 > z0 ? 8 : 0\n    const c4 = x0 > w0 ? 4 : 0\n    const c5 = y0 > w0 ? 2 : 0\n    const c6 = z0 > w0 ? 1 : 0\n    const c = c1 + c2 + c3 + c4 + c5 + c6\n    // The integer offsets for the second simplex corner\n    let i1\n    let j1\n    let k1\n    let l1\n\n    // The integer offsets for the third simplex corner\n    let i2\n    let j2\n    let k2\n    let l2\n\n    // The integer offsets for the fourth simplex corner\n    let i3\n    let j3\n    let k3\n    let l3\n    // simplex[c] is a 4-vector with the numbers 0, 1, 2 and 3 in some order.\n    // Many values of c will never occur, since e.g. x>y>z>w makes x<z, y<w and x<w\n    // impossible. Only the 24 indices which have non-zero entries make any sense.\n    // We use a thresholding to set the coordinates in turn from the largest magnitude.\n    // The number 3 in the \"simplex\" array is at the position of the largest coordinate.\n    i1 = simplex[c][0] >= 3 ? 1 : 0\n    j1 = simplex[c][1] >= 3 ? 1 : 0\n    k1 = simplex[c][2] >= 3 ? 1 : 0\n    l1 = simplex[c][3] >= 3 ? 1 : 0\n    // The number 2 in the \"simplex\" array is at the second largest coordinate.\n    i2 = simplex[c][0] >= 2 ? 1 : 0\n    j2 = simplex[c][1] >= 2 ? 1 : 0\n    k2 = simplex[c][2] >= 2 ? 1 : 0\n    l2 = simplex[c][3] >= 2 ? 1 : 0\n    // The number 1 in the \"simplex\" array is at the second smallest coordinate.\n    i3 = simplex[c][0] >= 1 ? 1 : 0\n    j3 = simplex[c][1] >= 1 ? 1 : 0\n    k3 = simplex[c][2] >= 1 ? 1 : 0\n    l3 = simplex[c][3] >= 1 ? 1 : 0\n    // The fifth corner has all coordinate offsets = 1, so no need to look that up.\n    const x1 = x0 - i1 + G4 // Offsets for second corner in (x,y,z,w) coords\n    const y1 = y0 - j1 + G4\n    const z1 = z0 - k1 + G4\n    const w1 = w0 - l1 + G4\n    const x2 = x0 - i2 + 2.0 * G4 // Offsets for third corner in (x,y,z,w) coords\n    const y2 = y0 - j2 + 2.0 * G4\n    const z2 = z0 - k2 + 2.0 * G4\n    const w2 = w0 - l2 + 2.0 * G4\n    const x3 = x0 - i3 + 3.0 * G4 // Offsets for fourth corner in (x,y,z,w) coords\n    const y3 = y0 - j3 + 3.0 * G4\n    const z3 = z0 - k3 + 3.0 * G4\n    const w3 = w0 - l3 + 3.0 * G4\n    const x4 = x0 - 1.0 + 4.0 * G4 // Offsets for last corner in (x,y,z,w) coords\n    const y4 = y0 - 1.0 + 4.0 * G4\n    const z4 = z0 - 1.0 + 4.0 * G4\n    const w4 = w0 - 1.0 + 4.0 * G4\n    // Work out the hashed gradient indices of the five simplex corners\n    const ii = i & 255\n    const jj = j & 255\n    const kk = k & 255\n    const ll = l & 255\n    const gi0 = perm[ii + perm[jj + perm[kk + perm[ll]]]] % 32\n    const gi1 = perm[ii + i1 + perm[jj + j1 + perm[kk + k1 + perm[ll + l1]]]] % 32\n    const gi2 = perm[ii + i2 + perm[jj + j2 + perm[kk + k2 + perm[ll + l2]]]] % 32\n    const gi3 = perm[ii + i3 + perm[jj + j3 + perm[kk + k3 + perm[ll + l3]]]] % 32\n    const gi4 = perm[ii + 1 + perm[jj + 1 + perm[kk + 1 + perm[ll + 1]]]] % 32\n    // Calculate the contribution from the five corners\n    let t0 = 0.6 - x0 * x0 - y0 * y0 - z0 * z0 - w0 * w0\n    if (t0 < 0) {\n      n0 = 0.0\n    } else {\n      t0 *= t0\n      n0 = t0 * t0 * this.dot4(grad4[gi0], x0, y0, z0, w0)\n    }\n\n    let t1 = 0.6 - x1 * x1 - y1 * y1 - z1 * z1 - w1 * w1\n    if (t1 < 0) {\n      n1 = 0.0\n    } else {\n      t1 *= t1\n      n1 = t1 * t1 * this.dot4(grad4[gi1], x1, y1, z1, w1)\n    }\n\n    let t2 = 0.6 - x2 * x2 - y2 * y2 - z2 * z2 - w2 * w2\n    if (t2 < 0) {\n      n2 = 0.0\n    } else {\n      t2 *= t2\n      n2 = t2 * t2 * this.dot4(grad4[gi2], x2, y2, z2, w2)\n    }\n\n    let t3 = 0.6 - x3 * x3 - y3 * y3 - z3 * z3 - w3 * w3\n    if (t3 < 0) {\n      n3 = 0.0\n    } else {\n      t3 *= t3\n      n3 = t3 * t3 * this.dot4(grad4[gi3], x3, y3, z3, w3)\n    }\n\n    let t4 = 0.6 - x4 * x4 - y4 * y4 - z4 * z4 - w4 * w4\n    if (t4 < 0) {\n      n4 = 0.0\n    } else {\n      t4 *= t4\n      n4 = t4 * t4 * this.dot4(grad4[gi4], x4, y4, z4, w4)\n    }\n\n    // Sum up and scale the result to cover the range [-1,1]\n    return 27.0 * (n0 + n1 + n2 + n3 + n4)\n  }\n}\n"],"names":[],"mappings":"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;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,CAAC;aAAA;YACX;gBAAC;gBAAG;gBAAG;gBAAG,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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 24223, "column": 0}, "map": {"version":3,"file":"GroundProjectedEnv.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/objects/GroundProjectedEnv.ts"],"sourcesContent":["import { Mesh, IcosahedronGeometry, ShaderMaterial, DoubleSide, Texture, CubeTexture, BufferGeometry } from 'three'\nimport { version } from '../_polyfill/constants'\n\nexport interface GroundProjectedEnvParameters {\n  height?: number\n  radius?: number\n}\n\nconst isCubeTexture = (def: CubeTexture | Texture): def is CubeTexture => def && (def as CubeTexture).isCubeTexture\n\nexport class GroundProjectedEnv extends Mesh<BufferGeometry, ShaderMaterial> {\n  constructor(texture: CubeTexture | Texture, options?: GroundProjectedEnvParameters) {\n    const isCubeMap = isCubeTexture(texture)\n    const w = (isCubeMap ? texture.image[0]?.width : texture.image.width) ?? 1024\n    const cubeSize = w / 4\n    const _lodMax = Math.floor(Math.log2(cubeSize))\n    const _cubeSize = Math.pow(2, _lodMax)\n    const width = 3 * Math.max(_cubeSize, 16 * 7)\n    const height = 4 * _cubeSize\n\n    const defines = [\n      isCubeMap ? '#define ENVMAP_TYPE_CUBE' : '',\n      `#define CUBEUV_TEXEL_WIDTH ${1.0 / width}`,\n      `#define CUBEUV_TEXEL_HEIGHT ${1.0 / height}`,\n      `#define CUBEUV_MAX_MIP ${_lodMax}.0`,\n    ]\n\n    const vertexShader = /* glsl */ `\n        varying vec3 vWorldPosition;\n        void main() \n        {\n            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );\n            vWorldPosition = worldPosition.xyz;\n            \n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n        `\n    const fragmentShader =\n      defines.join('\\n') +\n      /* glsl */ `\n        #define ENVMAP_TYPE_CUBE_UV\n        varying vec3 vWorldPosition;\n        uniform float radius;\n        uniform float height;\n        uniform float angle;\n        #ifdef ENVMAP_TYPE_CUBE\n            uniform samplerCube map;\n        #else\n            uniform sampler2D map;\n        #endif\n        // From: https://www.shadertoy.com/view/4tsBD7\n        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) \n        {\n            float d = dot ( rd, n );\n            \n            if( d > 0.0 ) { return 1e6; }\n            \n            vec3  o = ro - c;\n            float t = - dot( n, o ) / d;\n            vec3  q = o + rd * t;\n            \n            return ( dot( q, q ) < r * r ) ? t : 1e6;\n        }\n        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm\n        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) \n        {\n            vec3 oc = ro - ce;\n            float b = dot( oc, rd );\n            float c = dot( oc, oc ) - ra * ra;\n            float h = b * b - c;\n            \n            if( h < 0.0 ) { return -1.0; }\n            \n            h = sqrt( h );\n            \n            return - b + h;\n        }\n        vec3 project() \n        {\n            vec3 p = normalize( vWorldPosition );\n            vec3 camPos = cameraPosition;\n            camPos.y -= height;\n            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );\n            if( intersection > 0.0 ) {\n                \n                vec3 h = vec3( 0.0, - height, 0.0 );\n                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );\n                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;\n            } else {\n                p = vec3( 0.0, 1.0, 0.0 );\n            }\n            return p;\n        }\n        #include <common>\n        #include <cube_uv_reflection_fragment>\n        void main() \n        {\n            vec3 projectedWorldPosition = project();\n            \n            #ifdef ENVMAP_TYPE_CUBE\n                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;\n            #else\n                vec3 direction = normalize( projectedWorldPosition );\n                vec2 uv = equirectUv( direction );\n                vec3 outcolor = texture2D( map, uv ).rgb;\n            #endif\n            gl_FragColor = vec4( outcolor, 1.0 );\n            #include <tonemapping_fragment>\n            #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n        }\n        `\n\n    const uniforms = {\n      map: { value: texture },\n      height: { value: options?.height || 15 },\n      radius: { value: options?.radius || 100 },\n    }\n\n    const geometry = new IcosahedronGeometry(1, 16)\n    const material = new ShaderMaterial({\n      uniforms,\n      fragmentShader,\n      vertexShader,\n      side: DoubleSide,\n    })\n\n    super(geometry, material)\n  }\n\n  set radius(radius: number) {\n    this.material.uniforms.radius.value = radius\n  }\n\n  get radius(): number {\n    return this.material.uniforms.radius.value\n  }\n\n  set height(height: number) {\n    this.material.uniforms.height.value = height\n  }\n\n  get height(): number {\n    return this.material.uniforms.height.value\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAQA,MAAM,gBAAgB,CAAC,MAAmD,OAAQ,IAAoB,aAAA;AAE/F,MAAM,2KAA2B,OAAA,CAAqC;IAC3E,YAAY,OAAA,EAAgC,OAAA,CAAwC;;QAC5E,MAAA,YAAY,cAAc,OAAO;QACjC,MAAA,IAAA,CAAK,KAAA,YAAA,CAAY,KAAA,QAAQ,KAAA,CAAM,CAAC,CAAA,KAAf,OAAA,KAAA,IAAA,GAAkB,KAAA,GAAQ,QAAQ,KAAA,CAAM,KAAA,KAApD,OAAA,KAA8D;QACzE,MAAM,WAAW,IAAI;QACrB,MAAM,UAAU,KAAK,KAAA,CAAM,KAAK,IAAA,CAAK,QAAQ,CAAC;QAC9C,MAAM,YAAY,KAAK,GAAA,CAAI,GAAG,OAAO;QACrC,MAAM,QAAQ,IAAI,KAAK,GAAA,CAAI,WAAW,KAAK,CAAC;QAC5C,MAAM,SAAS,IAAI;QAEnB,MAAM,UAAU;YACd,YAAY,6BAA6B;YACzC,CAAA,2BAAA,EAA8B,IAAM,OAAA;YACpC,CAAA,4BAAA,EAA+B,IAAM,QAAA;YACrC,CAAA,uBAAA,EAA0B,QAAA,EAAA,CAAA;SAAA;QAGtB,MAAA,eAAA,QAAA,GAA0B,CAAA;;;;;;;;;QAAA,CAAA;QAU1B,MAAA,iBACJ,QAAQ,IAAA,CAAK,IAAI,IAAA,QAAA,GACN,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sBAAA,4JAqEO,UAAA,IAAW,MAAM,wBAAwB,qBAAA;;QAAA,CAAA;QAI7D,MAAM,WAAW;YACf,KAAK;gBAAE,OAAO;YAAQ;YACtB,QAAQ;gBAAE,OAAA,CAAO,WAAA,OAAA,KAAA,IAAA,QAAS,MAAA,KAAU;YAAG;YACvC,QAAQ;gBAAE,OAAA,CAAO,WAAA,OAAA,KAAA,IAAA,QAAS,MAAA,KAAU;YAAI;QAAA;QAG1C,MAAM,WAAW,oJAAI,sBAAA,CAAoB,GAAG,EAAE;QACxC,MAAA,WAAW,oJAAI,iBAAA,CAAe;YAClC;YACA;YACA;YACA,sJAAM,aAAA;QAAA,CACP;QAED,KAAA,CAAM,UAAU,QAAQ;IAC1B;IAEA,IAAI,OAAO,MAAA,EAAgB;QACpB,IAAA,CAAA,QAAA,CAAS,QAAA,CAAS,MAAA,CAAO,KAAA,GAAQ;IACxC;IAEA,IAAI,SAAiB;QACZ,OAAA,IAAA,CAAK,QAAA,CAAS,QAAA,CAAS,MAAA,CAAO,KAAA;IACvC;IAEA,IAAI,OAAO,MAAA,EAAgB;QACpB,IAAA,CAAA,QAAA,CAAS,QAAA,CAAS,MAAA,CAAO,KAAA,GAAQ;IACxC;IAEA,IAAI,SAAiB;QACZ,OAAA,IAAA,CAAK,QAAA,CAAS,QAAA,CAAS,MAAA,CAAO,KAAA;IACvC;AACF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 24370, "column": 0}, "map": {"version":3,"file":"RGBELoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/RGBELoader.js"],"sourcesContent":["import { DataTextureLoader, DataUtils, FloatType, HalfFloatType, LinearFilter } from 'three'\n\n// https://github.com/mrdoob/three.js/issues/5552\n// http://en.wikipedia.org/wiki/RGBE_image_format\n\nclass RGBELoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager)\n\n    this.type = HalfFloatType\n  }\n\n  // adapted from http://www.graphics.cornell.edu/~bjw/rgbe.html\n\n  parse(buffer) {\n    const /* default error routine.  change this to change error handling */\n      rgbe_read_error = 1,\n      rgbe_write_error = 2,\n      rgbe_format_error = 3,\n      rgbe_memory_error = 4,\n      rgbe_error = function (rgbe_error_code, msg) {\n        switch (rgbe_error_code) {\n          case rgbe_read_error:\n            throw new Error('THREE.RGBELoader: Read Error: ' + (msg || ''))\n          case rgbe_write_error:\n            throw new Error('THREE.RGBELoader: Write Error: ' + (msg || ''))\n          case rgbe_format_error:\n            throw new Error('THREE.RGBELoader: Bad File Format: ' + (msg || ''))\n          default:\n          case rgbe_memory_error:\n            throw new Error('THREE.RGBELoader: Memory Error: ' + (msg || ''))\n        }\n      },\n      /* offsets to red, green, and blue components in a data (float) pixel */\n      //RGBE_DATA_RED = 0,\n      //RGBE_DATA_GREEN = 1,\n      //RGBE_DATA_BLUE = 2,\n\n      /* number of floats per pixel, use 4 since stored in rgba image format */\n      //RGBE_DATA_SIZE = 4,\n\n      /* flags indicating which fields in an rgbe_header_info are valid */\n      RGBE_VALID_PROGRAMTYPE = 1,\n      RGBE_VALID_FORMAT = 2,\n      RGBE_VALID_DIMENSIONS = 4,\n      NEWLINE = '\\n',\n      fgets = function (buffer, lineLimit, consume) {\n        const chunkSize = 128\n\n        lineLimit = !lineLimit ? 1024 : lineLimit\n        let p = buffer.pos,\n          i = -1,\n          len = 0,\n          s = '',\n          chunk = String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)))\n\n        while (0 > (i = chunk.indexOf(NEWLINE)) && len < lineLimit && p < buffer.byteLength) {\n          s += chunk\n          len += chunk.length\n          p += chunkSize\n          chunk += String.fromCharCode.apply(null, new Uint16Array(buffer.subarray(p, p + chunkSize)))\n        }\n\n        if (-1 < i) {\n          /*for (i=l-1; i>=0; i--) {\n\t\t\t\t\t\tbyteCode = m.charCodeAt(i);\n\t\t\t\t\t\tif (byteCode > 0x7f && byteCode <= 0x7ff) byteLen++;\n\t\t\t\t\t\telse if (byteCode > 0x7ff && byteCode <= 0xffff) byteLen += 2;\n\t\t\t\t\t\tif (byteCode >= 0xDC00 && byteCode <= 0xDFFF) i--; //trail surrogate\n\t\t\t\t\t}*/\n          if (false !== consume) buffer.pos += len + i + 1\n          return s + chunk.slice(0, i)\n        }\n\n        return false\n      },\n      /* minimal header reading.  modify if you want to parse more information */\n      RGBE_ReadHeader = function (buffer) {\n        // regexes to parse header info fields\n        const magic_token_re = /^#\\?(\\S+)/,\n          gamma_re = /^\\s*GAMMA\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n          exposure_re = /^\\s*EXPOSURE\\s*=\\s*(\\d+(\\.\\d+)?)\\s*$/,\n          format_re = /^\\s*FORMAT=(\\S+)\\s*$/,\n          dimensions_re = /^\\s*\\-Y\\s+(\\d+)\\s+\\+X\\s+(\\d+)\\s*$/,\n          // RGBE format header struct\n          header = {\n            valid: 0 /* indicate which fields are valid */,\n\n            string: '' /* the actual header string */,\n\n            comments: '' /* comments found in header */,\n\n            programtype: 'RGBE' /* listed at beginning of file to identify it after \"#?\". defaults to \"RGBE\" */,\n\n            format: '' /* RGBE format, default 32-bit_rle_rgbe */,\n\n            gamma: 1.0 /* image has already been gamma corrected with given gamma. defaults to 1.0 (no correction) */,\n\n            exposure: 1.0 /* a value of 1.0 in an image corresponds to <exposure> watts/steradian/m^2. defaults to 1.0 */,\n\n            width: 0,\n            height: 0 /* image dimensions, width/height */,\n          }\n\n        let line, match\n\n        if (buffer.pos >= buffer.byteLength || !(line = fgets(buffer))) {\n          rgbe_error(rgbe_read_error, 'no header found')\n        }\n\n        /* if you want to require the magic token then uncomment the next line */\n        if (!(match = line.match(magic_token_re))) {\n          rgbe_error(rgbe_format_error, 'bad initial token')\n        }\n\n        header.valid |= RGBE_VALID_PROGRAMTYPE\n        header.programtype = match[1]\n        header.string += line + '\\n'\n\n        while (true) {\n          line = fgets(buffer)\n          if (false === line) break\n          header.string += line + '\\n'\n\n          if ('#' === line.charAt(0)) {\n            header.comments += line + '\\n'\n            continue // comment line\n          }\n\n          if ((match = line.match(gamma_re))) {\n            header.gamma = parseFloat(match[1])\n          }\n\n          if ((match = line.match(exposure_re))) {\n            header.exposure = parseFloat(match[1])\n          }\n\n          if ((match = line.match(format_re))) {\n            header.valid |= RGBE_VALID_FORMAT\n            header.format = match[1] //'32-bit_rle_rgbe';\n          }\n\n          if ((match = line.match(dimensions_re))) {\n            header.valid |= RGBE_VALID_DIMENSIONS\n            header.height = parseInt(match[1], 10)\n            header.width = parseInt(match[2], 10)\n          }\n\n          if (header.valid & RGBE_VALID_FORMAT && header.valid & RGBE_VALID_DIMENSIONS) break\n        }\n\n        if (!(header.valid & RGBE_VALID_FORMAT)) {\n          rgbe_error(rgbe_format_error, 'missing format specifier')\n        }\n\n        if (!(header.valid & RGBE_VALID_DIMENSIONS)) {\n          rgbe_error(rgbe_format_error, 'missing image size specifier')\n        }\n\n        return header\n      },\n      RGBE_ReadPixels_RLE = function (buffer, w, h) {\n        const scanline_width = w\n\n        if (\n          // run length encoding is not allowed so read flat\n          scanline_width < 8 ||\n          scanline_width > 0x7fff ||\n          // this file is not run length encoded\n          2 !== buffer[0] ||\n          2 !== buffer[1] ||\n          buffer[2] & 0x80\n        ) {\n          // return the flat buffer\n          return new Uint8Array(buffer)\n        }\n\n        if (scanline_width !== ((buffer[2] << 8) | buffer[3])) {\n          rgbe_error(rgbe_format_error, 'wrong scanline width')\n        }\n\n        const data_rgba = new Uint8Array(4 * w * h)\n\n        if (!data_rgba.length) {\n          rgbe_error(rgbe_memory_error, 'unable to allocate buffer space')\n        }\n\n        let offset = 0,\n          pos = 0\n\n        const ptr_end = 4 * scanline_width\n        const rgbeStart = new Uint8Array(4)\n        const scanline_buffer = new Uint8Array(ptr_end)\n        let num_scanlines = h\n\n        // read in each successive scanline\n        while (num_scanlines > 0 && pos < buffer.byteLength) {\n          if (pos + 4 > buffer.byteLength) {\n            rgbe_error(rgbe_read_error)\n          }\n\n          rgbeStart[0] = buffer[pos++]\n          rgbeStart[1] = buffer[pos++]\n          rgbeStart[2] = buffer[pos++]\n          rgbeStart[3] = buffer[pos++]\n\n          if (2 != rgbeStart[0] || 2 != rgbeStart[1] || ((rgbeStart[2] << 8) | rgbeStart[3]) != scanline_width) {\n            rgbe_error(rgbe_format_error, 'bad rgbe scanline format')\n          }\n\n          // read each of the four channels for the scanline into the buffer\n          // first red, then green, then blue, then exponent\n          let ptr = 0,\n            count\n\n          while (ptr < ptr_end && pos < buffer.byteLength) {\n            count = buffer[pos++]\n            const isEncodedRun = count > 128\n            if (isEncodedRun) count -= 128\n\n            if (0 === count || ptr + count > ptr_end) {\n              rgbe_error(rgbe_format_error, 'bad scanline data')\n            }\n\n            if (isEncodedRun) {\n              // a (encoded) run of the same value\n              const byteValue = buffer[pos++]\n              for (let i = 0; i < count; i++) {\n                scanline_buffer[ptr++] = byteValue\n              }\n              //ptr += count;\n            } else {\n              // a literal-run\n              scanline_buffer.set(buffer.subarray(pos, pos + count), ptr)\n              ptr += count\n              pos += count\n            }\n          }\n\n          // now convert data from buffer into rgba\n          // first red, then green, then blue, then exponent (alpha)\n          const l = scanline_width //scanline_buffer.byteLength;\n          for (let i = 0; i < l; i++) {\n            let off = 0\n            data_rgba[offset] = scanline_buffer[i + off]\n            off += scanline_width //1;\n            data_rgba[offset + 1] = scanline_buffer[i + off]\n            off += scanline_width //1;\n            data_rgba[offset + 2] = scanline_buffer[i + off]\n            off += scanline_width //1;\n            data_rgba[offset + 3] = scanline_buffer[i + off]\n            offset += 4\n          }\n\n          num_scanlines--\n        }\n\n        return data_rgba\n      }\n\n    const RGBEByteToRGBFloat = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3]\n      const scale = Math.pow(2.0, e - 128.0) / 255.0\n\n      destArray[destOffset + 0] = sourceArray[sourceOffset + 0] * scale\n      destArray[destOffset + 1] = sourceArray[sourceOffset + 1] * scale\n      destArray[destOffset + 2] = sourceArray[sourceOffset + 2] * scale\n      destArray[destOffset + 3] = 1\n    }\n\n    const RGBEByteToRGBHalf = function (sourceArray, sourceOffset, destArray, destOffset) {\n      const e = sourceArray[sourceOffset + 3]\n      const scale = Math.pow(2.0, e - 128.0) / 255.0\n\n      // clamping to 65504, the maximum representable value in float16\n      destArray[destOffset + 0] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 0] * scale, 65504))\n      destArray[destOffset + 1] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 1] * scale, 65504))\n      destArray[destOffset + 2] = DataUtils.toHalfFloat(Math.min(sourceArray[sourceOffset + 2] * scale, 65504))\n      destArray[destOffset + 3] = DataUtils.toHalfFloat(1)\n    }\n\n    const byteArray = new Uint8Array(buffer)\n    byteArray.pos = 0\n    const rgbe_header_info = RGBE_ReadHeader(byteArray)\n\n    const w = rgbe_header_info.width,\n      h = rgbe_header_info.height,\n      image_rgba_data = RGBE_ReadPixels_RLE(byteArray.subarray(byteArray.pos), w, h)\n\n    let data, type\n    let numElements\n\n    switch (this.type) {\n      case FloatType:\n        numElements = image_rgba_data.length / 4\n        const floatArray = new Float32Array(numElements * 4)\n\n        for (let j = 0; j < numElements; j++) {\n          RGBEByteToRGBFloat(image_rgba_data, j * 4, floatArray, j * 4)\n        }\n\n        data = floatArray\n        type = FloatType\n        break\n\n      case HalfFloatType:\n        numElements = image_rgba_data.length / 4\n        const halfArray = new Uint16Array(numElements * 4)\n\n        for (let j = 0; j < numElements; j++) {\n          RGBEByteToRGBHalf(image_rgba_data, j * 4, halfArray, j * 4)\n        }\n\n        data = halfArray\n        type = HalfFloatType\n        break\n\n      default:\n        throw new Error('THREE.RGBELoader: Unsupported type: ' + this.type)\n        break\n    }\n\n    return {\n      width: w,\n      height: h,\n      data: data,\n      header: rgbe_header_info.string,\n      gamma: rgbe_header_info.gamma,\n      exposure: rgbe_header_info.exposure,\n      type: type,\n    }\n  }\n\n  setDataType(value) {\n    this.type = value\n    return this\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      switch (texture.type) {\n        case FloatType:\n        case HalfFloatType:\n          if ('colorSpace' in texture) texture.colorSpace = 'srgb-linear'\n          else texture.encoding = 3000 // LinearEncoding\n          texture.minFilter = LinearFilter\n          texture.magFilter = LinearFilter\n          texture.generateMipmaps = false\n          texture.flipY = true\n\n          break\n      }\n\n      if (onLoad) onLoad(texture, texData)\n    }\n\n    return super.load(url, onLoadCallback, onProgress, onError)\n  }\n}\n\nexport { RGBELoader }\n"],"names":["buffer","w","h"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 24612, "column": 0}, "map": {"version":3,"file":"EXRLoader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/loaders/EXRLoader.js"],"sourcesContent":["import {\n  Texture,\n  DataTextureLoader,\n  DataUtils,\n  FloatType,\n  HalfFloatType,\n  LinearFilter,\n  RedFormat,\n  RGBAFormat,\n} from 'three'\nimport { unzlibSync } from 'fflate'\nimport { version } from '../_polyfill/constants'\n\n/**\n * OpenEXR loader currently supports uncompressed, ZIP(S), RLE, PIZ and DWA/B compression.\n * Supports reading as UnsignedByte, HalfFloat and Float type data texture.\n *\n * Referred to the original Industrial Light & Magic OpenEXR implementation and the TinyEXR / Syoyo Fujita\n * implementation, so I have preserved their copyright notices.\n */\n\n// /*\n// Copyright (c) 2014 - 2017, Syoyo Fujita\n// All rights reserved.\n\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//     * Neither the name of the Syoyo Fujita nor the\n//       names of its contributors may be used to endorse or promote products\n//       derived from this software without specific prior written permission.\n\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n// DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY\n// DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n// LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n// ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n// SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n// */\n\n// // TinyEXR contains some OpenEXR code, which is licensed under ------------\n\n// ///////////////////////////////////////////////////////////////////////////\n// //\n// // Copyright (c) 2002, Industrial Light & Magic, a division of Lucas\n// // Digital Ltd. LLC\n// //\n// // All rights reserved.\n// //\n// // Redistribution and use in source and binary forms, with or without\n// // modification, are permitted provided that the following conditions are\n// // met:\n// // *       Redistributions of source code must retain the above copyright\n// // notice, this list of conditions and the following disclaimer.\n// // *       Redistributions in binary form must reproduce the above\n// // copyright notice, this list of conditions and the following disclaimer\n// // in the documentation and/or other materials provided with the\n// // distribution.\n// // *       Neither the name of Industrial Light & Magic nor the names of\n// // its contributors may be used to endorse or promote products derived\n// // from this software without specific prior written permission.\n// //\n// // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// // \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// // LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// // A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// // OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// // SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// // LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// // DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// // THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// // (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n// //\n// ///////////////////////////////////////////////////////////////////////////\n\n// // End of OpenEXR license -------------------------------------------------\n\n// https://github.com/mrdoob/three.js/pull/25771\nconst hasColorSpace = version >= 152\n\nclass EXRLoader extends DataTextureLoader {\n  constructor(manager) {\n    super(manager)\n\n    this.type = HalfFloatType\n  }\n\n  parse(buffer) {\n    const USHORT_RANGE = 1 << 16\n    const BITMAP_SIZE = USHORT_RANGE >> 3\n\n    const HUF_ENCBITS = 16 // literal (value) bit length\n    const HUF_DECBITS = 14 // decoding bit size (>= 8)\n\n    const HUF_ENCSIZE = (1 << HUF_ENCBITS) + 1 // encoding table size\n    const HUF_DECSIZE = 1 << HUF_DECBITS // decoding table size\n    const HUF_DECMASK = HUF_DECSIZE - 1\n\n    const NBITS = 16\n    const A_OFFSET = 1 << (NBITS - 1)\n    const MOD_MASK = (1 << NBITS) - 1\n\n    const SHORT_ZEROCODE_RUN = 59\n    const LONG_ZEROCODE_RUN = 63\n    const SHORTEST_LONG_RUN = 2 + LONG_ZEROCODE_RUN - SHORT_ZEROCODE_RUN\n\n    const ULONG_SIZE = 8\n    const FLOAT32_SIZE = 4\n    const INT32_SIZE = 4\n    const INT16_SIZE = 2\n    const INT8_SIZE = 1\n\n    const STATIC_HUFFMAN = 0\n    const DEFLATE = 1\n\n    const UNKNOWN = 0\n    const LOSSY_DCT = 1\n    const RLE = 2\n\n    const logBase = Math.pow(2.7182818, 2.2)\n\n    function reverseLutFromBitmap(bitmap, lut) {\n      var k = 0\n\n      for (var i = 0; i < USHORT_RANGE; ++i) {\n        if (i == 0 || bitmap[i >> 3] & (1 << (i & 7))) {\n          lut[k++] = i\n        }\n      }\n\n      var n = k - 1\n\n      while (k < USHORT_RANGE) lut[k++] = 0\n\n      return n\n    }\n\n    function hufClearDecTable(hdec) {\n      for (var i = 0; i < HUF_DECSIZE; i++) {\n        hdec[i] = {}\n        hdec[i].len = 0\n        hdec[i].lit = 0\n        hdec[i].p = null\n      }\n    }\n\n    const getBitsReturn = { l: 0, c: 0, lc: 0 }\n\n    function getBits(nBits, c, lc, uInt8Array, inOffset) {\n      while (lc < nBits) {\n        c = (c << 8) | parseUint8Array(uInt8Array, inOffset)\n        lc += 8\n      }\n\n      lc -= nBits\n\n      getBitsReturn.l = (c >> lc) & ((1 << nBits) - 1)\n      getBitsReturn.c = c\n      getBitsReturn.lc = lc\n    }\n\n    const hufTableBuffer = new Array(59)\n\n    function hufCanonicalCodeTable(hcode) {\n      for (var i = 0; i <= 58; ++i) hufTableBuffer[i] = 0\n      for (var i = 0; i < HUF_ENCSIZE; ++i) hufTableBuffer[hcode[i]] += 1\n\n      var c = 0\n\n      for (var i = 58; i > 0; --i) {\n        var nc = (c + hufTableBuffer[i]) >> 1\n        hufTableBuffer[i] = c\n        c = nc\n      }\n\n      for (var i = 0; i < HUF_ENCSIZE; ++i) {\n        var l = hcode[i]\n        if (l > 0) hcode[i] = l | (hufTableBuffer[l]++ << 6)\n      }\n    }\n\n    function hufUnpackEncTable(uInt8Array, inDataView, inOffset, ni, im, iM, hcode) {\n      var p = inOffset\n      var c = 0\n      var lc = 0\n\n      for (; im <= iM; im++) {\n        if (p.value - inOffset.value > ni) return false\n\n        getBits(6, c, lc, uInt8Array, p)\n\n        var l = getBitsReturn.l\n        c = getBitsReturn.c\n        lc = getBitsReturn.lc\n\n        hcode[im] = l\n\n        if (l == LONG_ZEROCODE_RUN) {\n          if (p.value - inOffset.value > ni) {\n            throw 'Something wrong with hufUnpackEncTable'\n          }\n\n          getBits(8, c, lc, uInt8Array, p)\n\n          var zerun = getBitsReturn.l + SHORTEST_LONG_RUN\n          c = getBitsReturn.c\n          lc = getBitsReturn.lc\n\n          if (im + zerun > iM + 1) {\n            throw 'Something wrong with hufUnpackEncTable'\n          }\n\n          while (zerun--) hcode[im++] = 0\n\n          im--\n        } else if (l >= SHORT_ZEROCODE_RUN) {\n          var zerun = l - SHORT_ZEROCODE_RUN + 2\n\n          if (im + zerun > iM + 1) {\n            throw 'Something wrong with hufUnpackEncTable'\n          }\n\n          while (zerun--) hcode[im++] = 0\n\n          im--\n        }\n      }\n\n      hufCanonicalCodeTable(hcode)\n    }\n\n    function hufLength(code) {\n      return code & 63\n    }\n\n    function hufCode(code) {\n      return code >> 6\n    }\n\n    function hufBuildDecTable(hcode, im, iM, hdecod) {\n      for (; im <= iM; im++) {\n        var c = hufCode(hcode[im])\n        var l = hufLength(hcode[im])\n\n        if (c >> l) {\n          throw 'Invalid table entry'\n        }\n\n        if (l > HUF_DECBITS) {\n          var pl = hdecod[c >> (l - HUF_DECBITS)]\n\n          if (pl.len) {\n            throw 'Invalid table entry'\n          }\n\n          pl.lit++\n\n          if (pl.p) {\n            var p = pl.p\n            pl.p = new Array(pl.lit)\n\n            for (var i = 0; i < pl.lit - 1; ++i) {\n              pl.p[i] = p[i]\n            }\n          } else {\n            pl.p = new Array(1)\n          }\n\n          pl.p[pl.lit - 1] = im\n        } else if (l) {\n          var plOffset = 0\n\n          for (var i = 1 << (HUF_DECBITS - l); i > 0; i--) {\n            var pl = hdecod[(c << (HUF_DECBITS - l)) + plOffset]\n\n            if (pl.len || pl.p) {\n              throw 'Invalid table entry'\n            }\n\n            pl.len = l\n            pl.lit = im\n\n            plOffset++\n          }\n        }\n      }\n\n      return true\n    }\n\n    const getCharReturn = { c: 0, lc: 0 }\n\n    function getChar(c, lc, uInt8Array, inOffset) {\n      c = (c << 8) | parseUint8Array(uInt8Array, inOffset)\n      lc += 8\n\n      getCharReturn.c = c\n      getCharReturn.lc = lc\n    }\n\n    const getCodeReturn = { c: 0, lc: 0 }\n\n    function getCode(po, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outBufferOffset, outBufferEndOffset) {\n      if (po == rlc) {\n        if (lc < 8) {\n          getChar(c, lc, uInt8Array, inOffset)\n          c = getCharReturn.c\n          lc = getCharReturn.lc\n        }\n\n        lc -= 8\n\n        var cs = c >> lc\n        var cs = new Uint8Array([cs])[0]\n\n        if (outBufferOffset.value + cs > outBufferEndOffset) {\n          return false\n        }\n\n        var s = outBuffer[outBufferOffset.value - 1]\n\n        while (cs-- > 0) {\n          outBuffer[outBufferOffset.value++] = s\n        }\n      } else if (outBufferOffset.value < outBufferEndOffset) {\n        outBuffer[outBufferOffset.value++] = po\n      } else {\n        return false\n      }\n\n      getCodeReturn.c = c\n      getCodeReturn.lc = lc\n    }\n\n    function UInt16(value) {\n      return value & 0xffff\n    }\n\n    function Int16(value) {\n      var ref = UInt16(value)\n      return ref > 0x7fff ? ref - 0x10000 : ref\n    }\n\n    const wdec14Return = { a: 0, b: 0 }\n\n    function wdec14(l, h) {\n      var ls = Int16(l)\n      var hs = Int16(h)\n\n      var hi = hs\n      var ai = ls + (hi & 1) + (hi >> 1)\n\n      var as = ai\n      var bs = ai - hi\n\n      wdec14Return.a = as\n      wdec14Return.b = bs\n    }\n\n    function wdec16(l, h) {\n      var m = UInt16(l)\n      var d = UInt16(h)\n\n      var bb = (m - (d >> 1)) & MOD_MASK\n      var aa = (d + bb - A_OFFSET) & MOD_MASK\n\n      wdec14Return.a = aa\n      wdec14Return.b = bb\n    }\n\n    function wav2Decode(buffer, j, nx, ox, ny, oy, mx) {\n      var w14 = mx < 1 << 14\n      var n = nx > ny ? ny : nx\n      var p = 1\n      var p2\n\n      while (p <= n) p <<= 1\n\n      p >>= 1\n      p2 = p\n      p >>= 1\n\n      while (p >= 1) {\n        var py = 0\n        var ey = py + oy * (ny - p2)\n        var oy1 = oy * p\n        var oy2 = oy * p2\n        var ox1 = ox * p\n        var ox2 = ox * p2\n        var i00, i01, i10, i11\n\n        for (; py <= ey; py += oy2) {\n          var px = py\n          var ex = py + ox * (nx - p2)\n\n          for (; px <= ex; px += ox2) {\n            var p01 = px + ox1\n            var p10 = px + oy1\n            var p11 = p10 + ox1\n\n            if (w14) {\n              wdec14(buffer[px + j], buffer[p10 + j])\n\n              i00 = wdec14Return.a\n              i10 = wdec14Return.b\n\n              wdec14(buffer[p01 + j], buffer[p11 + j])\n\n              i01 = wdec14Return.a\n              i11 = wdec14Return.b\n\n              wdec14(i00, i01)\n\n              buffer[px + j] = wdec14Return.a\n              buffer[p01 + j] = wdec14Return.b\n\n              wdec14(i10, i11)\n\n              buffer[p10 + j] = wdec14Return.a\n              buffer[p11 + j] = wdec14Return.b\n            } else {\n              wdec16(buffer[px + j], buffer[p10 + j])\n\n              i00 = wdec14Return.a\n              i10 = wdec14Return.b\n\n              wdec16(buffer[p01 + j], buffer[p11 + j])\n\n              i01 = wdec14Return.a\n              i11 = wdec14Return.b\n\n              wdec16(i00, i01)\n\n              buffer[px + j] = wdec14Return.a\n              buffer[p01 + j] = wdec14Return.b\n\n              wdec16(i10, i11)\n\n              buffer[p10 + j] = wdec14Return.a\n              buffer[p11 + j] = wdec14Return.b\n            }\n          }\n\n          if (nx & p) {\n            var p10 = px + oy1\n\n            if (w14) wdec14(buffer[px + j], buffer[p10 + j])\n            else wdec16(buffer[px + j], buffer[p10 + j])\n\n            i00 = wdec14Return.a\n            buffer[p10 + j] = wdec14Return.b\n\n            buffer[px + j] = i00\n          }\n        }\n\n        if (ny & p) {\n          var px = py\n          var ex = py + ox * (nx - p2)\n\n          for (; px <= ex; px += ox2) {\n            var p01 = px + ox1\n\n            if (w14) wdec14(buffer[px + j], buffer[p01 + j])\n            else wdec16(buffer[px + j], buffer[p01 + j])\n\n            i00 = wdec14Return.a\n            buffer[p01 + j] = wdec14Return.b\n\n            buffer[px + j] = i00\n          }\n        }\n\n        p2 = p\n        p >>= 1\n      }\n\n      return py\n    }\n\n    function hufDecode(\n      encodingTable,\n      decodingTable,\n      uInt8Array,\n      inDataView,\n      inOffset,\n      ni,\n      rlc,\n      no,\n      outBuffer,\n      outOffset,\n    ) {\n      var c = 0\n      var lc = 0\n      var outBufferEndOffset = no\n      var inOffsetEnd = Math.trunc(inOffset.value + (ni + 7) / 8)\n\n      while (inOffset.value < inOffsetEnd) {\n        getChar(c, lc, uInt8Array, inOffset)\n\n        c = getCharReturn.c\n        lc = getCharReturn.lc\n\n        while (lc >= HUF_DECBITS) {\n          var index = (c >> (lc - HUF_DECBITS)) & HUF_DECMASK\n          var pl = decodingTable[index]\n\n          if (pl.len) {\n            lc -= pl.len\n\n            getCode(pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset)\n\n            c = getCodeReturn.c\n            lc = getCodeReturn.lc\n          } else {\n            if (!pl.p) {\n              throw 'hufDecode issues'\n            }\n\n            var j\n\n            for (j = 0; j < pl.lit; j++) {\n              var l = hufLength(encodingTable[pl.p[j]])\n\n              while (lc < l && inOffset.value < inOffsetEnd) {\n                getChar(c, lc, uInt8Array, inOffset)\n\n                c = getCharReturn.c\n                lc = getCharReturn.lc\n              }\n\n              if (lc >= l) {\n                if (hufCode(encodingTable[pl.p[j]]) == ((c >> (lc - l)) & ((1 << l) - 1))) {\n                  lc -= l\n\n                  getCode(\n                    pl.p[j],\n                    rlc,\n                    c,\n                    lc,\n                    uInt8Array,\n                    inDataView,\n                    inOffset,\n                    outBuffer,\n                    outOffset,\n                    outBufferEndOffset,\n                  )\n\n                  c = getCodeReturn.c\n                  lc = getCodeReturn.lc\n\n                  break\n                }\n              }\n            }\n\n            if (j == pl.lit) {\n              throw 'hufDecode issues'\n            }\n          }\n        }\n      }\n\n      var i = (8 - ni) & 7\n\n      c >>= i\n      lc -= i\n\n      while (lc > 0) {\n        var pl = decodingTable[(c << (HUF_DECBITS - lc)) & HUF_DECMASK]\n\n        if (pl.len) {\n          lc -= pl.len\n\n          getCode(pl.lit, rlc, c, lc, uInt8Array, inDataView, inOffset, outBuffer, outOffset, outBufferEndOffset)\n\n          c = getCodeReturn.c\n          lc = getCodeReturn.lc\n        } else {\n          throw 'hufDecode issues'\n        }\n      }\n\n      return true\n    }\n\n    function hufUncompress(uInt8Array, inDataView, inOffset, nCompressed, outBuffer, nRaw) {\n      var outOffset = { value: 0 }\n      var initialInOffset = inOffset.value\n\n      var im = parseUint32(inDataView, inOffset)\n      var iM = parseUint32(inDataView, inOffset)\n\n      inOffset.value += 4\n\n      var nBits = parseUint32(inDataView, inOffset)\n\n      inOffset.value += 4\n\n      if (im < 0 || im >= HUF_ENCSIZE || iM < 0 || iM >= HUF_ENCSIZE) {\n        throw 'Something wrong with HUF_ENCSIZE'\n      }\n\n      var freq = new Array(HUF_ENCSIZE)\n      var hdec = new Array(HUF_DECSIZE)\n\n      hufClearDecTable(hdec)\n\n      var ni = nCompressed - (inOffset.value - initialInOffset)\n\n      hufUnpackEncTable(uInt8Array, inDataView, inOffset, ni, im, iM, freq)\n\n      if (nBits > 8 * (nCompressed - (inOffset.value - initialInOffset))) {\n        throw 'Something wrong with hufUncompress'\n      }\n\n      hufBuildDecTable(freq, im, iM, hdec)\n\n      hufDecode(freq, hdec, uInt8Array, inDataView, inOffset, nBits, iM, nRaw, outBuffer, outOffset)\n    }\n\n    function applyLut(lut, data, nData) {\n      for (var i = 0; i < nData; ++i) {\n        data[i] = lut[data[i]]\n      }\n    }\n\n    function predictor(source) {\n      for (var t = 1; t < source.length; t++) {\n        var d = source[t - 1] + source[t] - 128\n        source[t] = d\n      }\n    }\n\n    function interleaveScalar(source, out) {\n      var t1 = 0\n      var t2 = Math.floor((source.length + 1) / 2)\n      var s = 0\n      var stop = source.length - 1\n\n      while (true) {\n        if (s > stop) break\n        out[s++] = source[t1++]\n\n        if (s > stop) break\n        out[s++] = source[t2++]\n      }\n    }\n\n    function decodeRunLength(source) {\n      var size = source.byteLength\n      var out = new Array()\n      var p = 0\n\n      var reader = new DataView(source)\n\n      while (size > 0) {\n        var l = reader.getInt8(p++)\n\n        if (l < 0) {\n          var count = -l\n          size -= count + 1\n\n          for (var i = 0; i < count; i++) {\n            out.push(reader.getUint8(p++))\n          }\n        } else {\n          var count = l\n          size -= 2\n\n          var value = reader.getUint8(p++)\n\n          for (var i = 0; i < count + 1; i++) {\n            out.push(value)\n          }\n        }\n      }\n\n      return out\n    }\n\n    function lossyDctDecode(cscSet, rowPtrs, channelData, acBuffer, dcBuffer, outBuffer) {\n      var dataView = new DataView(outBuffer.buffer)\n\n      var width = channelData[cscSet.idx[0]].width\n      var height = channelData[cscSet.idx[0]].height\n\n      var numComp = 3\n\n      var numFullBlocksX = Math.floor(width / 8.0)\n      var numBlocksX = Math.ceil(width / 8.0)\n      var numBlocksY = Math.ceil(height / 8.0)\n      var leftoverX = width - (numBlocksX - 1) * 8\n      var leftoverY = height - (numBlocksY - 1) * 8\n\n      var currAcComp = { value: 0 }\n      var currDcComp = new Array(numComp)\n      var dctData = new Array(numComp)\n      var halfZigBlock = new Array(numComp)\n      var rowBlock = new Array(numComp)\n      var rowOffsets = new Array(numComp)\n\n      for (let comp = 0; comp < numComp; ++comp) {\n        rowOffsets[comp] = rowPtrs[cscSet.idx[comp]]\n        currDcComp[comp] = comp < 1 ? 0 : currDcComp[comp - 1] + numBlocksX * numBlocksY\n        dctData[comp] = new Float32Array(64)\n        halfZigBlock[comp] = new Uint16Array(64)\n        rowBlock[comp] = new Uint16Array(numBlocksX * 64)\n      }\n\n      for (let blocky = 0; blocky < numBlocksY; ++blocky) {\n        var maxY = 8\n\n        if (blocky == numBlocksY - 1) maxY = leftoverY\n\n        var maxX = 8\n\n        for (let blockx = 0; blockx < numBlocksX; ++blockx) {\n          if (blockx == numBlocksX - 1) maxX = leftoverX\n\n          for (let comp = 0; comp < numComp; ++comp) {\n            halfZigBlock[comp].fill(0)\n\n            // set block DC component\n            halfZigBlock[comp][0] = dcBuffer[currDcComp[comp]++]\n            // set block AC components\n            unRleAC(currAcComp, acBuffer, halfZigBlock[comp])\n\n            // UnZigZag block to float\n            unZigZag(halfZigBlock[comp], dctData[comp])\n            // decode float dct\n            dctInverse(dctData[comp])\n          }\n\n          if (numComp == 3) {\n            csc709Inverse(dctData)\n          }\n\n          for (let comp = 0; comp < numComp; ++comp) {\n            convertToHalf(dctData[comp], rowBlock[comp], blockx * 64)\n          }\n        } // blockx\n\n        let offset = 0\n\n        for (let comp = 0; comp < numComp; ++comp) {\n          const type = channelData[cscSet.idx[comp]].type\n\n          for (let y = 8 * blocky; y < 8 * blocky + maxY; ++y) {\n            offset = rowOffsets[comp][y]\n\n            for (let blockx = 0; blockx < numFullBlocksX; ++blockx) {\n              const src = blockx * 64 + (y & 0x7) * 8\n\n              dataView.setUint16(offset + 0 * INT16_SIZE * type, rowBlock[comp][src + 0], true)\n              dataView.setUint16(offset + 1 * INT16_SIZE * type, rowBlock[comp][src + 1], true)\n              dataView.setUint16(offset + 2 * INT16_SIZE * type, rowBlock[comp][src + 2], true)\n              dataView.setUint16(offset + 3 * INT16_SIZE * type, rowBlock[comp][src + 3], true)\n\n              dataView.setUint16(offset + 4 * INT16_SIZE * type, rowBlock[comp][src + 4], true)\n              dataView.setUint16(offset + 5 * INT16_SIZE * type, rowBlock[comp][src + 5], true)\n              dataView.setUint16(offset + 6 * INT16_SIZE * type, rowBlock[comp][src + 6], true)\n              dataView.setUint16(offset + 7 * INT16_SIZE * type, rowBlock[comp][src + 7], true)\n\n              offset += 8 * INT16_SIZE * type\n            }\n          }\n\n          // handle partial X blocks\n          if (numFullBlocksX != numBlocksX) {\n            for (let y = 8 * blocky; y < 8 * blocky + maxY; ++y) {\n              const offset = rowOffsets[comp][y] + 8 * numFullBlocksX * INT16_SIZE * type\n              const src = numFullBlocksX * 64 + (y & 0x7) * 8\n\n              for (let x = 0; x < maxX; ++x) {\n                dataView.setUint16(offset + x * INT16_SIZE * type, rowBlock[comp][src + x], true)\n              }\n            }\n          }\n        } // comp\n      } // blocky\n\n      var halfRow = new Uint16Array(width)\n      var dataView = new DataView(outBuffer.buffer)\n\n      // convert channels back to float, if needed\n      for (var comp = 0; comp < numComp; ++comp) {\n        channelData[cscSet.idx[comp]].decoded = true\n        var type = channelData[cscSet.idx[comp]].type\n\n        if (channelData[comp].type != 2) continue\n\n        for (var y = 0; y < height; ++y) {\n          const offset = rowOffsets[comp][y]\n\n          for (var x = 0; x < width; ++x) {\n            halfRow[x] = dataView.getUint16(offset + x * INT16_SIZE * type, true)\n          }\n\n          for (var x = 0; x < width; ++x) {\n            dataView.setFloat32(offset + x * INT16_SIZE * type, decodeFloat16(halfRow[x]), true)\n          }\n        }\n      }\n    }\n\n    function unRleAC(currAcComp, acBuffer, halfZigBlock) {\n      var acValue\n      var dctComp = 1\n\n      while (dctComp < 64) {\n        acValue = acBuffer[currAcComp.value]\n\n        if (acValue == 0xff00) {\n          dctComp = 64\n        } else if (acValue >> 8 == 0xff) {\n          dctComp += acValue & 0xff\n        } else {\n          halfZigBlock[dctComp] = acValue\n          dctComp++\n        }\n\n        currAcComp.value++\n      }\n    }\n\n    function unZigZag(src, dst) {\n      dst[0] = decodeFloat16(src[0])\n      dst[1] = decodeFloat16(src[1])\n      dst[2] = decodeFloat16(src[5])\n      dst[3] = decodeFloat16(src[6])\n      dst[4] = decodeFloat16(src[14])\n      dst[5] = decodeFloat16(src[15])\n      dst[6] = decodeFloat16(src[27])\n      dst[7] = decodeFloat16(src[28])\n      dst[8] = decodeFloat16(src[2])\n      dst[9] = decodeFloat16(src[4])\n\n      dst[10] = decodeFloat16(src[7])\n      dst[11] = decodeFloat16(src[13])\n      dst[12] = decodeFloat16(src[16])\n      dst[13] = decodeFloat16(src[26])\n      dst[14] = decodeFloat16(src[29])\n      dst[15] = decodeFloat16(src[42])\n      dst[16] = decodeFloat16(src[3])\n      dst[17] = decodeFloat16(src[8])\n      dst[18] = decodeFloat16(src[12])\n      dst[19] = decodeFloat16(src[17])\n\n      dst[20] = decodeFloat16(src[25])\n      dst[21] = decodeFloat16(src[30])\n      dst[22] = decodeFloat16(src[41])\n      dst[23] = decodeFloat16(src[43])\n      dst[24] = decodeFloat16(src[9])\n      dst[25] = decodeFloat16(src[11])\n      dst[26] = decodeFloat16(src[18])\n      dst[27] = decodeFloat16(src[24])\n      dst[28] = decodeFloat16(src[31])\n      dst[29] = decodeFloat16(src[40])\n\n      dst[30] = decodeFloat16(src[44])\n      dst[31] = decodeFloat16(src[53])\n      dst[32] = decodeFloat16(src[10])\n      dst[33] = decodeFloat16(src[19])\n      dst[34] = decodeFloat16(src[23])\n      dst[35] = decodeFloat16(src[32])\n      dst[36] = decodeFloat16(src[39])\n      dst[37] = decodeFloat16(src[45])\n      dst[38] = decodeFloat16(src[52])\n      dst[39] = decodeFloat16(src[54])\n\n      dst[40] = decodeFloat16(src[20])\n      dst[41] = decodeFloat16(src[22])\n      dst[42] = decodeFloat16(src[33])\n      dst[43] = decodeFloat16(src[38])\n      dst[44] = decodeFloat16(src[46])\n      dst[45] = decodeFloat16(src[51])\n      dst[46] = decodeFloat16(src[55])\n      dst[47] = decodeFloat16(src[60])\n      dst[48] = decodeFloat16(src[21])\n      dst[49] = decodeFloat16(src[34])\n\n      dst[50] = decodeFloat16(src[37])\n      dst[51] = decodeFloat16(src[47])\n      dst[52] = decodeFloat16(src[50])\n      dst[53] = decodeFloat16(src[56])\n      dst[54] = decodeFloat16(src[59])\n      dst[55] = decodeFloat16(src[61])\n      dst[56] = decodeFloat16(src[35])\n      dst[57] = decodeFloat16(src[36])\n      dst[58] = decodeFloat16(src[48])\n      dst[59] = decodeFloat16(src[49])\n\n      dst[60] = decodeFloat16(src[57])\n      dst[61] = decodeFloat16(src[58])\n      dst[62] = decodeFloat16(src[62])\n      dst[63] = decodeFloat16(src[63])\n    }\n\n    function dctInverse(data) {\n      const a = 0.5 * Math.cos(3.14159 / 4.0)\n      const b = 0.5 * Math.cos(3.14159 / 16.0)\n      const c = 0.5 * Math.cos(3.14159 / 8.0)\n      const d = 0.5 * Math.cos((3.0 * 3.14159) / 16.0)\n      const e = 0.5 * Math.cos((5.0 * 3.14159) / 16.0)\n      const f = 0.5 * Math.cos((3.0 * 3.14159) / 8.0)\n      const g = 0.5 * Math.cos((7.0 * 3.14159) / 16.0)\n\n      var alpha = new Array(4)\n      var beta = new Array(4)\n      var theta = new Array(4)\n      var gamma = new Array(4)\n\n      for (var row = 0; row < 8; ++row) {\n        var rowPtr = row * 8\n\n        alpha[0] = c * data[rowPtr + 2]\n        alpha[1] = f * data[rowPtr + 2]\n        alpha[2] = c * data[rowPtr + 6]\n        alpha[3] = f * data[rowPtr + 6]\n\n        beta[0] = b * data[rowPtr + 1] + d * data[rowPtr + 3] + e * data[rowPtr + 5] + g * data[rowPtr + 7]\n        beta[1] = d * data[rowPtr + 1] - g * data[rowPtr + 3] - b * data[rowPtr + 5] - e * data[rowPtr + 7]\n        beta[2] = e * data[rowPtr + 1] - b * data[rowPtr + 3] + g * data[rowPtr + 5] + d * data[rowPtr + 7]\n        beta[3] = g * data[rowPtr + 1] - e * data[rowPtr + 3] + d * data[rowPtr + 5] - b * data[rowPtr + 7]\n\n        theta[0] = a * (data[rowPtr + 0] + data[rowPtr + 4])\n        theta[3] = a * (data[rowPtr + 0] - data[rowPtr + 4])\n        theta[1] = alpha[0] + alpha[3]\n        theta[2] = alpha[1] - alpha[2]\n\n        gamma[0] = theta[0] + theta[1]\n        gamma[1] = theta[3] + theta[2]\n        gamma[2] = theta[3] - theta[2]\n        gamma[3] = theta[0] - theta[1]\n\n        data[rowPtr + 0] = gamma[0] + beta[0]\n        data[rowPtr + 1] = gamma[1] + beta[1]\n        data[rowPtr + 2] = gamma[2] + beta[2]\n        data[rowPtr + 3] = gamma[3] + beta[3]\n\n        data[rowPtr + 4] = gamma[3] - beta[3]\n        data[rowPtr + 5] = gamma[2] - beta[2]\n        data[rowPtr + 6] = gamma[1] - beta[1]\n        data[rowPtr + 7] = gamma[0] - beta[0]\n      }\n\n      for (var column = 0; column < 8; ++column) {\n        alpha[0] = c * data[16 + column]\n        alpha[1] = f * data[16 + column]\n        alpha[2] = c * data[48 + column]\n        alpha[3] = f * data[48 + column]\n\n        beta[0] = b * data[8 + column] + d * data[24 + column] + e * data[40 + column] + g * data[56 + column]\n        beta[1] = d * data[8 + column] - g * data[24 + column] - b * data[40 + column] - e * data[56 + column]\n        beta[2] = e * data[8 + column] - b * data[24 + column] + g * data[40 + column] + d * data[56 + column]\n        beta[3] = g * data[8 + column] - e * data[24 + column] + d * data[40 + column] - b * data[56 + column]\n\n        theta[0] = a * (data[column] + data[32 + column])\n        theta[3] = a * (data[column] - data[32 + column])\n\n        theta[1] = alpha[0] + alpha[3]\n        theta[2] = alpha[1] - alpha[2]\n\n        gamma[0] = theta[0] + theta[1]\n        gamma[1] = theta[3] + theta[2]\n        gamma[2] = theta[3] - theta[2]\n        gamma[3] = theta[0] - theta[1]\n\n        data[0 + column] = gamma[0] + beta[0]\n        data[8 + column] = gamma[1] + beta[1]\n        data[16 + column] = gamma[2] + beta[2]\n        data[24 + column] = gamma[3] + beta[3]\n\n        data[32 + column] = gamma[3] - beta[3]\n        data[40 + column] = gamma[2] - beta[2]\n        data[48 + column] = gamma[1] - beta[1]\n        data[56 + column] = gamma[0] - beta[0]\n      }\n    }\n\n    function csc709Inverse(data) {\n      for (var i = 0; i < 64; ++i) {\n        var y = data[0][i]\n        var cb = data[1][i]\n        var cr = data[2][i]\n\n        data[0][i] = y + 1.5747 * cr\n        data[1][i] = y - 0.1873 * cb - 0.4682 * cr\n        data[2][i] = y + 1.8556 * cb\n      }\n    }\n\n    function convertToHalf(src, dst, idx) {\n      for (var i = 0; i < 64; ++i) {\n        dst[idx + i] = DataUtils.toHalfFloat(toLinear(src[i]))\n      }\n    }\n\n    function toLinear(float) {\n      if (float <= 1) {\n        return Math.sign(float) * Math.pow(Math.abs(float), 2.2)\n      } else {\n        return Math.sign(float) * Math.pow(logBase, Math.abs(float) - 1.0)\n      }\n    }\n\n    function uncompressRAW(info) {\n      return new DataView(info.array.buffer, info.offset.value, info.size)\n    }\n\n    function uncompressRLE(info) {\n      var compressed = info.viewer.buffer.slice(info.offset.value, info.offset.value + info.size)\n\n      var rawBuffer = new Uint8Array(decodeRunLength(compressed))\n      var tmpBuffer = new Uint8Array(rawBuffer.length)\n\n      predictor(rawBuffer) // revert predictor\n\n      interleaveScalar(rawBuffer, tmpBuffer) // interleave pixels\n\n      return new DataView(tmpBuffer.buffer)\n    }\n\n    function uncompressZIP(info) {\n      var compressed = info.array.slice(info.offset.value, info.offset.value + info.size)\n      var rawBuffer = unzlibSync(compressed)\n      var tmpBuffer = new Uint8Array(rawBuffer.length)\n\n      predictor(rawBuffer) // revert predictor\n\n      interleaveScalar(rawBuffer, tmpBuffer) // interleave pixels\n\n      return new DataView(tmpBuffer.buffer)\n    }\n\n    function uncompressPIZ(info) {\n      var inDataView = info.viewer\n      var inOffset = { value: info.offset.value }\n\n      var outBuffer = new Uint16Array(info.width * info.scanlineBlockSize * (info.channels * info.type))\n      var bitmap = new Uint8Array(BITMAP_SIZE)\n\n      // Setup channel info\n      var outBufferEnd = 0\n      var pizChannelData = new Array(info.channels)\n      for (var i = 0; i < info.channels; i++) {\n        pizChannelData[i] = {}\n        pizChannelData[i]['start'] = outBufferEnd\n        pizChannelData[i]['end'] = pizChannelData[i]['start']\n        pizChannelData[i]['nx'] = info.width\n        pizChannelData[i]['ny'] = info.lines\n        pizChannelData[i]['size'] = info.type\n\n        outBufferEnd += pizChannelData[i].nx * pizChannelData[i].ny * pizChannelData[i].size\n      }\n\n      // Read range compression data\n\n      var minNonZero = parseUint16(inDataView, inOffset)\n      var maxNonZero = parseUint16(inDataView, inOffset)\n\n      if (maxNonZero >= BITMAP_SIZE) {\n        throw 'Something is wrong with PIZ_COMPRESSION BITMAP_SIZE'\n      }\n\n      if (minNonZero <= maxNonZero) {\n        for (var i = 0; i < maxNonZero - minNonZero + 1; i++) {\n          bitmap[i + minNonZero] = parseUint8(inDataView, inOffset)\n        }\n      }\n\n      // Reverse LUT\n      var lut = new Uint16Array(USHORT_RANGE)\n      var maxValue = reverseLutFromBitmap(bitmap, lut)\n\n      var length = parseUint32(inDataView, inOffset)\n\n      // Huffman decoding\n      hufUncompress(info.array, inDataView, inOffset, length, outBuffer, outBufferEnd)\n\n      // Wavelet decoding\n      for (var i = 0; i < info.channels; ++i) {\n        var cd = pizChannelData[i]\n\n        for (var j = 0; j < pizChannelData[i].size; ++j) {\n          wav2Decode(outBuffer, cd.start + j, cd.nx, cd.size, cd.ny, cd.nx * cd.size, maxValue)\n        }\n      }\n\n      // Expand the pixel data to their original range\n      applyLut(lut, outBuffer, outBufferEnd)\n\n      // Rearrange the pixel data into the format expected by the caller.\n      var tmpOffset = 0\n      var tmpBuffer = new Uint8Array(outBuffer.buffer.byteLength)\n      for (var y = 0; y < info.lines; y++) {\n        for (var c = 0; c < info.channels; c++) {\n          var cd = pizChannelData[c]\n\n          var n = cd.nx * cd.size\n          var cp = new Uint8Array(outBuffer.buffer, cd.end * INT16_SIZE, n * INT16_SIZE)\n\n          tmpBuffer.set(cp, tmpOffset)\n          tmpOffset += n * INT16_SIZE\n          cd.end += n\n        }\n      }\n\n      return new DataView(tmpBuffer.buffer)\n    }\n\n    function uncompressPXR(info) {\n      var compressed = info.array.slice(info.offset.value, info.offset.value + info.size)\n      var rawBuffer = unzlibSync(compressed)\n\n      const sz = info.lines * info.channels * info.width\n      const tmpBuffer = info.type == 1 ? new Uint16Array(sz) : new Uint32Array(sz)\n\n      let tmpBufferEnd = 0\n      let writePtr = 0\n      const ptr = new Array(4)\n\n      for (let y = 0; y < info.lines; y++) {\n        for (let c = 0; c < info.channels; c++) {\n          let pixel = 0\n\n          switch (info.type) {\n            case 1:\n              ptr[0] = tmpBufferEnd\n              ptr[1] = ptr[0] + info.width\n              tmpBufferEnd = ptr[1] + info.width\n\n              for (let j = 0; j < info.width; ++j) {\n                const diff = (rawBuffer[ptr[0]++] << 8) | rawBuffer[ptr[1]++]\n\n                pixel += diff\n\n                tmpBuffer[writePtr] = pixel\n                writePtr++\n              }\n\n              break\n\n            case 2:\n              ptr[0] = tmpBufferEnd\n              ptr[1] = ptr[0] + info.width\n              ptr[2] = ptr[1] + info.width\n              tmpBufferEnd = ptr[2] + info.width\n\n              for (let j = 0; j < info.width; ++j) {\n                const diff = (rawBuffer[ptr[0]++] << 24) | (rawBuffer[ptr[1]++] << 16) | (rawBuffer[ptr[2]++] << 8)\n\n                pixel += diff\n\n                tmpBuffer[writePtr] = pixel\n                writePtr++\n              }\n\n              break\n          }\n        }\n      }\n\n      return new DataView(tmpBuffer.buffer)\n    }\n\n    function uncompressDWA(info) {\n      var inDataView = info.viewer\n      var inOffset = { value: info.offset.value }\n      var outBuffer = new Uint8Array(info.width * info.lines * (info.channels * info.type * INT16_SIZE))\n\n      // Read compression header information\n      var dwaHeader = {\n        version: parseInt64(inDataView, inOffset),\n        unknownUncompressedSize: parseInt64(inDataView, inOffset),\n        unknownCompressedSize: parseInt64(inDataView, inOffset),\n        acCompressedSize: parseInt64(inDataView, inOffset),\n        dcCompressedSize: parseInt64(inDataView, inOffset),\n        rleCompressedSize: parseInt64(inDataView, inOffset),\n        rleUncompressedSize: parseInt64(inDataView, inOffset),\n        rleRawSize: parseInt64(inDataView, inOffset),\n        totalAcUncompressedCount: parseInt64(inDataView, inOffset),\n        totalDcUncompressedCount: parseInt64(inDataView, inOffset),\n        acCompression: parseInt64(inDataView, inOffset),\n      }\n\n      if (dwaHeader.version < 2) {\n        throw 'EXRLoader.parse: ' + EXRHeader.compression + ' version ' + dwaHeader.version + ' is unsupported'\n      }\n\n      // Read channel ruleset information\n      var channelRules = new Array()\n      var ruleSize = parseUint16(inDataView, inOffset) - INT16_SIZE\n\n      while (ruleSize > 0) {\n        var name = parseNullTerminatedString(inDataView.buffer, inOffset)\n        var value = parseUint8(inDataView, inOffset)\n        var compression = (value >> 2) & 3\n        var csc = (value >> 4) - 1\n        var index = new Int8Array([csc])[0]\n        var type = parseUint8(inDataView, inOffset)\n\n        channelRules.push({\n          name: name,\n          index: index,\n          type: type,\n          compression: compression,\n        })\n\n        ruleSize -= name.length + 3\n      }\n\n      // Classify channels\n      var channels = EXRHeader.channels\n      var channelData = new Array(info.channels)\n\n      for (var i = 0; i < info.channels; ++i) {\n        var cd = (channelData[i] = {})\n        var channel = channels[i]\n\n        cd.name = channel.name\n        cd.compression = UNKNOWN\n        cd.decoded = false\n        cd.type = channel.pixelType\n        cd.pLinear = channel.pLinear\n        cd.width = info.width\n        cd.height = info.lines\n      }\n\n      var cscSet = {\n        idx: new Array(3),\n      }\n\n      for (var offset = 0; offset < info.channels; ++offset) {\n        var cd = channelData[offset]\n\n        for (var i = 0; i < channelRules.length; ++i) {\n          var rule = channelRules[i]\n\n          if (cd.name == rule.name) {\n            cd.compression = rule.compression\n\n            if (rule.index >= 0) {\n              cscSet.idx[rule.index] = offset\n            }\n\n            cd.offset = offset\n          }\n        }\n      }\n\n      // Read DCT - AC component data\n      if (dwaHeader.acCompressedSize > 0) {\n        switch (dwaHeader.acCompression) {\n          case STATIC_HUFFMAN:\n            var acBuffer = new Uint16Array(dwaHeader.totalAcUncompressedCount)\n            hufUncompress(\n              info.array,\n              inDataView,\n              inOffset,\n              dwaHeader.acCompressedSize,\n              acBuffer,\n              dwaHeader.totalAcUncompressedCount,\n            )\n            break\n\n          case DEFLATE:\n            var compressed = info.array.slice(inOffset.value, inOffset.value + dwaHeader.totalAcUncompressedCount)\n            var data = unzlibSync(compressed)\n            var acBuffer = new Uint16Array(data.buffer)\n            inOffset.value += dwaHeader.totalAcUncompressedCount\n            break\n        }\n      }\n\n      // Read DCT - DC component data\n      if (dwaHeader.dcCompressedSize > 0) {\n        var zlibInfo = {\n          array: info.array,\n          offset: inOffset,\n          size: dwaHeader.dcCompressedSize,\n        }\n        var dcBuffer = new Uint16Array(uncompressZIP(zlibInfo).buffer)\n        inOffset.value += dwaHeader.dcCompressedSize\n      }\n\n      // Read RLE compressed data\n      if (dwaHeader.rleRawSize > 0) {\n        var compressed = info.array.slice(inOffset.value, inOffset.value + dwaHeader.rleCompressedSize)\n        var data = unzlibSync(compressed)\n        var rleBuffer = decodeRunLength(data.buffer)\n\n        inOffset.value += dwaHeader.rleCompressedSize\n      }\n\n      // Prepare outbuffer data offset\n      var outBufferEnd = 0\n      var rowOffsets = new Array(channelData.length)\n      for (var i = 0; i < rowOffsets.length; ++i) {\n        rowOffsets[i] = new Array()\n      }\n\n      for (var y = 0; y < info.lines; ++y) {\n        for (var chan = 0; chan < channelData.length; ++chan) {\n          rowOffsets[chan].push(outBufferEnd)\n          outBufferEnd += channelData[chan].width * info.type * INT16_SIZE\n        }\n      }\n\n      // Lossy DCT decode RGB channels\n      lossyDctDecode(cscSet, rowOffsets, channelData, acBuffer, dcBuffer, outBuffer)\n\n      // Decode other channels\n      for (var i = 0; i < channelData.length; ++i) {\n        var cd = channelData[i]\n\n        if (cd.decoded) continue\n\n        switch (cd.compression) {\n          case RLE:\n            var row = 0\n            var rleOffset = 0\n\n            for (var y = 0; y < info.lines; ++y) {\n              var rowOffsetBytes = rowOffsets[i][row]\n\n              for (var x = 0; x < cd.width; ++x) {\n                for (var byte = 0; byte < INT16_SIZE * cd.type; ++byte) {\n                  outBuffer[rowOffsetBytes++] = rleBuffer[rleOffset + byte * cd.width * cd.height]\n                }\n\n                rleOffset++\n              }\n\n              row++\n            }\n\n            break\n\n          case LOSSY_DCT: // skip\n\n          default:\n            throw 'EXRLoader.parse: unsupported channel compression'\n        }\n      }\n\n      return new DataView(outBuffer.buffer)\n    }\n\n    function parseNullTerminatedString(buffer, offset) {\n      var uintBuffer = new Uint8Array(buffer)\n      var endOffset = 0\n\n      while (uintBuffer[offset.value + endOffset] != 0) {\n        endOffset += 1\n      }\n\n      var stringValue = new TextDecoder().decode(uintBuffer.slice(offset.value, offset.value + endOffset))\n\n      offset.value = offset.value + endOffset + 1\n\n      return stringValue\n    }\n\n    function parseFixedLengthString(buffer, offset, size) {\n      var stringValue = new TextDecoder().decode(new Uint8Array(buffer).slice(offset.value, offset.value + size))\n\n      offset.value = offset.value + size\n\n      return stringValue\n    }\n\n    function parseRational(dataView, offset) {\n      var x = parseInt32(dataView, offset)\n      var y = parseUint32(dataView, offset)\n\n      return [x, y]\n    }\n\n    function parseTimecode(dataView, offset) {\n      var x = parseUint32(dataView, offset)\n      var y = parseUint32(dataView, offset)\n\n      return [x, y]\n    }\n\n    function parseInt32(dataView, offset) {\n      var Int32 = dataView.getInt32(offset.value, true)\n\n      offset.value = offset.value + INT32_SIZE\n\n      return Int32\n    }\n\n    function parseUint32(dataView, offset) {\n      var Uint32 = dataView.getUint32(offset.value, true)\n\n      offset.value = offset.value + INT32_SIZE\n\n      return Uint32\n    }\n\n    function parseUint8Array(uInt8Array, offset) {\n      var Uint8 = uInt8Array[offset.value]\n\n      offset.value = offset.value + INT8_SIZE\n\n      return Uint8\n    }\n\n    function parseUint8(dataView, offset) {\n      var Uint8 = dataView.getUint8(offset.value)\n\n      offset.value = offset.value + INT8_SIZE\n\n      return Uint8\n    }\n\n    const parseInt64 = function (dataView, offset) {\n      let int\n\n      if ('getBigInt64' in DataView.prototype) {\n        int = Number(dataView.getBigInt64(offset.value, true))\n      } else {\n        int = dataView.getUint32(offset.value + 4, true) + Number(dataView.getUint32(offset.value, true) << 32)\n      }\n\n      offset.value += ULONG_SIZE\n\n      return int\n    }\n\n    function parseFloat32(dataView, offset) {\n      var float = dataView.getFloat32(offset.value, true)\n\n      offset.value += FLOAT32_SIZE\n\n      return float\n    }\n\n    function decodeFloat32(dataView, offset) {\n      return DataUtils.toHalfFloat(parseFloat32(dataView, offset))\n    }\n\n    // https://stackoverflow.com/questions/5678432/decompressing-half-precision-floats-in-javascript\n    function decodeFloat16(binary) {\n      var exponent = (binary & 0x7c00) >> 10,\n        fraction = binary & 0x03ff\n\n      return (\n        (binary >> 15 ? -1 : 1) *\n        (exponent\n          ? exponent === 0x1f\n            ? fraction\n              ? NaN\n              : Infinity\n            : Math.pow(2, exponent - 15) * (1 + fraction / 0x400)\n          : 6.103515625e-5 * (fraction / 0x400))\n      )\n    }\n\n    function parseUint16(dataView, offset) {\n      var Uint16 = dataView.getUint16(offset.value, true)\n\n      offset.value += INT16_SIZE\n\n      return Uint16\n    }\n\n    function parseFloat16(buffer, offset) {\n      return decodeFloat16(parseUint16(buffer, offset))\n    }\n\n    function parseChlist(dataView, buffer, offset, size) {\n      var startOffset = offset.value\n      var channels = []\n\n      while (offset.value < startOffset + size - 1) {\n        var name = parseNullTerminatedString(buffer, offset)\n        var pixelType = parseInt32(dataView, offset)\n        var pLinear = parseUint8(dataView, offset)\n        offset.value += 3 // reserved, three chars\n        var xSampling = parseInt32(dataView, offset)\n        var ySampling = parseInt32(dataView, offset)\n\n        channels.push({\n          name: name,\n          pixelType: pixelType,\n          pLinear: pLinear,\n          xSampling: xSampling,\n          ySampling: ySampling,\n        })\n      }\n\n      offset.value += 1\n\n      return channels\n    }\n\n    function parseChromaticities(dataView, offset) {\n      var redX = parseFloat32(dataView, offset)\n      var redY = parseFloat32(dataView, offset)\n      var greenX = parseFloat32(dataView, offset)\n      var greenY = parseFloat32(dataView, offset)\n      var blueX = parseFloat32(dataView, offset)\n      var blueY = parseFloat32(dataView, offset)\n      var whiteX = parseFloat32(dataView, offset)\n      var whiteY = parseFloat32(dataView, offset)\n\n      return {\n        redX: redX,\n        redY: redY,\n        greenX: greenX,\n        greenY: greenY,\n        blueX: blueX,\n        blueY: blueY,\n        whiteX: whiteX,\n        whiteY: whiteY,\n      }\n    }\n\n    function parseCompression(dataView, offset) {\n      var compressionCodes = [\n        'NO_COMPRESSION',\n        'RLE_COMPRESSION',\n        'ZIPS_COMPRESSION',\n        'ZIP_COMPRESSION',\n        'PIZ_COMPRESSION',\n        'PXR24_COMPRESSION',\n        'B44_COMPRESSION',\n        'B44A_COMPRESSION',\n        'DWAA_COMPRESSION',\n        'DWAB_COMPRESSION',\n      ]\n\n      var compression = parseUint8(dataView, offset)\n\n      return compressionCodes[compression]\n    }\n\n    function parseBox2i(dataView, offset) {\n      var xMin = parseUint32(dataView, offset)\n      var yMin = parseUint32(dataView, offset)\n      var xMax = parseUint32(dataView, offset)\n      var yMax = parseUint32(dataView, offset)\n\n      return { xMin: xMin, yMin: yMin, xMax: xMax, yMax: yMax }\n    }\n\n    function parseLineOrder(dataView, offset) {\n      var lineOrders = ['INCREASING_Y']\n\n      var lineOrder = parseUint8(dataView, offset)\n\n      return lineOrders[lineOrder]\n    }\n\n    function parseV2f(dataView, offset) {\n      var x = parseFloat32(dataView, offset)\n      var y = parseFloat32(dataView, offset)\n\n      return [x, y]\n    }\n\n    function parseV3f(dataView, offset) {\n      var x = parseFloat32(dataView, offset)\n      var y = parseFloat32(dataView, offset)\n      var z = parseFloat32(dataView, offset)\n\n      return [x, y, z]\n    }\n\n    function parseValue(dataView, buffer, offset, type, size) {\n      if (type === 'string' || type === 'stringvector' || type === 'iccProfile') {\n        return parseFixedLengthString(buffer, offset, size)\n      } else if (type === 'chlist') {\n        return parseChlist(dataView, buffer, offset, size)\n      } else if (type === 'chromaticities') {\n        return parseChromaticities(dataView, offset)\n      } else if (type === 'compression') {\n        return parseCompression(dataView, offset)\n      } else if (type === 'box2i') {\n        return parseBox2i(dataView, offset)\n      } else if (type === 'lineOrder') {\n        return parseLineOrder(dataView, offset)\n      } else if (type === 'float') {\n        return parseFloat32(dataView, offset)\n      } else if (type === 'v2f') {\n        return parseV2f(dataView, offset)\n      } else if (type === 'v3f') {\n        return parseV3f(dataView, offset)\n      } else if (type === 'int') {\n        return parseInt32(dataView, offset)\n      } else if (type === 'rational') {\n        return parseRational(dataView, offset)\n      } else if (type === 'timecode') {\n        return parseTimecode(dataView, offset)\n      } else if (type === 'preview') {\n        offset.value += size\n        return 'skipped'\n      } else {\n        offset.value += size\n        return undefined\n      }\n    }\n\n    function parseHeader(dataView, buffer, offset) {\n      const EXRHeader = {}\n\n      if (dataView.getUint32(0, true) != 20000630) {\n        // magic\n        throw \"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.\"\n      }\n\n      EXRHeader.version = dataView.getUint8(4)\n\n      const spec = dataView.getUint8(5) // fullMask\n\n      EXRHeader.spec = {\n        singleTile: !!(spec & 2),\n        longName: !!(spec & 4),\n        deepFormat: !!(spec & 8),\n        multiPart: !!(spec & 16),\n      }\n\n      // start of header\n\n      offset.value = 8 // start at 8 - after pre-amble\n\n      var keepReading = true\n\n      while (keepReading) {\n        var attributeName = parseNullTerminatedString(buffer, offset)\n\n        if (attributeName == 0) {\n          keepReading = false\n        } else {\n          var attributeType = parseNullTerminatedString(buffer, offset)\n          var attributeSize = parseUint32(dataView, offset)\n          var attributeValue = parseValue(dataView, buffer, offset, attributeType, attributeSize)\n\n          if (attributeValue === undefined) {\n            console.warn(`EXRLoader.parse: skipped unknown header attribute type \\'${attributeType}\\'.`)\n          } else {\n            EXRHeader[attributeName] = attributeValue\n          }\n        }\n      }\n\n      if ((spec & ~0x04) != 0) {\n        // unsupported tiled, deep-image, multi-part\n        console.error('EXRHeader:', EXRHeader)\n        throw 'THREE.EXRLoader: provided file is currently unsupported.'\n      }\n\n      return EXRHeader\n    }\n\n    function setupDecoder(EXRHeader, dataView, uInt8Array, offset, outputType) {\n      const EXRDecoder = {\n        size: 0,\n        viewer: dataView,\n        array: uInt8Array,\n        offset: offset,\n        width: EXRHeader.dataWindow.xMax - EXRHeader.dataWindow.xMin + 1,\n        height: EXRHeader.dataWindow.yMax - EXRHeader.dataWindow.yMin + 1,\n        channels: EXRHeader.channels.length,\n        bytesPerLine: null,\n        lines: null,\n        inputSize: null,\n        type: EXRHeader.channels[0].pixelType,\n        uncompress: null,\n        getter: null,\n        format: null,\n        [hasColorSpace ? 'colorSpace' : 'encoding']: null,\n      }\n\n      switch (EXRHeader.compression) {\n        case 'NO_COMPRESSION':\n          EXRDecoder.lines = 1\n          EXRDecoder.uncompress = uncompressRAW\n          break\n\n        case 'RLE_COMPRESSION':\n          EXRDecoder.lines = 1\n          EXRDecoder.uncompress = uncompressRLE\n          break\n\n        case 'ZIPS_COMPRESSION':\n          EXRDecoder.lines = 1\n          EXRDecoder.uncompress = uncompressZIP\n          break\n\n        case 'ZIP_COMPRESSION':\n          EXRDecoder.lines = 16\n          EXRDecoder.uncompress = uncompressZIP\n          break\n\n        case 'PIZ_COMPRESSION':\n          EXRDecoder.lines = 32\n          EXRDecoder.uncompress = uncompressPIZ\n          break\n\n        case 'PXR24_COMPRESSION':\n          EXRDecoder.lines = 16\n          EXRDecoder.uncompress = uncompressPXR\n          break\n\n        case 'DWAA_COMPRESSION':\n          EXRDecoder.lines = 32\n          EXRDecoder.uncompress = uncompressDWA\n          break\n\n        case 'DWAB_COMPRESSION':\n          EXRDecoder.lines = 256\n          EXRDecoder.uncompress = uncompressDWA\n          break\n\n        default:\n          throw 'EXRLoader.parse: ' + EXRHeader.compression + ' is unsupported'\n      }\n\n      EXRDecoder.scanlineBlockSize = EXRDecoder.lines\n\n      if (EXRDecoder.type == 1) {\n        // half\n        switch (outputType) {\n          case FloatType:\n            EXRDecoder.getter = parseFloat16\n            EXRDecoder.inputSize = INT16_SIZE\n            break\n\n          case HalfFloatType:\n            EXRDecoder.getter = parseUint16\n            EXRDecoder.inputSize = INT16_SIZE\n            break\n        }\n      } else if (EXRDecoder.type == 2) {\n        // float\n        switch (outputType) {\n          case FloatType:\n            EXRDecoder.getter = parseFloat32\n            EXRDecoder.inputSize = FLOAT32_SIZE\n            break\n\n          case HalfFloatType:\n            EXRDecoder.getter = decodeFloat32\n            EXRDecoder.inputSize = FLOAT32_SIZE\n        }\n      } else {\n        throw 'EXRLoader.parse: unsupported pixelType ' + EXRDecoder.type + ' for ' + EXRHeader.compression + '.'\n      }\n\n      EXRDecoder.blockCount = (EXRHeader.dataWindow.yMax + 1) / EXRDecoder.scanlineBlockSize\n\n      for (var i = 0; i < EXRDecoder.blockCount; i++) parseInt64(dataView, offset) // scanlineOffset\n\n      // we should be passed the scanline offset table, ready to start reading pixel data.\n\n      // RGB images will be converted to RGBA format, preventing software emulation in select devices.\n      EXRDecoder.outputChannels = EXRDecoder.channels == 3 ? 4 : EXRDecoder.channels\n      const size = EXRDecoder.width * EXRDecoder.height * EXRDecoder.outputChannels\n\n      switch (outputType) {\n        case FloatType:\n          EXRDecoder.byteArray = new Float32Array(size)\n\n          // Fill initially with 1s for the alpha value if the texture is not RGBA, RGB values will be overwritten\n          if (EXRDecoder.channels < EXRDecoder.outputChannels) EXRDecoder.byteArray.fill(1, 0, size)\n\n          break\n\n        case HalfFloatType:\n          EXRDecoder.byteArray = new Uint16Array(size)\n\n          if (EXRDecoder.channels < EXRDecoder.outputChannels) EXRDecoder.byteArray.fill(0x3c00, 0, size) // Uint16Array holds half float data, 0x3C00 is 1\n\n          break\n\n        default:\n          console.error('THREE.EXRLoader: unsupported type: ', outputType)\n          break\n      }\n\n      EXRDecoder.bytesPerLine = EXRDecoder.width * EXRDecoder.inputSize * EXRDecoder.channels\n\n      if (EXRDecoder.outputChannels == 4) EXRDecoder.format = RGBAFormat\n      else EXRDecoder.format = RedFormat\n\n      if (hasColorSpace) EXRDecoder.colorSpace = 'srgb-linear'\n      else EXRDecoder.encoding = 3000 // LinearEncoding\n\n      return EXRDecoder\n    }\n\n    // start parsing file [START]\n\n    const bufferDataView = new DataView(buffer)\n    const uInt8Array = new Uint8Array(buffer)\n    const offset = { value: 0 }\n\n    // get header information and validate format.\n    const EXRHeader = parseHeader(bufferDataView, buffer, offset)\n\n    // get input compression information and prepare decoding.\n    const EXRDecoder = setupDecoder(EXRHeader, bufferDataView, uInt8Array, offset, this.type)\n\n    const tmpOffset = { value: 0 }\n    const channelOffsets = { R: 0, G: 1, B: 2, A: 3, Y: 0 }\n\n    for (\n      let scanlineBlockIdx = 0;\n      scanlineBlockIdx < EXRDecoder.height / EXRDecoder.scanlineBlockSize;\n      scanlineBlockIdx++\n    ) {\n      const line = parseUint32(bufferDataView, offset) // line_no\n      EXRDecoder.size = parseUint32(bufferDataView, offset) // data_len\n      EXRDecoder.lines =\n        line + EXRDecoder.scanlineBlockSize > EXRDecoder.height\n          ? EXRDecoder.height - line\n          : EXRDecoder.scanlineBlockSize\n\n      const isCompressed = EXRDecoder.size < EXRDecoder.lines * EXRDecoder.bytesPerLine\n      const viewer = isCompressed ? EXRDecoder.uncompress(EXRDecoder) : uncompressRAW(EXRDecoder)\n\n      offset.value += EXRDecoder.size\n\n      for (let line_y = 0; line_y < EXRDecoder.scanlineBlockSize; line_y++) {\n        const true_y = line_y + scanlineBlockIdx * EXRDecoder.scanlineBlockSize\n        if (true_y >= EXRDecoder.height) break\n\n        for (let channelID = 0; channelID < EXRDecoder.channels; channelID++) {\n          const cOff = channelOffsets[EXRHeader.channels[channelID].name]\n\n          for (let x = 0; x < EXRDecoder.width; x++) {\n            tmpOffset.value =\n              (line_y * (EXRDecoder.channels * EXRDecoder.width) + channelID * EXRDecoder.width + x) *\n              EXRDecoder.inputSize\n            const outIndex =\n              (EXRDecoder.height - 1 - true_y) * (EXRDecoder.width * EXRDecoder.outputChannels) +\n              x * EXRDecoder.outputChannels +\n              cOff\n            EXRDecoder.byteArray[outIndex] = EXRDecoder.getter(viewer, tmpOffset)\n          }\n        }\n      }\n    }\n\n    return {\n      header: EXRHeader,\n      width: EXRDecoder.width,\n      height: EXRDecoder.height,\n      data: EXRDecoder.byteArray,\n      format: EXRDecoder.format,\n      [hasColorSpace ? 'colorSpace' : 'encoding']: EXRDecoder[hasColorSpace ? 'colorSpace' : 'encoding'],\n      type: this.type,\n    }\n  }\n\n  setDataType(value) {\n    this.type = value\n    return this\n  }\n\n  load(url, onLoad, onProgress, onError) {\n    function onLoadCallback(texture, texData) {\n      if (hasColorSpace) texture.colorSpace = texData.colorSpace\n      else texture.encoding = texData.encoding\n      texture.minFilter = LinearFilter\n      texture.magFilter = LinearFilter\n      texture.generateMipmaps = false\n      texture.flipY = false\n\n      if (onLoad) onLoad(texture, texData)\n    }\n\n    return super.load(url, onLoadCallback, onProgress, onError)\n  }\n}\n\nexport { EXRLoader }\n"],"names":["uInt8Array","buffer","comp","offset","type","y","x","tmpOffset","EXRHeader","EXRDecoder"],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 25988, "column": 0}, "map": {"version":3,"file":"HorizontalBlurShader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/shaders/HorizontalBlurShader.ts"],"sourcesContent":["/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nimport type { IUniform, Texture } from 'three'\nimport type { IShader } from './types'\n\nexport type HorizontalBlurShaderUniforms = {\n  tDiffuse: IUniform<Texture | null>\n  h: IUniform<number>\n}\n\nexport interface IHorizontalBlurShader extends IShader<HorizontalBlurShaderUniforms> {}\n\nexport const HorizontalBlurShader: IHorizontalBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    h: { value: 1.0 / 512.0 },\n  },\n  vertexShader: /* glsl */ `\n      varying vec2 vUv;\n\n      void main() {\n\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n      }\n  `,\n  fragmentShader: /* glsl */ `\n    uniform sampler2D tDiffuse;\n    uniform float h;\n\n    varying vec2 vUv;\n\n    void main() {\n\n    \tvec4 sum = vec4( 0.0 );\n\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n    \tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n    \tgl_FragColor = sum;\n\n    }\n  `,\n}\n"],"names":[],"mappings":";;;AAoBO,MAAM,uBAA8C;IACzD,UAAU;QACR,UAAU;YAAE,OAAO;QAAK;QACxB,GAAG;YAAE,OAAO,IAAM;QAAM;IAC1B;IACA,cAAA,QAAA,GAAyB,CAAA;;;;;;;;;EAAA,CAAA;IAUzB,gBAAA,QAAA,GAA2B,CAAA;;;;;;;;;;;;;;;;;;;;;;;EAAA,CAAA;AAwB7B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 26043, "column": 0}, "map": {"version":3,"file":"VerticalBlurShader.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/shaders/VerticalBlurShader.ts"],"sourcesContent":["/**\n * Two pass Gaussian blur filter (horizontal and vertical blur shaders)\n * - described in http://www.gamerendering.com/2008/10/11/gaussian-blur-filter-shader/\n *   and used in http://www.cake23.de/traveling-wavefronts-lit-up.html\n *\n * - 9 samples per pass\n * - standard deviation 2.7\n * - \"h\" and \"v\" parameters should be set to \"1 / width\" and \"1 / height\"\n */\n\nimport type { IUniform, Texture } from 'three'\nimport type { IShader } from './types'\n\nexport type VerticalBlurShaderUniforms = {\n  tDiffuse: IUniform<Texture | null>\n  v: IUniform<number>\n}\n\nexport interface IVerticalBlurShader extends IShader<VerticalBlurShaderUniforms> {}\n\nexport const VerticalBlurShader: IVerticalBlurShader = {\n  uniforms: {\n    tDiffuse: { value: null },\n    v: { value: 1.0 / 512.0 },\n  },\n  vertexShader: /* glsl */ `\n    varying vec2 vUv;\n\n    void main() {\n\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n    }\n  `,\n  fragmentShader: /* glsl */ `\n\n  uniform sampler2D tDiffuse;\n  uniform float v;\n\n  varying vec2 vUv;\n\n  void main() {\n\n    vec4 sum = vec4( 0.0 );\n\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n    gl_FragColor = sum;\n\n  }\n  `,\n}\n"],"names":[],"mappings":";;;AAoBO,MAAM,qBAA0C;IACrD,UAAU;QACR,UAAU;YAAE,OAAO;QAAK;QACxB,GAAG;YAAE,OAAO,IAAM;QAAM;IAC1B;IACA,cAAA,QAAA,GAAyB,CAAA;;;;;;;;;EAAA,CAAA;IAUzB,gBAAA,QAAA,GAA2B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;EAAA,CAAA;AAyB7B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 26099, "column": 0}, "map": {"version":3,"file":"Sky.js","sources":["file:///home/gvst/SHIFT2025/shiftappens2025/node_modules/src/objects/Sky.js"],"sourcesContent":["import { BackSide, BoxGeometry, Mesh, ShaderMaterial, UniformsUtils, Vector3 } from 'three'\nimport { version } from '../_polyfill/constants'\n\n/**\n * Based on \"A Practical Analytic Model for Daylight\"\n * aka The Preetham Model, the de facto standard analytic skydome model\n * https://www.researchgate.net/publication/220720443_A_Practical_Analytic_Model_for_Daylight\n *\n * First implemented by Simon Wallner\n * http://www.simonwallner.at/projects/atmospheric-scattering\n *\n * Improved by Martin Upitis\n * http://blenderartists.org/forum/showthread.php?245954-preethams-sky-impementation-HDR\n *\n * Three.js integration by zz85 http://twitter.com/blurspline\n */\nconst Sky = /* @__PURE__ */ (() => {\n  const SkyShader = {\n    uniforms: {\n      turbidity: { value: 2 },\n      rayleigh: { value: 1 },\n      mieCoefficient: { value: 0.005 },\n      mieDirectionalG: { value: 0.8 },\n      sunPosition: { value: new Vector3() },\n      up: { value: new Vector3(0, 1, 0) },\n    },\n\n    vertexShader: /* glsl */ `\n      uniform vec3 sunPosition;\n      uniform float rayleigh;\n      uniform float turbidity;\n      uniform float mieCoefficient;\n      uniform vec3 up;\n\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      // constants for atmospheric scattering\n      const float e = 2.71828182845904523536028747135266249775724709369995957;\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      // wavelength of used primaries, according to preetham\n      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\n      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n      // mie stuff\n      // K coefficient for the primaries\n      const float v = 4.0;\n      const vec3 K = vec3( 0.686, 0.678, 0.666 );\n      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\n      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n      // earth shadow hack\n      // cutoffAngle = pi / 1.95;\n      const float cutoffAngle = 1.6110731556870734;\n      const float steepness = 1.5;\n      const float EE = 1000.0;\n\n      float sunIntensity( float zenithAngleCos ) {\n        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n      }\n\n      vec3 totalMie( float T ) {\n        float c = ( 0.2 * T ) * 10E-18;\n        return 0.434 * c * MieConst;\n      }\n\n      void main() {\n\n        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n        vWorldPosition = worldPosition.xyz;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        gl_Position.z = gl_Position.w; // set z to camera.far\n\n        vSunDirection = normalize( sunPosition );\n\n        vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n      // extinction (absorbtion + out scattering)\n      // rayleigh coefficients\n        vBetaR = totalRayleigh * rayleighCoefficient;\n\n      // mie coefficients\n        vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n      }\n    `,\n\n    fragmentShader: /* glsl */ `\n      varying vec3 vWorldPosition;\n      varying vec3 vSunDirection;\n      varying float vSunfade;\n      varying vec3 vBetaR;\n      varying vec3 vBetaM;\n      varying float vSunE;\n\n      uniform float mieDirectionalG;\n      uniform vec3 up;\n\n      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n      // constants for atmospheric scattering\n      const float pi = 3.141592653589793238462643383279502884197169;\n\n      const float n = 1.0003; // refractive index of air\n      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)\n\n      // optical length at zenith for molecules\n      const float rayleighZenithLength = 8.4E3;\n      const float mieZenithLength = 1.25E3;\n      // 66 arc seconds -> degrees, and the cosine of that\n      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n      // 3.0 / ( 16.0 * pi )\n      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n      // 1.0 / ( 4.0 * pi )\n      const float ONE_OVER_FOURPI = 0.07957747154594767;\n\n      float rayleighPhase( float cosTheta ) {\n        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n      }\n\n      float hgPhase( float cosTheta, float g ) {\n        float g2 = pow( g, 2.0 );\n        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n      }\n\n      void main() {\n\n        vec3 direction = normalize( vWorldPosition - cameraPos );\n\n      // optical length\n      // cutoff angle at 90 to avoid singularity in next formula.\n        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );\n        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n        float sR = rayleighZenithLength * inverse;\n        float sM = mieZenithLength * inverse;\n\n      // combined extinction factor\n        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n      // in scattering\n        float cosTheta = dot( direction, vSunDirection );\n\n        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n        vec3 betaRTheta = vBetaR * rPhase;\n\n        float mPhase = hgPhase( cosTheta, mieDirectionalG );\n        vec3 betaMTheta = vBetaM * mPhase;\n\n        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n      // nightsky\n        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]\n        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]\n        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n        vec3 L0 = vec3( 0.1 ) * Fex;\n\n      // composition + solar disc\n        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n        gl_FragColor = vec4( retColor, 1.0 );\n\n      #include <tonemapping_fragment>\n      #include <${version >= 154 ? 'colorspace_fragment' : 'encodings_fragment'}>\n\n      }\n    `,\n  }\n\n  const material = new ShaderMaterial({\n    name: 'SkyShader',\n    fragmentShader: SkyShader.fragmentShader,\n    vertexShader: SkyShader.vertexShader,\n    uniforms: UniformsUtils.clone(SkyShader.uniforms),\n    side: BackSide,\n    depthWrite: false,\n  })\n\n  class Sky extends Mesh {\n    constructor() {\n      super(new BoxGeometry(1, 1, 1), material)\n    }\n\n    static SkyShader = SkyShader\n    static material = material\n  }\n\n  return Sky\n})()\n\nexport { Sky }\n"],"names":["Sky"],"mappings":";;;;;;;;;;;;;;;;;;AAgBK,MAAC,MAAuB,aAAA,GAAA,CAAA,MAAM;IACjC,MAAM,YAAY;QAChB,UAAU;YACR,WAAW;gBAAE,OAAO;YAAG;YACvB,UAAU;gBAAE,OAAO;YAAG;YACtB,gBAAgB;gBAAE,OAAO;YAAO;YAChC,iBAAiB;gBAAE,OAAO;YAAK;YAC/B,aAAa;gBAAE,OAAO,oJAAI,UAAA;YAAW;YACrC,IAAI;gBAAE,OAAO,oJAAI,UAAA,CAAQ,GAAG,GAAG,CAAC;YAAG;QACpC;QAED,cAAA,QAAA,GAAyB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAA,CAAA;QAyEzB,gBAAA,QAAA,GAA2B,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBAAA,4JAmFb,UAAA,IAAW,MAAM,wBAAwB,qBAAA;;;IAAA,CAAA;IAIxD;IAED,MAAM,WAAW,mJAAI,kBAAA,CAAe;QAClC,MAAM;QACN,gBAAgB,UAAU,cAAA;QAC1B,cAAc,UAAU,YAAA;QACxB,0JAAU,gBAAA,CAAc,KAAA,CAAM,UAAU,QAAQ;QAChD,MAAM,2JAAA;QACN,YAAY;IAChB,CAAG;IAED,MAAMA,6JAAY,OAAA,CAAK;QACrB,aAAc;YACZ,KAAA,CAAM,oJAAI,cAAA,CAAY,GAAG,GAAG,CAAC,GAAG,QAAQ;QACzC;IAIF;IAFC,cALIA,MAKG,aAAY;IACnB,cANIA,MAMG,YAAW;IAGpB,OAAOA;AACT,CAAA,EAAC","ignoreList":[0],"debugId":null}}]
}